(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(Qt,Je,O)=>{"use strict";O.d(Je,{Am:()=>Kn,Bd:()=>z,FA:()=>me,Fy:()=>Xe,I9:()=>xn,Im:()=>It,Ku:()=>We,Ll:()=>De,T9:()=>ae,Uj:()=>$e,XA:()=>Ve,ZQ:()=>J,bD:()=>Zt,cY:()=>Ne,eX:()=>fe,g:()=>et,gR:()=>Ct,hp:()=>Gn,jZ:()=>K,lT:()=>Mt,lV:()=>Le,nr:()=>st,sr:()=>je,tD:()=>en,u:()=>ge,zW:()=>Ee,zw:()=>ke});const j=function(ee){const se=[];let Ae=0;for(let lt=0;lt<ee.length;lt++){let qe=ee.charCodeAt(lt);qe<128?se[Ae++]=qe:qe<2048?(se[Ae++]=qe>>6|192,se[Ae++]=63&qe|128):55296==(64512&qe)&&lt+1<ee.length&&56320==(64512&ee.charCodeAt(lt+1))?(qe=65536+((1023&qe)<<10)+(1023&ee.charCodeAt(++lt)),se[Ae++]=qe>>18|240,se[Ae++]=qe>>12&63|128,se[Ae++]=qe>>6&63|128,se[Ae++]=63&qe|128):(se[Ae++]=qe>>12|224,se[Ae++]=qe>>6&63|128,se[Ae++]=63&qe|128)}return se},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ee,se){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ae=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,lt=[];for(let qe=0;qe<ee.length;qe+=3){const jt=ee[qe],pn=qe+1<ee.length,qn=pn?ee[qe+1]:0,er=qe+2<ee.length,Ur=er?ee[qe+2]:0;let Xt=(15&qn)<<2|Ur>>6,bi=63&Ur;er||(bi=64,pn||(Xt=64)),lt.push(Ae[jt>>2],Ae[(3&jt)<<4|qn>>4],Ae[Xt],Ae[bi])}return lt.join("")},encodeString(ee,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(ee):this.encodeByteArray(j(ee),se)},decodeString(ee,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(ee):function(ee){const se=[];let Ae=0,lt=0;for(;Ae<ee.length;){const qe=ee[Ae++];if(qe<128)se[lt++]=String.fromCharCode(qe);else if(qe>191&&qe<224){const jt=ee[Ae++];se[lt++]=String.fromCharCode((31&qe)<<6|63&jt)}else if(qe>239&&qe<365){const er=((7&qe)<<18|(63&ee[Ae++])<<12|(63&ee[Ae++])<<6|63&ee[Ae++])-65536;se[lt++]=String.fromCharCode(55296+(er>>10)),se[lt++]=String.fromCharCode(56320+(1023&er))}else{const jt=ee[Ae++],pn=ee[Ae++];se[lt++]=String.fromCharCode((15&qe)<<12|(63&jt)<<6|63&pn)}}return se.join("")}(this.decodeStringToByteArray(ee,se))},decodeStringToByteArray(ee,se){this.init_();const Ae=se?this.charToByteMapWebSafe_:this.charToByteMap_,lt=[];for(let qe=0;qe<ee.length;){const jt=Ae[ee.charAt(qe++)],qn=qe<ee.length?Ae[ee.charAt(qe)]:0;++qe;const Ur=qe<ee.length?Ae[ee.charAt(qe)]:64;++qe;const dn=qe<ee.length?Ae[ee.charAt(qe)]:64;if(++qe,null==jt||null==qn||null==Ur||null==dn)throw new ie;lt.push(jt<<2|qn>>4),64!==Ur&&(lt.push(qn<<4&240|Ur>>2),64!==dn&&lt.push(Ur<<6&192|dn))}return lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}};class ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $e=function(ee){return function(ee){const se=j(ee);return ce.encodeByteArray(se,!0)}(ee).replace(/\./g,"")},ge=function(ee){try{return ce.decodeString(ee,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function ke(ee,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===ee&&(ee={});break;case Array:ee=[];break;default:return se}for(const Ae in se)!se.hasOwnProperty(Ae)||!we(Ae)||(ee[Ae]=ke(ee[Ae],se[Ae]));return ee}function we(ee){return"__proto__"!==ee}const Oe=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ee=process.env.__FIREBASE_DEFAULTS__;return ee?JSON.parse(ee):void 0})()||(()=>{if(typeof document>"u")return;let ee;try{ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const se=ee&&ge(ee[1]);return se&&JSON.parse(se)})()}catch(ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ee}`)}},ae=()=>{var ee;return null===(ee=Oe())||void 0===ee?void 0:ee.config},Ve=ee=>{var se;return null===(se=Oe())||void 0===se?void 0:se[`_${ee}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,Ae)=>{this.resolve=se,this.reject=Ae})}wrapCallback(se){return(Ae,lt)=>{Ae?this.reject(Ae):this.resolve(lt),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(Ae):se(Ae,lt))}}}function Xe(ee,se){if(ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const lt=se||"demo-project",qe=ee.iat||0,jt=ee.sub||ee.user_id;if(!jt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pn=Object.assign({iss:`https://securetoken.google.com/${lt}`,aud:lt,iat:qe,exp:qe+3600,auth_time:qe,sub:jt,user_id:jt,firebase:{sign_in_provider:"custom",identities:{}}},ee);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(pn)),""].join(".")}function J(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function De(){var ee;const se=null===(ee=Oe())||void 0===ee?void 0:ee.forceEnvironment;if("node"===se)return!0;if("browser"===se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function z(){return"object"==typeof self&&self.self===self}function je(){const ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Mt(){const ee=J();return ee.indexOf("MSIE ")>=0||ee.indexOf("Trident/")>=0}function st(){return!De()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((ee,se)=>{try{let Ae=!0;const lt="validate-browser-context-for-indexeddb-analytics-module",qe=self.indexedDB.open(lt);qe.onsuccess=()=>{qe.result.close(),Ae||self.indexedDB.deleteDatabase(lt),ee(!0)},qe.onupgradeneeded=()=>{Ae=!1},qe.onerror=()=>{var jt;se((null===(jt=qe.error)||void 0===jt?void 0:jt.message)||"")}}catch(Ae){se(Ae)}})}class et extends Error{constructor(se,Ae,lt){super(Ae),this.code=se,this.customData=lt,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(se,Ae,lt){this.service=se,this.serviceName=Ae,this.errors=lt}create(se,...Ae){const lt=Ae[0]||{},qe=`${this.service}/${se}`,jt=this.errors[se],pn=jt?function pt(ee,se){return ee.replace(bt,(Ae,lt)=>{const qe=se[lt];return null!=qe?String(qe):`<${lt}?>`})}(jt,lt):"Error";return new et(qe,`${this.serviceName}: ${pn} (${qe}).`,lt)}}const bt=/\{\$([^}]+)}/g;function Ct(ee,se){return Object.prototype.hasOwnProperty.call(ee,se)}function It(ee){for(const se in ee)if(Object.prototype.hasOwnProperty.call(ee,se))return!1;return!0}function Zt(ee,se){if(ee===se)return!0;const Ae=Object.keys(ee),lt=Object.keys(se);for(const qe of Ae){if(!lt.includes(qe))return!1;const jt=ee[qe],pn=se[qe];if(Nn(jt)&&Nn(pn)){if(!Zt(jt,pn))return!1}else if(jt!==pn)return!1}for(const qe of lt)if(!Ae.includes(qe))return!1;return!0}function Nn(ee){return null!==ee&&"object"==typeof ee}function Kn(ee){const se=[];for(const[Ae,lt]of Object.entries(ee))Array.isArray(lt)?lt.forEach(qe=>{se.push(encodeURIComponent(Ae)+"="+encodeURIComponent(qe))}):se.push(encodeURIComponent(Ae)+"="+encodeURIComponent(lt));return se.length?"&"+se.join("&"):""}function xn(ee){const se={};return ee.replace(/^\?/,"").split("&").forEach(lt=>{if(lt){const[qe,jt]=lt.split("=");se[decodeURIComponent(qe)]=decodeURIComponent(jt)}}),se}function Gn(ee){const se=ee.indexOf("?");if(!se)return"";const Ae=ee.indexOf("#",se);return ee.substring(se,Ae>0?Ae:void 0)}function en(ee,se){const Ae=new ur(ee,se);return Ae.subscribe.bind(Ae)}class ur{constructor(se,Ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ae,this.task.then(()=>{se(this)}).catch(lt=>{this.error(lt)})}next(se){this.forEachObserver(Ae=>{Ae.next(se)})}error(se){this.forEachObserver(Ae=>{Ae.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,Ae,lt){let qe;if(void 0===se&&void 0===Ae&&void 0===lt)throw new Error("Missing Observer.");qe=function wr(ee,se){if("object"!=typeof ee||null===ee)return!1;for(const Ae of se)if(Ae in ee&&"function"==typeof ee[Ae])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:Ae,complete:lt},void 0===qe.next&&(qe.next=zn),void 0===qe.error&&(qe.error=zn),void 0===qe.complete&&(qe.complete=zn);const jt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?qe.error(this.finalError):qe.complete()}catch{}}),this.observers.push(qe),jt}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let Ae=0;Ae<this.observers.length;Ae++)this.sendOne(Ae,se)}sendOne(se,Ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{Ae(this.observers[se])}catch(lt){typeof console<"u"&&console.error&&console.error(lt)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}function We(ee){return ee&&ee._delegate?ee._delegate:ee}},1656:(Qt,Je,O)=>{"use strict";O.d(Je,{c:()=>oe,r:()=>le});const oe=(J,K)=>{J.componentOnReady?J.componentOnReady().then(De=>K(De)):le(()=>K(J))},le=J=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(J):"function"==typeof requestAnimationFrame?requestAnimationFrame(J):setTimeout(J)},6031:(Qt,Je,O)=>{"use strict";O.d(Je,{L:()=>u,a:()=>G,b:()=>oe,c:()=>j,d:()=>Te,g:()=>J});const u="ionViewWillEnter",G="ionViewDidEnter",oe="ionViewWillLeave",j="ionViewDidLeave",Te="ionViewWillUnload",J=K=>K.classList.contains("ion-page")?K:K.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||K},3503:(Qt,Je,O)=>{"use strict";O.d(Je,{c:()=>Ze});var u=O(8476),G=O(5638);let oe;const Te=Fe=>Fe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ce=Fe=>(void 0===oe&&(oe=void 0===Fe.style.animationName&&void 0!==Fe.style.webkitAnimationName?"-webkit-":""),oe),ie=(Fe,Oe,Ue)=>{const vt=Oe.startsWith("animation")?ce(Fe):"";Fe.style.setProperty(vt+Oe,Ue)},He=(Fe,Oe)=>{const Ue=Oe.startsWith("animation")?ce(Fe):"";Fe.style.removeProperty(Ue+Oe)},le=[],Me=(Fe=[],Oe)=>{if(void 0!==Oe){const Ue=Array.isArray(Oe)?Oe:[Oe];return[...Fe,...Ue]}return Fe},Ze=Fe=>{let Oe,Ue,vt,ae,Ve,Ne,z,Ee,fe,ye,Re,bt,xt,Xe=[],J=[],K=[],De=!1,je={},Le=[],ot=[],Mt={},an=0,kn=!1,st=!1,et=!0,me=!1,pt=!0,_t=!1;const $t=Fe,Pn=[],nn=[],vn=[],on=[],Ct=[],gt=[],It=[],ht=[],Zt=[],Nn=[],Sn=[],Kn="function"==typeof AnimationEffect||void 0!==u.w&&"function"==typeof u.w.AnimationEffect,xn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Kn,ln=()=>Sn,zn=(dt,B)=>{const q=B.findIndex(Pe=>Pe.c===dt);q>-1&&B.splice(q,1)},vi=(dt,B)=>((null!=B&&B.oneTimeCallback?nn:Pn).push({c:dt,o:B}),xt),oi=()=>{if(xn)Sn.forEach(dt=>{dt.cancel()}),Sn.length=0;else{const dt=on.slice();(0,G.r)(()=>{dt.forEach(B=>{He(B,"animation-name"),He(B,"animation-duration"),He(B,"animation-timing-function"),He(B,"animation-iteration-count"),He(B,"animation-delay"),He(B,"animation-play-state"),He(B,"animation-fill-mode"),He(B,"animation-direction")})})}},$n=()=>{gt.forEach(dt=>{null!=dt&&dt.parentNode&&dt.parentNode.removeChild(dt)}),gt.length=0},se=()=>void 0!==Ve?Ve:z?z.getFill():"both",Ae=()=>void 0!==fe?fe:void 0!==Ne?Ne:z?z.getDirection():"normal",lt=()=>kn?"linear":void 0!==vt?vt:z?z.getEasing():"linear",qe=()=>st?0:void 0!==ye?ye:void 0!==Ue?Ue:z?z.getDuration():0,jt=()=>void 0!==ae?ae:z?z.getIterations():1,pn=()=>void 0!==Re?Re:void 0!==Oe?Oe:z?z.getDelay():0,ut=()=>{0!==an&&(an--,0===an&&((()=>{Ie(),Zt.forEach(be=>be()),Nn.forEach(be=>be());const dt=et?1:0,B=Le,q=ot,Pe=Mt;on.forEach(be=>{const it=be.classList;B.forEach(ft=>it.add(ft)),q.forEach(ft=>it.remove(ft));for(const ft in Pe)Pe.hasOwnProperty(ft)&&ie(be,ft,Pe[ft])}),ye=void 0,fe=void 0,Re=void 0,Pn.forEach(be=>be.c(dt,xt)),nn.forEach(be=>be.c(dt,xt)),nn.length=0,pt=!0,et&&(me=!0),et=!0})(),z&&z.animationFinish()))},tt=(dt=!0)=>{$n();const B=(Fe=>(Fe.forEach(Oe=>{for(const Ue in Oe)if(Oe.hasOwnProperty(Ue)){const vt=Oe[Ue];if("easing"===Ue)Oe["animation-timing-function"]=vt,delete Oe[Ue];else{const ae=Te(Ue);ae!==Ue&&(Oe[ae]=vt,delete Oe[Ue])}}}),Fe))(Xe);on.forEach(q=>{if(B.length>0){const Pe=((Fe=[])=>Fe.map(Oe=>{const Ue=Oe.offset,vt=[];for(const ae in Oe)Oe.hasOwnProperty(ae)&&"offset"!==ae&&vt.push(`${ae}: ${Oe[ae]};`);return`${100*Ue}% { ${vt.join(" ")} }`}).join(" "))(B);bt=void 0!==Fe?Fe:(Fe=>{let Oe=le.indexOf(Fe);return Oe<0&&(Oe=le.push(Fe)-1),`ion-animation-${Oe}`})(Pe);const be=((Fe,Oe,Ue)=>{var vt;const ae=(Fe=>{const Oe=void 0!==Fe.getRootNode?Fe.getRootNode():Fe;return Oe.head||Oe})(Ue),Ve=ce(Ue),Ne=ae.querySelector("#"+Fe);if(Ne)return Ne;const Xe=(null!==(vt=Ue.ownerDocument)&&void 0!==vt?vt:document).createElement("style");return Xe.id=Fe,Xe.textContent=`@${Ve}keyframes ${Fe} { ${Oe} } @${Ve}keyframes ${Fe}-alt { ${Oe} }`,ae.appendChild(Xe),Xe})(bt,Pe,q);gt.push(be),ie(q,"animation-duration",`${qe()}ms`),ie(q,"animation-timing-function",lt()),ie(q,"animation-delay",`${pn()}ms`),ie(q,"animation-fill-mode",se()),ie(q,"animation-direction",Ae());const it=jt()===1/0?"infinite":jt().toString();ie(q,"animation-iteration-count",it),ie(q,"animation-play-state","paused"),dt&&ie(q,"animation-name",`${be.id}-alt`),(0,G.r)(()=>{ie(q,"animation-name",be.id||null)})}})},tn=(dt=!0)=>{(()=>{It.forEach(Pe=>Pe()),ht.forEach(Pe=>Pe());const dt=J,B=K,q=je;on.forEach(Pe=>{const be=Pe.classList;dt.forEach(it=>be.add(it)),B.forEach(it=>be.remove(it));for(const it in q)q.hasOwnProperty(it)&&ie(Pe,it,q[it])})})(),Xe.length>0&&(xn?(on.forEach(dt=>{const B=dt.animate(Xe,{id:$t,delay:pn(),duration:qe(),easing:lt(),iterations:jt(),fill:se(),direction:Ae()});B.pause(),Sn.push(B)}),Sn.length>0&&(Sn[0].onfinish=()=>{ut()})):tt(dt)),De=!0},Dn=dt=>{if(dt=Math.min(Math.max(dt,0),.9999),xn)Sn.forEach(B=>{B.currentTime=B.effect.getComputedTiming().delay+qe()*dt,B.pause()});else{const B=`-${qe()*dt}ms`;on.forEach(q=>{Xe.length>0&&(ie(q,"animation-delay",B),ie(q,"animation-play-state","paused"))})}},Ln=dt=>{Sn.forEach(B=>{B.effect.updateTiming({delay:pn(),duration:qe(),easing:lt(),iterations:jt(),fill:se(),direction:Ae()})}),void 0!==dt&&Dn(dt)},Un=(dt=!0,B)=>{(0,G.r)(()=>{on.forEach(q=>{ie(q,"animation-name",bt||null),ie(q,"animation-duration",`${qe()}ms`),ie(q,"animation-timing-function",lt()),ie(q,"animation-delay",void 0!==B?`-${B*qe()}ms`:`${pn()}ms`),ie(q,"animation-fill-mode",se()||null),ie(q,"animation-direction",Ae()||null);const Pe=jt()===1/0?"infinite":jt().toString();ie(q,"animation-iteration-count",Pe),dt&&ie(q,"animation-name",`${bt}-alt`),(0,G.r)(()=>{ie(q,"animation-name",bt||null)})})})},Bn=(dt=!1,B=!0,q)=>(dt&&Ct.forEach(Pe=>{Pe.update(dt,B,q)}),xn?Ln(q):Un(B,q),xt),nr=()=>{De&&(xn?Sn.forEach(dt=>{dt.pause()}):on.forEach(dt=>{ie(dt,"animation-play-state","paused")}),_t=!0)},he=()=>{Ee=void 0,ut()},Ie=()=>{Ee&&clearTimeout(Ee)},Yt=dt=>new Promise(B=>{null!=dt&&dt.sync&&(st=!0,vi(()=>st=!1,{oneTimeCallback:!0})),De||tn(),me&&(xn?(Dn(0),Ln()):Un(),me=!1),pt&&(an=Ct.length+1,pt=!1);const q=()=>{zn(Pe,nn),B()},Pe=()=>{zn(q,vn),B()};vi(Pe,{oneTimeCallback:!0}),((dt,B)=>{vn.push({c:dt,o:{oneTimeCallback:!0}})})(q),Ct.forEach(be=>{be.play()}),xn?(Sn.forEach(dt=>{dt.play()}),(0===Xe.length||0===on.length)&&ut()):(()=>{if(Ie(),(0,G.r)(()=>{on.forEach(dt=>{Xe.length>0&&ie(dt,"animation-play-state","running")})}),0===Xe.length||0===on.length)ut();else{const dt=pn()||0,B=qe()||0,q=jt()||1;isFinite(q)&&(Ee=setTimeout(he,dt+B*q+100)),((Fe,Oe)=>{let Ue;const vt={passive:!0},Ve=Ne=>{Fe===Ne.target&&(Ue&&Ue(),Ie(),(0,G.r)(()=>{on.forEach(dt=>{He(dt,"animation-duration"),He(dt,"animation-delay"),He(dt,"animation-play-state")}),(0,G.r)(ut)}))};Fe&&(Fe.addEventListener("webkitAnimationEnd",Ve,vt),Fe.addEventListener("animationend",Ve,vt),Ue=()=>{Fe.removeEventListener("webkitAnimationEnd",Ve,vt),Fe.removeEventListener("animationend",Ve,vt)})})(on[0])}})(),_t=!1}),yn=(dt,B)=>{const q=Xe[0];return void 0===q||void 0!==q.offset&&0!==q.offset?Xe=[{offset:0,[dt]:B},...Xe]:q[dt]=B,xt};return xt={parentAnimation:z,elements:on,childAnimations:Ct,id:$t,animationFinish:ut,from:yn,to:(dt,B)=>{const q=Xe[Xe.length-1];return void 0===q||void 0!==q.offset&&1!==q.offset?Xe=[...Xe,{offset:1,[dt]:B}]:q[dt]=B,xt},fromTo:(dt,B,q)=>yn(dt,B).to(dt,q),parent:dt=>(z=dt,xt),play:Yt,pause:()=>(Ct.forEach(dt=>{dt.pause()}),nr(),xt),stop:()=>{Ct.forEach(dt=>{dt.stop()}),De&&(oi(),De=!1),kn=!1,st=!1,pt=!0,fe=void 0,ye=void 0,Re=void 0,an=0,me=!1,et=!0,_t=!1,vn.forEach(dt=>dt.c(0,xt)),vn.length=0},destroy:dt=>(Ct.forEach(B=>{B.destroy(dt)}),(dt=>{oi(),dt&&$n()})(dt),on.length=0,Ct.length=0,Xe.length=0,Pn.length=0,nn.length=0,De=!1,pt=!0,xt),keyframes:dt=>{const B=Xe!==dt;return Xe=dt,B&&(dt=>{xn?ln().forEach(B=>{const q=B.effect;if(q.setKeyframes)q.setKeyframes(dt);else{const Pe=new KeyframeEffect(q.target,dt,q.getTiming());B.effect=Pe}}):tt()})(Xe),xt},addAnimation:dt=>{if(null!=dt)if(Array.isArray(dt))for(const B of dt)B.parent(xt),Ct.push(B);else dt.parent(xt),Ct.push(dt);return xt},addElement:dt=>{if(null!=dt)if(1===dt.nodeType)on.push(dt);else if(dt.length>=0)for(let B=0;B<dt.length;B++)on.push(dt[B]);else console.error("Invalid addElement value");return xt},update:Bn,fill:dt=>(Ve=dt,Bn(!0),xt),direction:dt=>(Ne=dt,Bn(!0),xt),iterations:dt=>(ae=dt,Bn(!0),xt),duration:dt=>(!xn&&0===dt&&(dt=1),Ue=dt,Bn(!0),xt),easing:dt=>(vt=dt,Bn(!0),xt),delay:dt=>(Oe=dt,Bn(!0),xt),getWebAnimations:ln,getKeyframes:()=>Xe,getFill:se,getDirection:Ae,getDelay:pn,getIterations:jt,getEasing:lt,getDuration:qe,afterAddRead:dt=>(Zt.push(dt),xt),afterAddWrite:dt=>(Nn.push(dt),xt),afterClearStyles:(dt=[])=>{for(const B of dt)Mt[B]="";return xt},afterStyles:(dt={})=>(Mt=dt,xt),afterRemoveClass:dt=>(ot=Me(ot,dt),xt),afterAddClass:dt=>(Le=Me(Le,dt),xt),beforeAddRead:dt=>(It.push(dt),xt),beforeAddWrite:dt=>(ht.push(dt),xt),beforeClearStyles:(dt=[])=>{for(const B of dt)je[B]="";return xt},beforeStyles:(dt={})=>(je=dt,xt),beforeRemoveClass:dt=>(K=Me(K,dt),xt),beforeAddClass:dt=>(J=Me(J,dt),xt),onFinish:vi,isRunning:()=>0!==an&&!_t,progressStart:(dt=!1,B)=>(Ct.forEach(q=>{q.progressStart(dt,B)}),nr(),kn=dt,De||tn(),Bn(!1,!0,B),xt),progressStep:dt=>(Ct.forEach(B=>{B.progressStep(dt)}),Dn(dt),xt),progressEnd:(dt,B,q)=>(kn=!1,Ct.forEach(Pe=>{Pe.progressEnd(dt,B,q)}),void 0!==q&&(ye=q),me=!1,et=!0,0===dt?(fe="reverse"===Ae()?"normal":"reverse","reverse"===fe&&(et=!1),xn?(Bn(),Dn(1-B)):(Re=(1-B)*qe()*-1,Bn(!1,!1))):1===dt&&(xn?(Bn(),Dn(B)):(Re=B*qe()*-1,Bn(!1,!1))),void 0!==dt&&!z&&Yt(),xt)}}},464:(Qt,Je,O)=>{"use strict";O.d(Je,{E:()=>ge,a:()=>u,s:()=>He});const u=le=>{try{if(le instanceof ie)return le.value;if(!j()||"string"!=typeof le||""===le)return le;if(le.includes("onload="))return"";const ke=document.createDocumentFragment(),we=document.createElement("div");ke.appendChild(we),we.innerHTML=le,ce.forEach(Fe=>{const Oe=ke.querySelectorAll(Fe);for(let Ue=Oe.length-1;Ue>=0;Ue--){const vt=Oe[Ue];vt.parentNode?vt.parentNode.removeChild(vt):ke.removeChild(vt);const ae=oe(vt);for(let Ve=0;Ve<ae.length;Ve++)G(ae[Ve])}});const xe=oe(ke);for(let Fe=0;Fe<xe.length;Fe++)G(xe[Fe]);const Me=document.createElement("div");Me.appendChild(ke);const Ze=Me.querySelector("div");return null!==Ze?Ze.innerHTML:Me.innerHTML}catch(ke){return console.error(ke),""}},G=le=>{if(le.nodeType&&1!==le.nodeType)return;if(typeof NamedNodeMap<"u"&&!(le.attributes instanceof NamedNodeMap))return void le.remove();for(let we=le.attributes.length-1;we>=0;we--){const xe=le.attributes.item(we),Me=xe.name;if(!Te.includes(Me.toLowerCase())){le.removeAttribute(Me);continue}const Ze=xe.value,Fe=le[Me];(null!=Ze&&Ze.toLowerCase().includes("javascript:")||null!=Fe&&Fe.toLowerCase().includes("javascript:"))&&le.removeAttribute(Me)}const ke=oe(le);for(let we=0;we<ke.length;we++)G(ke[we])},oe=le=>null!=le.children?le.children:le.childNodes,j=()=>{var le;const ke=window,we=null===(le=null==ke?void 0:ke.Ionic)||void 0===le?void 0:le.config;return!we||(we.get?we.get("sanitizerEnabled",!0):!0===we.sanitizerEnabled||void 0===we.sanitizerEnabled)},Te=["class","id","href","src","name","slot"],ce=["script","style","iframe","meta","link","object","embed"];class ie{constructor(ke){this.value=ke}}const He=le=>{const ke=window,we=ke.Ionic;if(!we||!we.config||"Object"===we.config.constructor.name)return ke.Ionic=ke.Ionic||{},ke.Ionic.config=Object.assign(Object.assign({},ke.Ionic.config),le),ke.Ionic.config},ge=!1},5938:(Qt,Je,O)=>{"use strict";O.d(Je,{C:()=>Te,a:()=>oe,d:()=>j});var u=O(467),G=O(5638);const oe=function(){var ce=(0,u.A)(function*(ie,He,$e,ge,le,ke){var we;if(ie)return ie.attachViewToDom(He,$e,le,ge);if(!(ke||"string"==typeof $e||$e instanceof HTMLElement))throw new Error("framework delegate is missing");const xe="string"==typeof $e?null===(we=He.ownerDocument)||void 0===we?void 0:we.createElement($e):$e;return ge&&ge.forEach(Me=>xe.classList.add(Me)),le&&Object.assign(xe,le),He.appendChild(xe),yield new Promise(Me=>(0,G.c)(xe,Me)),xe});return function(He,$e,ge,le,ke,we){return ce.apply(this,arguments)}}(),j=(ce,ie)=>{if(ie){if(ce)return ce.removeViewFromDom(ie.parentElement,ie);ie.remove()}return Promise.resolve()},Te=()=>{let ce,ie;return{attachViewToDom:function(){var ge=(0,u.A)(function*(le,ke,we={},xe=[]){var Me,Ze;let Fe;if(ce=le,ke){const Ue="string"==typeof ke?null===(Me=ce.ownerDocument)||void 0===Me?void 0:Me.createElement(ke):ke;xe.forEach(vt=>Ue.classList.add(vt)),Object.assign(Ue,we),ce.appendChild(Ue),Fe=Ue,yield new Promise(vt=>(0,G.c)(Ue,vt))}else if(ce.children.length>0&&("ION-MODAL"===ce.tagName||"ION-POPOVER"===ce.tagName)&&!(Fe=ce.children[0]).classList.contains("ion-delegate-host")){const vt=null===(Ze=ce.ownerDocument)||void 0===Ze?void 0:Ze.createElement("div");vt.classList.add("ion-delegate-host"),xe.forEach(ae=>vt.classList.add(ae)),vt.append(...ce.children),ce.appendChild(vt),Fe=vt}const Oe=document.querySelector("ion-app")||document.body;return ie=document.createComment("ionic teleport"),ce.parentNode.insertBefore(ie,ce),Oe.appendChild(ce),null!=Fe?Fe:ce});return function(ke,we){return ge.apply(this,arguments)}}(),removeViewFromDom:()=>(ce&&ie&&(ie.parentNode.insertBefore(ce,ie),ie.remove()),Promise.resolve())}}},8221:(Qt,Je,O)=>{"use strict";O.d(Je,{G:()=>Te});class G{constructor(ie,He,$e,ge,le){this.id=He,this.name=$e,this.disableScroll=le,this.priority=1e6*ge+He,this.ctrl=ie}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ie=this.ctrl.capture(this.name,this.id,this.priority);return ie&&this.disableScroll&&this.ctrl.disableScroll(this.id),ie}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class oe{constructor(ie,He,$e,ge){this.id=He,this.disable=$e,this.disableScroll=ge,this.ctrl=ie}block(){if(this.ctrl){if(this.disable)for(const ie of this.disable)this.ctrl.disableGesture(ie,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ie of this.disable)this.ctrl.enableGesture(ie,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const j="backdrop-no-scroll",Te=new class u{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ie){var He;return new G(this,this.newID(),ie.name,null!==(He=ie.priority)&&void 0!==He?He:0,!!ie.disableScroll)}createBlocker(ie={}){return new oe(this,this.newID(),ie.disable,!!ie.disableScroll)}start(ie,He,$e){return this.canStart(ie)?(this.requestedStart.set(He,$e),!0):(this.requestedStart.delete(He),!1)}capture(ie,He,$e){if(!this.start(ie,He,$e))return!1;const ge=this.requestedStart;let le=-1e4;if(ge.forEach(ke=>{le=Math.max(le,ke)}),le===$e){this.capturedId=He,ge.clear();const ke=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ie}});return document.dispatchEvent(ke),!0}return ge.delete(He),!1}release(ie){this.requestedStart.delete(ie),this.capturedId===ie&&(this.capturedId=void 0)}disableGesture(ie,He){let $e=this.disabledGestures.get(ie);void 0===$e&&($e=new Set,this.disabledGestures.set(ie,$e)),$e.add(He)}enableGesture(ie,He){const $e=this.disabledGestures.get(ie);void 0!==$e&&$e.delete(He)}disableScroll(ie){this.disabledScroll.add(ie),1===this.disabledScroll.size&&document.body.classList.add(j)}enableScroll(ie){this.disabledScroll.delete(ie),0===this.disabledScroll.size&&document.body.classList.remove(j)}canStart(ie){return!(void 0!==this.capturedId||this.isDisabled(ie))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ie){const He=this.disabledGestures.get(ie);return!!(He&&He.size>0)}newID(){return this.gestureId++,this.gestureId}}},6471:(Qt,Je,O)=>{"use strict";O.r(Je),O.d(Je,{MENU_BACK_BUTTON_PRIORITY:()=>$e,OVERLAY_BACK_BUTTON_PRIORITY:()=>He,blockHardwareBackButton:()=>ce,shouldUseCloseWatcher:()=>Te,startHardwareBackButton:()=>ie});var u=O(467),G=O(8476),oe=O(8886);O(773);const Te=()=>oe.c.get("experimentalCloseWatcher",!1)&&void 0!==G.w&&"CloseWatcher"in G.w,ce=()=>{document.addEventListener("backbutton",()=>{})},ie=()=>{const ge=document;let le=!1;const ke=()=>{if(le)return;let we=0,xe=[];const Me=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Oe,Ue){xe.push({priority:Oe,handler:Ue,id:we++})}}});ge.dispatchEvent(Me);const Ze=function(){var Oe=(0,u.A)(function*(Ue){try{if(null!=Ue&&Ue.handler){const vt=Ue.handler(Fe);null!=vt&&(yield vt)}}catch(vt){console.error(vt)}});return function(vt){return Oe.apply(this,arguments)}}(),Fe=()=>{if(xe.length>0){let Oe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};xe.forEach(Ue=>{Ue.priority>=Oe.priority&&(Oe=Ue)}),le=!0,xe=xe.filter(Ue=>Ue.id!==Oe.id),Ze(Oe).then(()=>le=!1)}};Fe()};if(Te()){let we;const xe=()=>{null==we||we.destroy(),we=new G.w.CloseWatcher,we.onclose=()=>{ke(),xe()}};xe()}else ge.addEventListener("backbutton",ke)},He=100,$e=99},5638:(Qt,Je,O)=>{"use strict";O.d(Je,{a:()=>He,b:()=>$e,c:()=>oe,d:()=>Ze,e:()=>Me,f:()=>xe,g:()=>ge,h:()=>we,i:()=>ie,j:()=>Ve,k:()=>Te,l:()=>Fe,m:()=>j,n:()=>ke,o:()=>Oe,p:()=>ae,q:()=>Ne,r:()=>le,s:()=>Xe,t:()=>u,u:()=>Ue,v:()=>vt});const u=(J,K=0)=>new Promise(De=>{G(J,K,De)}),G=(J,K=0,De)=>{let z,je;const Le={passive:!0},Mt=()=>{z&&z()},an=kn=>{(void 0===kn||J===kn.target)&&(Mt(),De(kn))};return J&&(J.addEventListener("webkitTransitionEnd",an,Le),J.addEventListener("transitionend",an,Le),je=setTimeout(an,K+500),z=()=>{void 0!==je&&(clearTimeout(je),je=void 0),J.removeEventListener("webkitTransitionEnd",an,Le),J.removeEventListener("transitionend",an,Le)}),Mt},oe=(J,K)=>{J.componentOnReady?J.componentOnReady().then(De=>K(De)):le(()=>K(J))},j=J=>void 0!==J.componentOnReady,Te=(J,K=[])=>{const De={};return K.forEach(z=>{J.hasAttribute(z)&&(null!==J.getAttribute(z)&&(De[z]=J.getAttribute(z)),J.removeAttribute(z))}),De},ce=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ie=(J,K)=>{let De=ce;return K&&K.length>0&&(De=De.filter(z=>!K.includes(z))),Te(J,De)},He=(J,K,De,z)=>{var je;if(typeof window<"u"){const Le=window,ot=null===(je=null==Le?void 0:Le.Ionic)||void 0===je?void 0:je.config;if(ot){const Mt=ot.get("_ael");if(Mt)return Mt(J,K,De,z);if(ot._ael)return ot._ael(J,K,De,z)}}return J.addEventListener(K,De,z)},$e=(J,K,De,z)=>{var je;if(typeof window<"u"){const Le=window,ot=null===(je=null==Le?void 0:Le.Ionic)||void 0===je?void 0:je.config;if(ot){const Mt=ot.get("_rel");if(Mt)return Mt(J,K,De,z);if(ot._rel)return ot._rel(J,K,De,z)}}return J.removeEventListener(K,De,z)},ge=(J,K=J)=>J.shadowRoot||K,le=J=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(J):"function"==typeof requestAnimationFrame?requestAnimationFrame(J):setTimeout(J),ke=J=>!!J.shadowRoot&&!!J.attachShadow,we=J=>{const K=J.closest("ion-item");return K?K.querySelector("ion-label"):null},xe=J=>{if(J.focus(),J.classList.contains("ion-focusable")){const K=J.closest("ion-app");K&&K.setFocus([J])}},Me=(J,K)=>{let De;const z=J.getAttribute("aria-labelledby"),je=J.id;let Le=null!==z&&""!==z.trim()?z:K+"-lbl",ot=null!==z&&""!==z.trim()?document.getElementById(z):we(J);return ot?(null===z&&(ot.id=Le),De=ot.textContent,ot.setAttribute("aria-hidden","true")):""!==je.trim()&&(ot=document.querySelector(`label[for="${je}"]`),ot&&(""!==ot.id?Le=ot.id:ot.id=Le=`${je}-lbl`,De=ot.textContent)),{label:ot,labelId:Le,labelText:De}},Ze=(J,K,De,z,je)=>{if(J||ke(K)){let Le=K.querySelector("input.aux-input");Le||(Le=K.ownerDocument.createElement("input"),Le.type="hidden",Le.classList.add("aux-input"),K.appendChild(Le)),Le.disabled=je,Le.name=De,Le.value=z||""}},Fe=(J,K,De)=>Math.max(J,Math.min(K,De)),Oe=(J,K)=>{if(!J){const De="ASSERT: "+K;throw console.error(De),new Error(De)}},Ue=J=>J.timeStamp||Date.now(),vt=J=>{if(J){const K=J.changedTouches;if(K&&K.length>0){const De=K[0];return{x:De.clientX,y:De.clientY}}if(void 0!==J.pageX)return{x:J.pageX,y:J.pageY}}return{x:0,y:0}},ae=J=>{const K="rtl"===document.dir;switch(J){case"start":return K;case"end":return!K;default:throw new Error(`"${J}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ve=(J,K)=>{const De=J._original||J;return{_original:J,emit:Ne(De.emit.bind(De),K)}},Ne=(J,K=0)=>{let De;return(...z)=>{clearTimeout(De),De=setTimeout(J,K,...z)}},Xe=(J,K)=>{if(null!=J||(J={}),null!=K||(K={}),J===K)return!0;const De=Object.keys(J);if(De.length!==Object.keys(K).length)return!1;for(const z of De)if(!(z in K)||J[z]!==K[z])return!1;return!0}},405:(Qt,Je,O)=>{"use strict";O.r(Je),O.d(Je,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>$e});var u=O(8221);const G=(we,xe,Me,Ze)=>{const Fe=oe(we)?{capture:!!Ze.capture,passive:!!Ze.passive}:!!Ze.capture;let Oe,Ue;return we.__zone_symbol__addEventListener?(Oe="__zone_symbol__addEventListener",Ue="__zone_symbol__removeEventListener"):(Oe="addEventListener",Ue="removeEventListener"),we[Oe](xe,Me,Fe),()=>{we[Ue](xe,Me,Fe)}},oe=we=>{if(void 0===j)try{const xe=Object.defineProperty({},"passive",{get:()=>{j=!0}});we.addEventListener("optsTest",()=>{},xe)}catch{j=!1}return!!j};let j;const ie=we=>we instanceof Document?we:we.ownerDocument,$e=we=>{let xe=!1,Me=!1,Ze=!0,Fe=!1;const Oe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},we),Ue=Oe.canStart,vt=Oe.onWillStart,ae=Oe.onStart,Ve=Oe.onEnd,Ne=Oe.notCaptured,Xe=Oe.onMove,J=Oe.threshold,K=Oe.passive,De=Oe.blurOnStart,z={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},je=((we,xe,Me)=>{const Ze=Me*(Math.PI/180),Fe="x"===we,Oe=Math.cos(Ze),Ue=xe*xe;let vt=0,ae=0,Ve=!1,Ne=0;return{start(Xe,J){vt=Xe,ae=J,Ne=0,Ve=!0},detect(Xe,J){if(!Ve)return!1;const K=Xe-vt,De=J-ae,z=K*K+De*De;if(z<Ue)return!1;const je=Math.sqrt(z),Le=(Fe?K:De)/je;return Ne=Le>Oe?1:Le<-Oe?-1:0,Ve=!1,!0},isGesture:()=>0!==Ne,getDirection:()=>Ne}})(Oe.direction,Oe.threshold,Oe.maxAngle),Le=u.G.createGesture({name:we.gestureName,priority:we.gesturePriority,disableScroll:we.disableScroll}),an=()=>{xe&&(Fe=!1,Xe&&Xe(z))},kn=()=>!!Le.capture()&&(xe=!0,Ze=!1,z.startX=z.currentX,z.startY=z.currentY,z.startTime=z.currentTime,vt?vt(z).then(Ee):Ee(),!0),Ee=()=>{De&&(()=>{if(typeof document<"u"){const me=document.activeElement;null!=me&&me.blur&&me.blur()}})(),ae&&ae(z),Ze=!0},fe=()=>{xe=!1,Me=!1,Fe=!1,Ze=!0,Le.release()},ye=me=>{const pt=xe,bt=Ze;if(fe(),bt){if(ge(z,me),pt)return void(Ve&&Ve(z));Ne&&Ne(z)}},Re=((we,xe,Me,Ze,Fe)=>{let Oe,Ue,vt,ae,Ve,Ne,Xe,J=0;const K=st=>{J=Date.now()+2e3,xe(st)&&(!Ue&&Me&&(Ue=G(we,"touchmove",Me,Fe)),vt||(vt=G(st.target,"touchend",z,Fe)),ae||(ae=G(st.target,"touchcancel",z,Fe)))},De=st=>{J>Date.now()||xe(st)&&(!Ne&&Me&&(Ne=G(ie(we),"mousemove",Me,Fe)),Xe||(Xe=G(ie(we),"mouseup",je,Fe)))},z=st=>{Le(),Ze&&Ze(st)},je=st=>{ot(),Ze&&Ze(st)},Le=()=>{Ue&&Ue(),vt&&vt(),ae&&ae(),Ue=vt=ae=void 0},ot=()=>{Ne&&Ne(),Xe&&Xe(),Ne=Xe=void 0},Mt=()=>{Le(),ot()},an=(st=!0)=>{st?(Oe||(Oe=G(we,"touchstart",K,Fe)),Ve||(Ve=G(we,"mousedown",De,Fe))):(Oe&&Oe(),Ve&&Ve(),Oe=Ve=void 0,Mt())};return{enable:an,stop:Mt,destroy:()=>{an(!1),Ze=Me=xe=void 0}}})(Oe.el,me=>{const pt=ke(me);return!(Me||!Ze||(le(me,z),z.startX=z.currentX,z.startY=z.currentY,z.startTime=z.currentTime=pt,z.velocityX=z.velocityY=z.deltaX=z.deltaY=0,z.event=me,Ue&&!1===Ue(z))||(Le.release(),!Le.start()))&&(Me=!0,0===J?kn():(je.start(z.startX,z.startY),!0))},me=>{xe?!Fe&&Ze&&(Fe=!0,ge(z,me),requestAnimationFrame(an)):(ge(z,me),je.detect(z.currentX,z.currentY)&&(!je.isGesture()||!kn())&&et())},ye,{capture:!1,passive:K}),et=()=>{fe(),Re.stop(),Ne&&Ne(z)};return{enable(me=!0){me||(xe&&ye(void 0),fe()),Re.enable(me)},destroy(){Le.destroy(),Re.destroy()}}},ge=(we,xe)=>{if(!xe)return;const Me=we.currentX,Ze=we.currentY,Fe=we.currentTime;le(xe,we);const Oe=we.currentX,Ue=we.currentY,ae=(we.currentTime=ke(xe))-Fe;if(ae>0&&ae<100){const Ne=(Ue-Ze)/ae;we.velocityX=(Oe-Me)/ae*.7+.3*we.velocityX,we.velocityY=.7*Ne+.3*we.velocityY}we.deltaX=Oe-we.startX,we.deltaY=Ue-we.startY,we.event=xe},le=(we,xe)=>{let Me=0,Ze=0;if(we){const Fe=we.changedTouches;if(Fe&&Fe.length>0){const Oe=Fe[0];Me=Oe.clientX,Ze=Oe.clientY}else void 0!==we.pageX&&(Me=we.pageX,Ze=we.pageY)}xe.currentX=Me,xe.currentY=Ze},ke=we=>we.timeStamp||Date.now()},6451:(Qt,Je,O)=>{"use strict";O.d(Je,{b:()=>ce,c:()=>ie,d:()=>He,e:()=>J,g:()=>z,l:()=>Ne,s:()=>K,t:()=>le,w:()=>Xe});var u=O(467),G=O(773),oe=O(5638);const ce="ionViewWillLeave",ie="ionViewDidLeave",He="ionViewWillUnload",le=je=>new Promise((Le,ot)=>{(0,G.w)(()=>{ke(je),we(je).then(Mt=>{Mt.animation&&Mt.animation.destroy(),xe(je),Le(Mt)},Mt=>{xe(je),ot(Mt)})})}),ke=je=>{const Le=je.enteringEl,ot=je.leavingEl;De(Le,ot,je.direction),je.showGoBack?Le.classList.add("can-go-back"):Le.classList.remove("can-go-back"),K(Le,!1),Le.style.setProperty("pointer-events","none"),ot&&(K(ot,!1),ot.style.setProperty("pointer-events","none"))},we=function(){var je=(0,u.A)(function*(Le){const ot=yield Me(Le);return ot&&G.B.isBrowser?Ze(ot,Le):Fe(Le)});return function(ot){return je.apply(this,arguments)}}(),xe=je=>{const Le=je.enteringEl,ot=je.leavingEl;Le.classList.remove("ion-page-invisible"),Le.style.removeProperty("pointer-events"),void 0!==ot&&(ot.classList.remove("ion-page-invisible"),ot.style.removeProperty("pointer-events"))},Me=function(){var je=(0,u.A)(function*(Le){return Le.leavingEl&&Le.animated&&0!==Le.duration?Le.animationBuilder?Le.animationBuilder:"ios"===Le.mode?(yield Promise.resolve().then(O.bind(O,7278))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,9354))).mdTransitionAnimation:void 0});return function(ot){return je.apply(this,arguments)}}(),Ze=function(){var je=(0,u.A)(function*(Le,ot){yield Oe(ot,!0);const Mt=Le(ot.baseEl,ot);ae(ot.enteringEl,ot.leavingEl);const an=yield vt(Mt,ot);return ot.progressCallback&&ot.progressCallback(void 0),an&&Ve(ot.enteringEl,ot.leavingEl),{hasCompleted:an,animation:Mt}});return function(ot,Mt){return je.apply(this,arguments)}}(),Fe=function(){var je=(0,u.A)(function*(Le){const ot=Le.enteringEl,Mt=Le.leavingEl;return yield Oe(Le,!1),ae(ot,Mt),Ve(ot,Mt),{hasCompleted:!0}});return function(ot){return je.apply(this,arguments)}}(),Oe=function(){var je=(0,u.A)(function*(Le,ot){(void 0!==Le.deepWait?Le.deepWait:ot)&&(yield Promise.all([J(Le.enteringEl),J(Le.leavingEl)])),yield Ue(Le.viewIsReady,Le.enteringEl)});return function(ot,Mt){return je.apply(this,arguments)}}(),Ue=function(){var je=(0,u.A)(function*(Le,ot){Le&&(yield Le(ot))});return function(ot,Mt){return je.apply(this,arguments)}}(),vt=(je,Le)=>{const ot=Le.progressCallback,Mt=new Promise(an=>{je.onFinish(kn=>an(1===kn))});return ot?(je.progressStart(!0),ot(je)):je.play(),Mt},ae=(je,Le)=>{Ne(Le,ce),Ne(je,"ionViewWillEnter")},Ve=(je,Le)=>{Ne(je,"ionViewDidEnter"),Ne(Le,ie)},Ne=(je,Le)=>{if(je){const ot=new CustomEvent(Le,{bubbles:!1,cancelable:!1});je.dispatchEvent(ot)}},Xe=()=>new Promise(je=>(0,oe.r)(()=>(0,oe.r)(()=>je()))),J=function(){var je=(0,u.A)(function*(Le){const ot=Le;if(ot){if(null!=ot.componentOnReady){if(null!=(yield ot.componentOnReady()))return}else if(null!=ot.__registerHost)return void(yield new Promise(an=>(0,oe.r)(an)));yield Promise.all(Array.from(ot.children).map(J))}});return function(ot){return je.apply(this,arguments)}}(),K=(je,Le)=>{Le?(je.setAttribute("aria-hidden","true"),je.classList.add("ion-page-hidden")):(je.hidden=!1,je.removeAttribute("aria-hidden"),je.classList.remove("ion-page-hidden"))},De=(je,Le,ot)=>{void 0!==je&&(je.style.zIndex="back"===ot?"99":"101"),void 0!==Le&&(Le.style.zIndex="100")},z=je=>je.classList.contains("ion-page")?je:je.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||je},773:(Qt,Je,O)=>{"use strict";O.d(Je,{B:()=>ke,H:()=>kn,a:()=>mo,b:()=>Br,c:()=>bt,d:()=>Pn,e:()=>Gr,f:()=>$t,g:()=>xt,h:()=>Mt,i:()=>se,j:()=>we,r:()=>tt,w:()=>dt});var u=O(467);let j,Te,ce,ie=!1,He=!1,$e=!1,ge=!1,le=!1;const ke={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},we=B=>{const q=new URL(B,nr.$resourcesUrl$);return q.origin!==wn.location.origin?q.href:q.pathname},vt="s-id",ae="sty-id",Xe="slot-fb{display:contents}slot-fb[hidden]{display:none}",J="http://www.w3.org/1999/xlink",K={},Le=B=>"object"==(B=typeof B)||"function"===B;function ot(B){var q,Pe,be;return null!==(be=null===(Pe=null===(q=B.head)||void 0===q?void 0:q.querySelector('meta[name="csp-nonce"]'))||void 0===Pe?void 0:Pe.getAttribute("content"))&&void 0!==be?be:void 0}const Mt=(B,q,...Pe)=>{let be=null,it=null,ft=null,kt=!1,Lt=!1;const zt=[],Gt=Ut=>{for(let En=0;En<Ut.length;En++)be=Ut[En],Array.isArray(be)?Gt(be):null!=be&&"boolean"!=typeof be&&((kt="function"!=typeof B&&!Le(be))&&(be=String(be)),kt&&Lt?zt[zt.length-1].$text$+=be:zt.push(kt?an(null,be):be),Lt=kt)};if(Gt(Pe),q){q.key&&(it=q.key),q.name&&(ft=q.name);{const Ut=q.className||q.class;Ut&&(q.class="object"!=typeof Ut?Ut:Object.keys(Ut).filter(En=>Ut[En]).join(" "))}}if("function"==typeof B)return B(null===q?{}:q,zt,Ee);const Wt=an(B,null);return Wt.$attrs$=q,zt.length>0&&(Wt.$children$=zt),Wt.$key$=it,Wt.$name$=ft,Wt},an=(B,q)=>({$flags$:0,$tag$:B,$text$:q,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),kn={},Ee={forEach:(B,q)=>B.map(fe).forEach(q),map:(B,q)=>B.map(fe).map(q).map(ye)},fe=B=>({vattrs:B.$attrs$,vchildren:B.$children$,vkey:B.$key$,vname:B.$name$,vtag:B.$tag$,vtext:B.$text$}),ye=B=>{if("function"==typeof B.vtag){const Pe=Object.assign({},B.vattrs);return B.vkey&&(Pe.key=B.vkey),B.vname&&(Pe.name=B.vname),Mt(B.vtag,Pe,...B.vchildren||[])}const q=an(B.vtag,B.vtext);return q.$attrs$=B.vattrs,q.$children$=B.vchildren,q.$key$=B.vkey,q.$name$=B.vname,q},et=(B,q,Pe,be,it,ft,kt)=>{let Lt,zt,Gt,Wt;if(1===ft.nodeType){for(Lt=ft.getAttribute("c-id"),Lt&&(zt=Lt.split("."),(zt[0]===kt||"0"===zt[0])&&(Gt={$flags$:0,$hostId$:zt[0],$nodeId$:zt[1],$depth$:zt[2],$index$:zt[3],$tag$:ft.tagName.toLowerCase(),$elm$:ft,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},q.push(Gt),ft.removeAttribute("c-id"),B.$children$||(B.$children$=[]),B.$children$[Gt.$index$]=Gt,B=Gt,be&&"0"===Gt.$depth$&&(be[Gt.$index$]=Gt.$elm$))),Wt=ft.childNodes.length-1;Wt>=0;Wt--)et(B,q,Pe,be,it,ft.childNodes[Wt],kt);if(ft.shadowRoot)for(Wt=ft.shadowRoot.childNodes.length-1;Wt>=0;Wt--)et(B,q,Pe,be,it,ft.shadowRoot.childNodes[Wt],kt)}else if(8===ft.nodeType)zt=ft.nodeValue.split("."),(zt[1]===kt||"0"===zt[1])&&(Lt=zt[0],Gt={$flags$:0,$hostId$:zt[1],$nodeId$:zt[2],$depth$:zt[3],$index$:zt[4],$elm$:ft,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Lt?(Gt.$elm$=ft.nextSibling,Gt.$elm$&&3===Gt.$elm$.nodeType&&(Gt.$text$=Gt.$elm$.textContent,q.push(Gt),ft.remove(),B.$children$||(B.$children$=[]),B.$children$[Gt.$index$]=Gt,be&&"0"===Gt.$depth$&&(be[Gt.$index$]=Gt.$elm$))):Gt.$hostId$===kt&&("s"===Lt?(Gt.$tag$="slot",ft["s-sn"]=zt[5]?Gt.$name$=zt[5]:"",ft["s-sr"]=!0,be&&(Gt.$elm$=Er.createElement(Gt.$tag$),Gt.$name$&&Gt.$elm$.setAttribute("name",Gt.$name$),ft.parentNode.insertBefore(Gt.$elm$,ft),ft.remove(),"0"===Gt.$depth$&&(be[Gt.$index$]=Gt.$elm$)),Pe.push(Gt),B.$children$||(B.$children$=[]),B.$children$[Gt.$index$]=Gt):"r"===Lt&&(be?ft.remove():(it["s-cr"]=ft,ft["s-cn"]=!0))));else if(B&&"style"===B.$tag$){const Ut=an(null,ft.textContent);Ut.$elm$=ft,Ut.$index$="0",B.$children$=[Ut]}},me=(B,q)=>{if(1===B.nodeType){let Pe=0;for(;Pe<B.childNodes.length;Pe++)me(B.childNodes[Pe],q);if(B.shadowRoot)for(Pe=0;Pe<B.shadowRoot.childNodes.length;Pe++)me(B.shadowRoot.childNodes[Pe],q)}else if(8===B.nodeType){const Pe=B.nodeValue.split(".");"o"===Pe[0]&&(q.set(Pe[1]+"."+Pe[2],B),B.nodeValue="",B["s-en"]=Pe[3])}},bt=B=>Ir.push(B),xt=B=>ut(B).$modeName$,$t=B=>ut(B).$hostElement$,Pn=(B,q,Pe)=>{const be=$t(B);return{emit:it=>nn(be,q,{bubbles:!!(4&Pe),composed:!!(2&Pe),cancelable:!!(1&Pe),detail:it})}},nn=(B,q,Pe)=>{const be=nr.ce(q,Pe);return B.dispatchEvent(be),be},vn=new WeakMap,on=(B,q,Pe)=>{let be=Bn.get(B);pe&&Pe?(be=be||new CSSStyleSheet,"string"==typeof be?be=q:be.replaceSync(q)):be=q,Bn.set(B,be)},Ct=(B,q,Pe)=>{var be;const it=It(q,Pe),ft=Bn.get(it);if(B=11===B.nodeType?B:Er,ft)if("string"==typeof ft){let Lt,kt=vn.get(B=B.head||B);if(kt||vn.set(B,kt=new Set),!kt.has(it)){if(B.host&&(Lt=B.querySelector(`[${ae}="${it}"]`)))Lt.innerHTML=ft;else{Lt=Er.createElement("style"),Lt.innerHTML=ft;const zt=null!==(be=nr.$nonce$)&&void 0!==be?be:ot(Er);null!=zt&&Lt.setAttribute("nonce",zt),B.insertBefore(Lt,B.querySelector("link"))}4&q.$flags$&&(Lt.innerHTML+=Xe),kt&&kt.add(it)}}else B.adoptedStyleSheets.includes(ft)||(B.adoptedStyleSheets=[...B.adoptedStyleSheets,ft]);return it},It=(B,q)=>"sc-"+(q&&32&B.$flags$?B.$tagName$+"-"+q:B.$tagName$),ht=B=>B.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Zt=(B,q,Pe,be,it,ft)=>{if(Pe!==be){let kt=tn(B,q),Lt=q.toLowerCase();if("class"===q){const zt=B.classList,Gt=Sn(Pe),Wt=Sn(be);zt.remove(...Gt.filter(Ut=>Ut&&!Wt.includes(Ut))),zt.add(...Wt.filter(Ut=>Ut&&!Gt.includes(Ut)))}else if("style"===q){for(const zt in Pe)(!be||null==be[zt])&&(zt.includes("-")?B.style.removeProperty(zt):B.style[zt]="");for(const zt in be)(!Pe||be[zt]!==Pe[zt])&&(zt.includes("-")?B.style.setProperty(zt,be[zt]):B.style[zt]=be[zt])}else if("key"!==q)if("ref"===q)be&&be(B);else if(kt||"o"!==q[0]||"n"!==q[1]){const zt=Le(be);if((kt||zt&&null!==be)&&!it)try{if(B.tagName.includes("-"))B[q]=be;else{const Wt=null==be?"":be;"list"===q?kt=!1:(null==Pe||B[q]!=Wt)&&(B[q]=Wt)}}catch{}let Gt=!1;Lt!==(Lt=Lt.replace(/^xlink\:?/,""))&&(q=Lt,Gt=!0),null==be||!1===be?(!1!==be||""===B.getAttribute(q))&&(Gt?B.removeAttributeNS(J,q):B.removeAttribute(q)):(!kt||4&ft||it)&&!zt&&(be=!0===be?"":be,Gt?B.setAttributeNS(J,q,be):B.setAttribute(q,be))}else if(q="-"===q[2]?q.slice(3):tn(wn,Lt)?Lt.slice(2):Lt[2]+q.slice(3),Pe||be){const zt=q.endsWith(Kn);q=q.replace(xn,""),Pe&&nr.rel(B,q,Pe,zt),be&&nr.ael(B,q,be,zt)}}},Nn=/\s/,Sn=B=>B?B.split(Nn):[],Kn="Capture",xn=new RegExp(Kn+"$"),Gn=(B,q,Pe,be)=>{const it=11===q.$elm$.nodeType&&q.$elm$.host?q.$elm$.host:q.$elm$,ft=B&&B.$attrs$||K,kt=q.$attrs$||K;for(be in ft)be in kt||Zt(it,be,ft[be],void 0,Pe,q.$flags$);for(be in kt)Zt(it,be,ft[be],kt[be],Pe,q.$flags$)},ln=(B,q,Pe,be)=>{var it;const ft=q.$children$[Pe];let Lt,zt,Gt,kt=0;if(ie||($e=!0,"slot"===ft.$tag$&&(j&&be.classList.add(j+"-s"),ft.$flags$|=ft.$children$?2:1)),null!==ft.$text$)Lt=ft.$elm$=Er.createTextNode(ft.$text$);else if(1&ft.$flags$)Lt=ft.$elm$=Er.createTextNode("");else{if(ge||(ge="svg"===ft.$tag$),Lt=ft.$elm$=Er.createElementNS(ge?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ft.$flags$?"slot-fb":ft.$tag$),ge&&"foreignObject"===ft.$tag$&&(ge=!1),Gn(null,ft,ge),(B=>null!=B)(j)&&Lt["s-si"]!==j&&Lt.classList.add(Lt["s-si"]=j),ft.$children$)for(kt=0;kt<ft.$children$.length;++kt)zt=ln(B,ft,kt,Lt),zt&&Lt.appendChild(zt);"svg"===ft.$tag$?ge=!1:"foreignObject"===Lt.tagName&&(ge=!0)}return Lt["s-hn"]=ce,3&ft.$flags$&&(Lt["s-sr"]=!0,Lt["s-cr"]=Te,Lt["s-sn"]=ft.$name$||"",Lt["s-rf"]=null===(it=ft.$attrs$)||void 0===it?void 0:it.ref,Gt=B&&B.$children$&&B.$children$[Pe],Gt&&Gt.$tag$===ft.$tag$&&B.$elm$&&en(B.$elm$,!1)),Lt},en=(B,q)=>{nr.$flags$|=1;const Pe=Array.from(B.childNodes);for(let be=Pe.length-1;be>=0;be--){const it=Pe[be];it["s-hn"]!==ce&&it["s-ol"]&&(vi(it).insertBefore(it,Dr(it)),it["s-ol"].remove(),it["s-ol"]=void 0,it["s-sh"]=void 0,$e=!0),q&&en(it,q)}nr.$flags$&=-2},ur=(B,q,Pe,be,it,ft)=>{let Lt,kt=B["s-cr"]&&B["s-cr"].parentNode||B;for(kt.shadowRoot&&kt.tagName===ce&&(kt=kt.shadowRoot);it<=ft;++it)be[it]&&(Lt=ln(null,Pe,it,B),Lt&&(be[it].$elm$=Lt,kt.insertBefore(Lt,Dr(q))))},mr=(B,q,Pe)=>{for(let be=q;be<=Pe;++be){const it=B[be];if(it){const ft=it.$elm$;br(it),ft&&(He=!0,ft["s-ol"]?ft["s-ol"].remove():en(ft,!0),ft.remove())}}},zn=(B,q,Pe=!1)=>B.$tag$===q.$tag$&&("slot"===B.$tag$?B.$name$===q.$name$:!!Pe||B.$key$===q.$key$),Dr=B=>B&&B["s-ol"]||B,vi=B=>(B["s-ol"]?B["s-ol"]:B).parentNode,_n=(B,q,Pe=!1)=>{const be=q.$elm$=B.$elm$,it=B.$children$,ft=q.$children$,kt=q.$tag$,Lt=q.$text$;let zt;null===Lt?(ge="svg"===kt||"foreignObject"!==kt&&ge,"slot"===kt&&!ie||Gn(B,q,ge),null!==it&&null!==ft?((B,q,Pe,be,it=!1)=>{let Pr,A,ft=0,kt=0,Lt=0,zt=0,Gt=q.length-1,Wt=q[0],Ut=q[Gt],En=be.length-1,rr=be[0],hr=be[En];for(;ft<=Gt&&kt<=En;)if(null==Wt)Wt=q[++ft];else if(null==Ut)Ut=q[--Gt];else if(null==rr)rr=be[++kt];else if(null==hr)hr=be[--En];else if(zn(Wt,rr,it))_n(Wt,rr,it),Wt=q[++ft],rr=be[++kt];else if(zn(Ut,hr,it))_n(Ut,hr,it),Ut=q[--Gt],hr=be[--En];else if(zn(Wt,hr,it))("slot"===Wt.$tag$||"slot"===hr.$tag$)&&en(Wt.$elm$.parentNode,!1),_n(Wt,hr,it),B.insertBefore(Wt.$elm$,Ut.$elm$.nextSibling),Wt=q[++ft],hr=be[--En];else if(zn(Ut,rr,it))("slot"===Wt.$tag$||"slot"===hr.$tag$)&&en(Ut.$elm$.parentNode,!1),_n(Ut,rr,it),B.insertBefore(Ut.$elm$,Wt.$elm$),Ut=q[--Gt],rr=be[++kt];else{for(Lt=-1,zt=ft;zt<=Gt;++zt)if(q[zt]&&null!==q[zt].$key$&&q[zt].$key$===rr.$key$){Lt=zt;break}Lt>=0?(A=q[Lt],A.$tag$!==rr.$tag$?Pr=ln(q&&q[kt],Pe,Lt,B):(_n(A,rr,it),q[Lt]=void 0,Pr=A.$elm$),rr=be[++kt]):(Pr=ln(q&&q[kt],Pe,kt,B),rr=be[++kt]),Pr&&vi(Wt.$elm$).insertBefore(Pr,Dr(Wt.$elm$))}ft>Gt?ur(B,null==be[En+1]?null:be[En+1].$elm$,Pe,be,kt,En):kt>En&&mr(q,ft,Gt)})(be,it,q,ft,Pe):null!==ft?(null!==B.$text$&&(be.textContent=""),ur(be,null,q,ft,0,ft.length-1)):null!==it&&mr(it,0,it.length-1),ge&&"svg"===kt&&(ge=!1)):(zt=be["s-cr"])?zt.parentNode.textContent=Lt:B.$text$!==Lt&&(be.data=Lt)},oi=B=>{const q=B.childNodes;for(const Pe of q)if(1===Pe.nodeType){if(Pe["s-sr"]){const be=Pe["s-sn"];Pe.hidden=!1;for(const it of q)if(it!==Pe)if(it["s-hn"]!==Pe["s-hn"]||""!==be){if(1===it.nodeType&&(be===it.getAttribute("slot")||be===it["s-sn"])){Pe.hidden=!0;break}}else if(1===it.nodeType||3===it.nodeType&&""!==it.textContent.trim()){Pe.hidden=!0;break}}oi(Pe)}},$n=[],Wn=B=>{let q,Pe,be;for(const it of B.childNodes){if(it["s-sr"]&&(q=it["s-cr"])&&q.parentNode){Pe=q.parentNode.childNodes;const ft=it["s-sn"];for(be=Pe.length-1;be>=0;be--)if(q=Pe[be],!q["s-cn"]&&!q["s-nr"]&&q["s-hn"]!==it["s-hn"])if(kr(q,ft)){let kt=$n.find(Lt=>Lt.$nodeToRelocate$===q);He=!0,q["s-sn"]=q["s-sn"]||ft,kt?(kt.$nodeToRelocate$["s-sh"]=it["s-hn"],kt.$slotRefNode$=it):(q["s-sh"]=it["s-hn"],$n.push({$slotRefNode$:it,$nodeToRelocate$:q})),q["s-sr"]&&$n.map(Lt=>{kr(Lt.$nodeToRelocate$,q["s-sn"])&&(kt=$n.find(zt=>zt.$nodeToRelocate$===q),kt&&!Lt.$slotRefNode$&&(Lt.$slotRefNode$=kt.$slotRefNode$))})}else $n.some(kt=>kt.$nodeToRelocate$===q)||$n.push({$nodeToRelocate$:q})}1===it.nodeType&&Wn(it)}},kr=(B,q)=>1===B.nodeType?null===B.getAttribute("slot")&&""===q||B.getAttribute("slot")===q:B["s-sn"]===q||""===q,br=B=>{B.$attrs$&&B.$attrs$.ref&&B.$attrs$.ref(null),B.$children$&&B.$children$.map(br)},hi=(B,q)=>{q&&!B.$onRenderResolve$&&q["s-p"]&&q["s-p"].push(new Promise(Pe=>B.$onRenderResolve$=Pe))},Qr=(B,q)=>{if(B.$flags$|=16,!(4&B.$flags$))return hi(B,B.$ancestorComponent$),dt(()=>si(B,q));B.$flags$|=512},si=(B,q)=>{const be=B.$lazyInstance$;let it;return q&&(B.$flags$|=256,B.$queuedListeners$&&(B.$queuedListeners$.map(([ft,kt])=>lt(be,ft,kt)),B.$queuedListeners$=void 0),it=lt(be,"componentWillLoad")),it=Ye(it,()=>lt(be,"componentWillRender")),Ye(it,()=>mt(B,be,q))},Ye=(B,q)=>ze(B)?B.then(q):q(),ze=B=>B instanceof Promise||B&&B.then&&"function"==typeof B.then,mt=function(){var B=(0,u.A)(function*(q,Pe,be){var it;const ft=q.$hostElement$,Lt=ft["s-rc"];be&&(B=>{const q=B.$cmpMeta$,Pe=B.$hostElement$,be=q.$flags$,ft=Ct(Pe.shadowRoot?Pe.shadowRoot:Pe.getRootNode(),q,B.$modeName$);10&be&&(Pe["s-sc"]=ft,Pe.classList.add(ft+"-h"),2&be&&Pe.classList.add(ft+"-s"))})(q);We(q,Pe,ft,be),Lt&&(Lt.map(Gt=>Gt()),ft["s-rc"]=void 0);{const Gt=null!==(it=ft["s-p"])&&void 0!==it?it:[],Wt=()=>ee(q);0===Gt.length?Wt():(Promise.all(Gt).then(Wt),q.$flags$|=4,Gt.length=0)}});return function(Pe,be,it){return B.apply(this,arguments)}}(),We=(B,q,Pe,be)=>{try{q=q.render&&q.render(),B.$flags$&=-17,B.$flags$|=2,((B,q,Pe=!1)=>{var be,it,ft,kt;const Lt=B.$hostElement$,zt=B.$cmpMeta$,Gt=B.$vnode$||an(null,null),Wt=(B=>B&&B.$tag$===kn)(q)?q:Mt(null,null,q);if(ce=Lt.tagName,zt.$attrsToReflect$&&(Wt.$attrs$=Wt.$attrs$||{},zt.$attrsToReflect$.map(([Ut,En])=>Wt.$attrs$[En]=Lt[Ut])),Pe&&Wt.$attrs$)for(const Ut of Object.keys(Wt.$attrs$))Lt.hasAttribute(Ut)&&!["key","ref","style","class"].includes(Ut)&&(Wt.$attrs$[Ut]=Lt[Ut]);if(Wt.$tag$=null,Wt.$flags$|=4,B.$vnode$=Wt,Wt.$elm$=Gt.$elm$=Lt.shadowRoot||Lt,j=Lt["s-sc"],ie=!!(1&zt.$flags$),Te=Lt["s-cr"],He=!1,_n(Gt,Wt,Pe),nr.$flags$|=1,$e){Wn(Wt.$elm$);for(const Ut of $n){const En=Ut.$nodeToRelocate$;if(!En["s-ol"]){const rr=Er.createTextNode("");rr["s-nr"]=En,En.parentNode.insertBefore(En["s-ol"]=rr,En)}}for(const Ut of $n){const En=Ut.$nodeToRelocate$,rr=Ut.$slotRefNode$;if(rr){const hr=rr.parentNode;let Pr=rr.nextSibling;{let A=null===(be=En["s-ol"])||void 0===be?void 0:be.previousSibling;for(;A;){let te=null!==(it=A["s-nr"])&&void 0!==it?it:null;if(te&&te["s-sn"]===En["s-sn"]&&hr===te.parentNode&&(te=te.nextSibling,!te||!te["s-nr"])){Pr=te;break}A=A.previousSibling}}(!Pr&&hr!==En.parentNode||En.nextSibling!==Pr)&&En!==Pr&&(!En["s-hn"]&&En["s-ol"]&&(En["s-hn"]=En["s-ol"].parentNode.nodeName),hr.insertBefore(En,Pr),1===En.nodeType&&(En.hidden=null!==(ft=En["s-ih"])&&void 0!==ft&&ft)),En&&"function"==typeof rr["s-rf"]&&rr["s-rf"](En)}else 1===En.nodeType&&(Pe&&(En["s-ih"]=null!==(kt=En.hidden)&&void 0!==kt&&kt),En.hidden=!0)}}He&&oi(Wt.$elm$),nr.$flags$&=-2,$n.length=0,Te=void 0})(B,q,be)}catch(it){Dn(it,B.$hostElement$)}return null},ee=B=>{const Pe=B.$hostElement$,it=B.$lazyInstance$,ft=B.$ancestorComponent$;lt(it,"componentDidRender"),64&B.$flags$?lt(it,"componentDidUpdate"):(B.$flags$|=64,qe(Pe),lt(it,"componentDidLoad"),B.$onReadyResolve$(Pe),ft||Ae()),B.$onInstanceResolve$(Pe),B.$onRenderResolve$&&(B.$onRenderResolve$(),B.$onRenderResolve$=void 0),512&B.$flags$&&On(()=>Qr(B,!1)),B.$flags$&=-517},se=B=>{{const q=ut(B),Pe=q.$hostElement$.isConnected;return Pe&&2==(18&q.$flags$)&&Qr(q,!1),Pe}},Ae=B=>{qe(Er.documentElement),On(()=>nn(wn,"appload",{detail:{namespace:"ionic"}}))},lt=(B,q,Pe)=>{if(B&&B[q])try{return B[q](Pe)}catch(be){Dn(be)}},qe=B=>B.classList.add("hydrated"),qn=(B,q,Pe)=>{var be;const it=B.prototype;if(q.$members$){B.watchers&&(q.$watchers$=B.watchers);const ft=Object.entries(q.$members$);if(ft.map(([kt,[Lt]])=>{31&Lt||2&Pe&&32&Lt?Object.defineProperty(it,kt,{get(){return((B,q)=>ut(this).$instanceValues$.get(q))(0,kt)},set(zt){((B,q,Pe,be)=>{const it=ut(B),ft=it.$hostElement$,kt=it.$instanceValues$.get(q),Lt=it.$flags$,zt=it.$lazyInstance$;Pe=((B,q)=>null==B||Le(B)?B:4&q?"false"!==B&&(""===B||!!B):2&q?parseFloat(B):1&q?String(B):B)(Pe,be.$members$[q][0]);const Gt=Number.isNaN(kt)&&Number.isNaN(Pe);if((!(8&Lt)||void 0===kt)&&Pe!==kt&&!Gt&&(it.$instanceValues$.set(q,Pe),zt)){if(be.$watchers$&&128&Lt){const Ut=be.$watchers$[q];Ut&&Ut.map(En=>{try{zt[En](Pe,kt,q)}catch(rr){Dn(rr,ft)}})}2==(18&Lt)&&Qr(it,!1)}})(this,kt,zt,q)},configurable:!0,enumerable:!0}):1&Pe&&64&Lt&&Object.defineProperty(it,kt,{value(...zt){var Gt;const Wt=ut(this);return null===(Gt=null==Wt?void 0:Wt.$onInstancePromise$)||void 0===Gt?void 0:Gt.then(()=>{var Ut;return null===(Ut=Wt.$lazyInstance$)||void 0===Ut?void 0:Ut[kt](...zt)})}})}),1&Pe){const kt=new Map;it.attributeChangedCallback=function(Lt,zt,Gt){nr.jmp(()=>{var Wt;const Ut=kt.get(Lt);if(this.hasOwnProperty(Ut))Gt=this[Ut],delete this[Ut];else{if(it.hasOwnProperty(Ut)&&"number"==typeof this[Ut]&&this[Ut]==Gt)return;if(null==Ut){const En=ut(this),rr=null==En?void 0:En.$flags$;if(rr&&!(8&rr)&&128&rr&&Gt!==zt){const hr=En.$lazyInstance$,Pr=null===(Wt=q.$watchers$)||void 0===Wt?void 0:Wt[Lt];null==Pr||Pr.forEach(A=>{null!=hr[A]&&hr[A].call(hr,Gt,zt,Lt)})}return}}this[Ut]=(null!==Gt||"boolean"!=typeof this[Ut])&&Gt})},B.observedAttributes=Array.from(new Set([...Object.keys(null!==(be=q.$watchers$)&&void 0!==be?be:{}),...ft.filter(([Lt,zt])=>15&zt[0]).map(([Lt,zt])=>{var Gt;const Wt=zt[1]||Lt;return kt.set(Wt,Lt),512&zt[0]&&(null===(Gt=q.$attrsToReflect$)||void 0===Gt||Gt.push([Lt,Wt])),Wt})]))}}return B},er=function(){var B=(0,u.A)(function*(q,Pe,be,it){let ft;if(!(32&Pe.$flags$)){if(Pe.$flags$|=32,be.$lazyBundleId$){if(ft=Un(be),ft.then){const Wt=()=>{};ft=yield ft,Wt()}ft.isProxied||(be.$watchers$=ft.watchers,qn(ft,be,2),ft.isProxied=!0);const Gt=()=>{};Pe.$flags$|=8;try{new ft(Pe)}catch(Wt){Dn(Wt)}Pe.$flags$&=-9,Pe.$flags$|=128,Gt(),Ur(Pe.$lazyInstance$)}else ft=q.constructor,customElements.whenDefined(be.$tagName$).then(()=>Pe.$flags$|=128);if(ft.style){let Gt=ft.style;"string"!=typeof Gt&&(Gt=Gt[Pe.$modeName$=(B=>Ir.map(q=>q(B)).find(q=>!!q))(q)]);const Wt=It(be,Pe.$modeName$);if(!Bn.has(Wt)){const Ut=()=>{};on(Wt,Gt,!!(1&be.$flags$)),Ut()}}}const kt=Pe.$ancestorComponent$,Lt=()=>Qr(Pe,!0);kt&&kt["s-rc"]?kt["s-rc"].push(Lt):Lt()});return function(Pe,be,it,ft){return B.apply(this,arguments)}}(),Ur=B=>{lt(B,"connectedCallback")},dn=B=>{const q=B["s-cr"]=Er.createComment("");q["s-cn"]=!0,B.insertBefore(q,B.firstChild)},Xt=B=>{lt(B,"disconnectedCallback")},bi=function(){var B=(0,u.A)(function*(q){if(!(1&nr.$flags$)){const Pe=ut(q);Pe.$rmListeners$&&(Pe.$rmListeners$.map(be=>be()),Pe.$rmListeners$=void 0),null!=Pe&&Pe.$lazyInstance$?Xt(Pe.$lazyInstance$):null!=Pe&&Pe.$onReadyPromise$&&Pe.$onReadyPromise$.then(()=>Xt(Pe.$lazyInstance$))}});return function(Pe){return B.apply(this,arguments)}}(),Br=(B,q={})=>{var Pe;const it=[],ft=q.exclude||[],kt=wn.customElements,Lt=Er.head,zt=Lt.querySelector("meta[charset]"),Gt=Er.createElement("style"),Wt=[],Ut=Er.querySelectorAll(`[${ae}]`);let En,rr=!0,hr=0;for(Object.assign(nr,q),nr.$resourcesUrl$=new URL(q.resourcesUrl||"./",Er.baseURI).href,nr.$flags$|=2;hr<Ut.length;hr++)on(Ut[hr].getAttribute(ae),ht(Ut[hr].innerHTML),!0);let Pr=!1;if(B.map(A=>{A[1].map(te=>{var P;const re={$flags$:te[0],$tagName$:te[1],$members$:te[2],$listeners$:te[3]};4&re.$flags$&&(Pr=!0),re.$members$=te[2],re.$listeners$=te[3],re.$attrsToReflect$=[],re.$watchers$=null!==(P=te[4])&&void 0!==P?P:{};const Qe=re.$tagName$,cr=class extends HTMLElement{constructor(ti){super(ti),Tt(ti=this,re),1&re.$flags$&&ti.attachShadow({mode:"open",delegatesFocus:!!(16&re.$flags$)})}connectedCallback(){En&&(clearTimeout(En),En=null),rr?Wt.push(this):nr.jmp(()=>(B=>{if(!(1&nr.$flags$)){const q=ut(B),Pe=q.$cmpMeta$,be=()=>{};if(1&q.$flags$)Pi(B,q,Pe.$listeners$),null!=q&&q.$lazyInstance$?Ur(q.$lazyInstance$):null!=q&&q.$onReadyPromise$&&q.$onReadyPromise$.then(()=>Ur(q.$lazyInstance$));else{let it;if(q.$flags$|=1,it=B.getAttribute(vt),it){if(1&Pe.$flags$){const ft=Ct(B.shadowRoot,Pe,B.getAttribute("s-mode"));B.classList.remove(ft+"-h",ft+"-s")}((B,q,Pe,be)=>{const ft=B.shadowRoot,kt=[],zt=ft?[]:null,Gt=be.$vnode$=an(q,null);nr.$orgLocNodes$||me(Er.body,nr.$orgLocNodes$=new Map),B[vt]=Pe,B.removeAttribute(vt),et(Gt,kt,[],zt,B,B,Pe),kt.map(Wt=>{const Ut=Wt.$hostId$+"."+Wt.$nodeId$,En=nr.$orgLocNodes$.get(Ut),rr=Wt.$elm$;En&&he&&""===En["s-en"]&&En.parentNode.insertBefore(rr,En.nextSibling),ft||(rr["s-hn"]=q,En&&(rr["s-ol"]=En,rr["s-ol"]["s-nr"]=rr)),nr.$orgLocNodes$.delete(Ut)}),ft&&zt.map(Wt=>{Wt&&ft.appendChild(Wt)})})(B,Pe.$tagName$,it,q)}it||12&Pe.$flags$&&dn(B);{let ft=B;for(;ft=ft.parentNode||ft.host;)if(1===ft.nodeType&&ft.hasAttribute("s-id")&&ft["s-p"]||ft["s-p"]){hi(q,q.$ancestorComponent$=ft);break}}Pe.$members$&&Object.entries(Pe.$members$).map(([ft,[kt]])=>{if(31&kt&&B.hasOwnProperty(ft)){const Lt=B[ft];delete B[ft],B[ft]=Lt}}),er(B,q,Pe)}be()}})(this))}disconnectedCallback(){nr.jmp(()=>bi(this))}componentOnReady(){return ut(this).$onReadyPromise$}};re.$lazyBundleId$=A[0],!ft.includes(Qe)&&!kt.get(Qe)&&(it.push(Qe),kt.define(Qe,qn(cr,re,1)))})}),it.length>0&&(Pr&&(Gt.textContent+=Xe),Gt.textContent+=it+"{visibility:hidden}.hydrated{visibility:inherit}",Gt.innerHTML.length)){Gt.setAttribute("data-styles","");const A=null!==(Pe=nr.$nonce$)&&void 0!==Pe?Pe:ot(Er);null!=A&&Gt.setAttribute("nonce",A),Lt.insertBefore(Gt,zt?zt.nextSibling:Lt.firstChild)}rr=!1,Wt.length?Wt.map(A=>A.connectedCallback()):nr.jmp(()=>En=setTimeout(Ae,30))},Pi=(B,q,Pe,be)=>{Pe&&Pe.map(([it,ft,kt])=>{const Lt=Fi(B,it),zt=ki(q,kt),Gt=Yn(it);nr.ael(Lt,ft,zt,Gt),(q.$rmListeners$=q.$rmListeners$||[]).push(()=>nr.rel(Lt,ft,zt,Gt))})},ki=(B,q)=>Pe=>{try{256&B.$flags$?B.$lazyInstance$[q](Pe):(B.$queuedListeners$=B.$queuedListeners$||[]).push([q,Pe])}catch(be){Dn(be)}},Fi=(B,q)=>4&q?Er:8&q?wn:16&q?Er.body:B,Yn=B=>Ie?{passive:!!(1&B),capture:!!(2&B)}:!!(2&B),Ai=new WeakMap,ut=B=>Ai.get(B),tt=(B,q)=>Ai.set(q.$lazyInstance$=B,q),Tt=(B,q)=>{const Pe={$flags$:0,$hostElement$:B,$cmpMeta$:q,$instanceValues$:new Map};return Pe.$onInstancePromise$=new Promise(be=>Pe.$onInstanceResolve$=be),Pe.$onReadyPromise$=new Promise(be=>Pe.$onReadyResolve$=be),B["s-p"]=[],B["s-rc"]=[],Pi(B,Pe,q.$listeners$),Ai.set(B,Pe)},tn=(B,q)=>q in B,Dn=(B,q)=>(0,console.error)(B,q),Ln=new Map,Un=(B,q,Pe)=>{const be=B.$tagName$.replace(/-/g,"_"),it=B.$lazyBundleId$,ft=Ln.get(it);return ft?ft[be]:O(8996)(`./${it}.entry.js`).then(kt=>(Ln.set(it,kt),kt[be]),Dn)},Bn=new Map,Ir=[],wn=typeof window<"u"?window:{},Er=wn.document||{head:{}},nr={$flags$:0,$resourcesUrl$:"",jmp:B=>B(),raf:B=>requestAnimationFrame(B),ael:(B,q,Pe,be)=>B.addEventListener(q,Pe,be),rel:(B,q,Pe,be)=>B.removeEventListener(q,Pe,be),ce:(B,q)=>new CustomEvent(B,q)},mo=B=>{Object.assign(nr,B)},he=!0,Ie=(()=>{let B=!1;try{Er.addEventListener("e",null,Object.defineProperty({},"passive",{get(){B=!0}}))}catch{}return B})(),pe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),rt=[],Pt=[],Yt=(B,q)=>Pe=>{B.push(Pe),le||(le=!0,q&&4&nr.$flags$?On(yn):nr.raf(yn))},sn=B=>{for(let q=0;q<B.length;q++)try{B[q](performance.now())}catch(Pe){Dn(Pe)}B.length=0},yn=()=>{sn(rt),sn(Pt),(le=rt.length>0)&&nr.raf(yn)},On=B=>Promise.resolve(void 0).then(B),Gr=Yt(rt,!1),dt=Yt(Pt,!0)},6691:(Qt,Je,O)=>{"use strict";O.d(Je,{m:()=>we});var u=O(467),G=O(8476),oe=O(6471),j=O(4929),Te=O(5638),ce=O(8886),ie=O(3503);const He=xe=>(0,ie.c)().duration(xe?400:300),$e=xe=>{let Me,Ze;const Fe=xe.width+8,Oe=(0,ie.c)(),Ue=(0,ie.c)();xe.isEndSide?(Me=Fe+"px",Ze="0px"):(Me=-Fe+"px",Ze="0px"),Oe.addElement(xe.menuInnerEl).fromTo("transform",`translateX(${Me})`,`translateX(${Ze})`);const ae="ios"===(0,ce.b)(xe),Ve=ae?.2:.25;return Ue.addElement(xe.backdropEl).fromTo("opacity",.01,Ve),He(ae).addAnimation([Oe,Ue])},ge=xe=>{let Me,Ze;const Fe=(0,ce.b)(xe),Oe=xe.width;xe.isEndSide?(Me=-Oe+"px",Ze=Oe+"px"):(Me=Oe+"px",Ze=-Oe+"px");const Ue=(0,ie.c)().addElement(xe.menuInnerEl).fromTo("transform",`translateX(${Ze})`,"translateX(0px)"),vt=(0,ie.c)().addElement(xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Me})`),ae=(0,ie.c)().addElement(xe.backdropEl).fromTo("opacity",.01,.32);return He("ios"===Fe).addAnimation([Ue,vt,ae])},le=xe=>{const Me=(0,ce.b)(xe),Ze=xe.width*(xe.isEndSide?-1:1)+"px",Fe=(0,ie.c)().addElement(xe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ze})`);return He("ios"===Me).addAnimation(Fe)},we=(()=>{const xe=new Map,Me=[],Ze=function(){var fe=(0,u.A)(function*(ye){const Re=yield Ne(ye,!0);return!!Re&&Re.open()});return function(Re){return fe.apply(this,arguments)}}(),Fe=function(){var fe=(0,u.A)(function*(ye){const Re=yield void 0!==ye?Ne(ye,!0):Xe();return void 0!==Re&&Re.close()});return function(Re){return fe.apply(this,arguments)}}(),Oe=function(){var fe=(0,u.A)(function*(ye){const Re=yield Ne(ye,!0);return!!Re&&Re.toggle()});return function(Re){return fe.apply(this,arguments)}}(),Ue=function(){var fe=(0,u.A)(function*(ye,Re){const et=yield Ne(Re);return et&&(et.disabled=!ye),et});return function(Re,et){return fe.apply(this,arguments)}}(),vt=function(){var fe=(0,u.A)(function*(ye,Re){const et=yield Ne(Re);return et&&(et.swipeGesture=ye),et});return function(Re,et){return fe.apply(this,arguments)}}(),ae=function(){var fe=(0,u.A)(function*(ye){if(null!=ye){const Re=yield Ne(ye);return void 0!==Re&&Re.isOpen()}return void 0!==(yield Xe())});return function(Re){return fe.apply(this,arguments)}}(),Ve=function(){var fe=(0,u.A)(function*(ye){const Re=yield Ne(ye);return!!Re&&!Re.disabled});return function(Re){return fe.apply(this,arguments)}}(),Ne=function(){var fe=(0,u.A)(function*(ye,Re=!1){if(yield Ee(),"start"===ye||"end"===ye){const me=Me.filter(bt=>bt.side===ye&&!bt.disabled);if(me.length>=1)return me.length>1&&Re&&(0,j.p)(`menuController queried for a menu on the "${ye}" side, but ${me.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,me.map(bt=>bt.el)),me[0].el;const pt=Me.filter(bt=>bt.side===ye);if(pt.length>=1)return pt.length>1&&Re&&(0,j.p)(`menuController queried for a menu on the "${ye}" side, but ${pt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,pt.map(bt=>bt.el)),pt[0].el}else if(null!=ye)return st(me=>me.menuId===ye);return st(me=>!me.disabled)||(Me.length>0?Me[0].el:void 0)});return function(Re){return fe.apply(this,arguments)}}(),Xe=function(){var fe=(0,u.A)(function*(){return yield Ee(),Mt()});return function(){return fe.apply(this,arguments)}}(),J=function(){var fe=(0,u.A)(function*(){return yield Ee(),an()});return function(){return fe.apply(this,arguments)}}(),K=function(){var fe=(0,u.A)(function*(){return yield Ee(),kn()});return function(){return fe.apply(this,arguments)}}(),De=(fe,ye)=>{xe.set(fe,ye)},Le=function(){var fe=(0,u.A)(function*(ye,Re,et){if(kn())return!1;if(Re){const me=yield Xe();me&&ye.el!==me&&(yield me.setOpen(!1,!1))}return ye._setOpen(Re,et)});return function(Re,et,me){return fe.apply(this,arguments)}}(),Mt=()=>st(fe=>fe._isOpen),an=()=>Me.map(fe=>fe.el),kn=()=>Me.some(fe=>fe.isAnimating),st=fe=>{const ye=Me.find(fe);if(void 0!==ye)return ye.el},Ee=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(fe=>new Promise(ye=>(0,Te.c)(fe,ye))));return De("reveal",le),De("push",ge),De("overlay",$e),null==G.d||G.d.addEventListener("ionBackButton",fe=>{const ye=Mt();ye&&fe.detail.register(oe.MENU_BACK_BUTTON_PRIORITY,()=>ye.close())}),{registerAnimation:De,get:Ne,getMenus:J,getOpen:Xe,isEnabled:Ve,swipeGesture:vt,isAnimating:K,isOpen:ae,enable:Ue,toggle:Oe,close:Fe,open:Ze,_getOpenSync:Mt,_createAnimation:(fe,ye)=>{const Re=xe.get(fe);if(!Re)throw new Error("animation not registered");return Re(ye)},_register:fe=>{Me.indexOf(fe)<0&&Me.push(fe)},_unregister:fe=>{const ye=Me.indexOf(fe);ye>-1&&Me.splice(ye,1)},_setOpen:Le}})()},4929:(Qt,Je,O)=>{"use strict";O.d(Je,{a:()=>G,b:()=>oe,p:()=>u});const u=(j,...Te)=>console.warn(`[Ionic Warning]: ${j}`,...Te),G=(j,...Te)=>console.error(`[Ionic Error]: ${j}`,...Te),oe=(j,...Te)=>console.error(`<${j.tagName.toLowerCase()}> must be used inside ${Te.join(" or ")}.`)},8476:(Qt,Je,O)=>{"use strict";O.d(Je,{d:()=>G,w:()=>u});const u=typeof window<"u"?window:void 0,G=typeof document<"u"?document:void 0},8886:(Qt,Je,O)=>{"use strict";O.d(Je,{a:()=>le,b:()=>an,c:()=>oe,i:()=>kn});var u=O(773);class G{constructor(){this.m=new Map}reset(Ee){this.m=new Map(Object.entries(Ee))}get(Ee,fe){const ye=this.m.get(Ee);return void 0!==ye?ye:fe}getBoolean(Ee,fe=!1){const ye=this.m.get(Ee);return void 0===ye?fe:"string"==typeof ye?"true"===ye:!!ye}getNumber(Ee,fe){const ye=parseFloat(this.m.get(Ee));return isNaN(ye)?void 0!==fe?fe:NaN:ye}set(Ee,fe){this.m.set(Ee,fe)}}const oe=new G,$e="ionic-persist-config",le=(st,Ee)=>("string"==typeof st&&(Ee=st,st=void 0),(st=>ke(st))(st).includes(Ee)),ke=(st=window)=>{if(typeof st>"u")return[];st.Ionic=st.Ionic||{};let Ee=st.Ionic.platforms;return null==Ee&&(Ee=st.Ionic.platforms=we(st),Ee.forEach(fe=>st.document.documentElement.classList.add(`plt-${fe}`))),Ee},we=st=>{const Ee=oe.get("platform");return Object.keys(ot).filter(fe=>{const ye=null==Ee?void 0:Ee[fe];return"function"==typeof ye?ye(st):ot[fe](st)})},Me=st=>!!(je(st,/iPad/i)||je(st,/Macintosh/i)&&Ve(st)),Oe=st=>je(st,/android|sink/i),Ve=st=>Le(st,"(any-pointer:coarse)"),Xe=st=>J(st)||K(st),J=st=>!!(st.cordova||st.phonegap||st.PhoneGap),K=st=>{const Ee=st.Capacitor;return!(null==Ee||!Ee.isNative)},je=(st,Ee)=>Ee.test(st.navigator.userAgent),Le=(st,Ee)=>{var fe;return null===(fe=st.matchMedia)||void 0===fe?void 0:fe.call(st,Ee).matches},ot={ipad:Me,iphone:st=>je(st,/iPhone/i),ios:st=>je(st,/iPhone|iPod/i)||Me(st),android:Oe,phablet:st=>{const Ee=st.innerWidth,fe=st.innerHeight,ye=Math.min(Ee,fe),Re=Math.max(Ee,fe);return ye>390&&ye<520&&Re>620&&Re<800},tablet:st=>{const Ee=st.innerWidth,fe=st.innerHeight,ye=Math.min(Ee,fe),Re=Math.max(Ee,fe);return Me(st)||(st=>Oe(st)&&!je(st,/mobile/i))(st)||ye>460&&ye<820&&Re>780&&Re<1400},cordova:J,capacitor:K,electron:st=>je(st,/electron/i),pwa:st=>{var Ee;return!!(null!==(Ee=st.matchMedia)&&void 0!==Ee&&Ee.call(st,"(display-mode: standalone)").matches||st.navigator.standalone)},mobile:Ve,mobileweb:st=>Ve(st)&&!Xe(st),desktop:st=>!Ve(st),hybrid:Xe};let Mt;const an=st=>st&&(0,u.g)(st)||Mt,kn=(st={})=>{if(typeof window>"u")return;const Ee=window.document,fe=window,ye=fe.Ionic=fe.Ionic||{},Re={};st._ael&&(Re.ael=st._ael),st._rel&&(Re.rel=st._rel),st._ce&&(Re.ce=st._ce),(0,u.a)(Re);const et=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(st=>{try{const Ee=st.sessionStorage.getItem($e);return null!==Ee?JSON.parse(Ee):{}}catch{return{}}})(fe)),{persistConfig:!1}),ye.config),(st=>{const Ee={};return st.location.search.slice(1).split("&").map(fe=>fe.split("=")).map(([fe,ye])=>[decodeURIComponent(fe),decodeURIComponent(ye)]).filter(([fe])=>((st,Ee)=>st.substr(0,Ee.length)===Ee)(fe,"ionic:")).map(([fe,ye])=>[fe.slice(6),ye]).forEach(([fe,ye])=>{Ee[fe]=ye}),Ee})(fe)),st);oe.reset(et),oe.getBoolean("persistConfig")&&((st,Ee)=>{try{st.sessionStorage.setItem($e,JSON.stringify(Ee))}catch{return}})(fe,et),ke(fe),ye.config=oe,ye.mode=Mt=oe.get("mode",Ee.documentElement.getAttribute("mode")||(le(fe,"ios")?"ios":"md")),oe.set("mode",Mt),Ee.documentElement.setAttribute("mode",Mt),Ee.documentElement.classList.add(Mt),oe.getBoolean("_testing")&&oe.set("animated",!1);const me=bt=>{var xt;return null===(xt=bt.tagName)||void 0===xt?void 0:xt.startsWith("ION-")},pt=bt=>["ios","md"].includes(bt);(0,u.c)(bt=>{for(;bt;){const xt=bt.mode||bt.getAttribute("mode");if(xt){if(pt(xt))return xt;me(bt)&&console.warn('Invalid ionic mode: "'+xt+'", expected: "ios" or "md"')}bt=bt.parentElement}return Mt})}},7278:(Qt,Je,O)=>{"use strict";O.r(Je),O.d(Je,{iosTransitionAnimation:()=>we,shadow:()=>ie});var u=O(3503),G=O(6451);O(8476),O(773);const ce=Me=>document.querySelector(`${Me}.ion-cloned-element`),ie=Me=>Me.shadowRoot||Me,He=Me=>{const Ze="ION-TABS"===Me.tagName?Me:Me.querySelector("ion-tabs"),Fe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ze){const Oe=Ze.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Oe?Oe.querySelector(Fe):null}return Me.querySelector(Fe)},$e=(Me,Ze)=>{const Fe="ION-TABS"===Me.tagName?Me:Me.querySelector("ion-tabs");let Oe=[];if(null!=Fe){const Ue=Fe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ue&&(Oe=Ue.querySelectorAll("ion-buttons"))}else Oe=Me.querySelectorAll("ion-buttons");for(const Ue of Oe){const vt=Ue.closest("ion-header"),ae=vt&&!vt.classList.contains("header-collapse-condense-inactive"),Ve=Ue.querySelector("ion-back-button"),Ne=Ue.classList.contains("buttons-collapse");if(null!==Ve&&("start"===Ue.slot||""===Ue.slot)&&(Ne&&ae&&Ze||!Ne))return Ve}return null},le=(Me,Ze,Fe,Oe,Ue,vt,ae,Ve,Ne)=>{var Xe,J;const K=Ze?`calc(100% - ${Ue.right+4}px)`:Ue.left-4+"px",De=Ze?"right":"left",z=Ze?"left":"right",je=Ze?"right":"left",Le=(null===(Xe=vt.textContent)||void 0===Xe?void 0:Xe.trim())===(null===(J=Ve.textContent)||void 0===J?void 0:J.trim()),Mt=(Ne.height-xe)/ae.height,an=Le?`scale(${Ne.width/ae.width}, ${Mt})`:`scale(${Mt})`,kn="scale(1)",Ee=ie(Oe).querySelector("ion-icon").getBoundingClientRect(),fe=Ze?Ee.width/2-(Ee.right-Ue.right)+"px":Ue.left-Ee.width/2+"px",ye=Ze?`-${window.innerWidth-Ue.right}px`:`${Ue.left}px`,Re=`${Ne.top}px`,et=`${Ue.top}px`,bt=Fe?[{offset:0,transform:`translate3d(${ye}, ${et}, 0)`},{offset:1,transform:`translate3d(${fe}, ${Re}, 0)`}]:[{offset:0,transform:`translate3d(${fe}, ${Re}, 0)`},{offset:1,transform:`translate3d(${ye}, ${et}, 0)`}],$t=Fe?[{offset:0,opacity:1,transform:kn},{offset:1,opacity:0,transform:an}]:[{offset:0,opacity:0,transform:an},{offset:1,opacity:1,transform:kn}],vn=Fe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],on=(0,u.c)(),Ct=(0,u.c)(),gt=(0,u.c)(),It=ce("ion-back-button"),ht=ie(It).querySelector(".button-text"),Zt=ie(It).querySelector("ion-icon");It.text=Oe.text,It.mode=Oe.mode,It.icon=Oe.icon,It.color=Oe.color,It.disabled=Oe.disabled,It.style.setProperty("display","block"),It.style.setProperty("position","fixed"),Ct.addElement(Zt),on.addElement(ht),gt.addElement(It),gt.beforeStyles({position:"absolute",top:"0px",[je]:"0px"}).keyframes(bt),on.beforeStyles({"transform-origin":`${De} top`}).beforeAddWrite(()=>{Oe.style.setProperty("display","none"),It.style.setProperty(De,K)}).afterAddWrite(()=>{Oe.style.setProperty("display",""),It.style.setProperty("display","none"),It.style.removeProperty(De)}).keyframes($t),Ct.beforeStyles({"transform-origin":`${z} center`}).keyframes(vn),Me.addAnimation([on,Ct,gt])},ke=(Me,Ze,Fe,Oe,Ue,vt,ae,Ve)=>{var Ne,Xe;const J=Ze?"right":"left",K=Ze?`calc(100% - ${Ue.right}px)`:`${Ue.left}px`,z=`${Ue.top}px`,Le=Ze?`-${window.innerWidth-Ve.right-8}px`:Ve.x-8+"px",Mt=Ve.y-2+"px",an=(null===(Ne=ae.textContent)||void 0===Ne?void 0:Ne.trim())===(null===(Xe=Oe.textContent)||void 0===Xe?void 0:Xe.trim()),st=Ve.height/(vt.height-xe),Ee="scale(1)",fe=an?`scale(${Ve.width/vt.width}, ${st})`:`scale(${st})`,et=Fe?[{offset:0,opacity:0,transform:`translate3d(${Le}, ${Mt}, 0) ${fe}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${z}, 0) ${Ee}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${z}, 0) ${Ee}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Le}, ${Mt}, 0) ${fe}`}],me=ce("ion-title"),pt=(0,u.c)();me.innerText=Oe.innerText,me.size=Oe.size,me.color=Oe.color,pt.addElement(me),pt.beforeStyles({"transform-origin":`${J} top`,height:`${Ue.height}px`,display:"",position:"relative",[J]:K}).beforeAddWrite(()=>{Oe.style.setProperty("opacity","0")}).afterAddWrite(()=>{Oe.style.setProperty("opacity",""),me.style.setProperty("display","none")}).keyframes(et),Me.addAnimation(pt)},we=(Me,Ze)=>{var Fe;try{const Oe="cubic-bezier(0.32,0.72,0,1)",Ue="opacity",vt="transform",ae="0%",Ne="rtl"===Me.ownerDocument.dir,Xe=Ne?"-99.5%":"99.5%",J=Ne?"33%":"-33%",K=Ze.enteringEl,De=Ze.leavingEl,z="back"===Ze.direction,je=K.querySelector(":scope > ion-content"),Le=K.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ot=K.querySelectorAll(":scope > ion-header > ion-toolbar"),Mt=(0,u.c)(),an=(0,u.c)();if(Mt.addElement(K).duration((null!==(Fe=Ze.duration)&&void 0!==Fe?Fe:0)||540).easing(Ze.easing||Oe).fill("both").beforeRemoveClass("ion-page-invisible"),De&&null!=Me){const fe=(0,u.c)();fe.addElement(Me),Mt.addAnimation(fe)}if(je||0!==ot.length||0!==Le.length?(an.addElement(je),an.addElement(Le)):an.addElement(K.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Mt.addAnimation(an),z?an.beforeClearStyles([Ue]).fromTo("transform",`translateX(${J})`,`translateX(${ae})`).fromTo(Ue,.8,1):an.beforeClearStyles([Ue]).fromTo("transform",`translateX(${Xe})`,`translateX(${ae})`),je){const fe=ie(je).querySelector(".transition-effect");if(fe){const ye=fe.querySelector(".transition-cover"),Re=fe.querySelector(".transition-shadow"),et=(0,u.c)(),me=(0,u.c)(),pt=(0,u.c)();et.addElement(fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),me.addElement(ye).beforeClearStyles([Ue]).fromTo(Ue,0,.1),pt.addElement(Re).beforeClearStyles([Ue]).fromTo(Ue,.03,.7),et.addAnimation([me,pt]),an.addAnimation([et])}}const kn=K.querySelector("ion-header.header-collapse-condense"),{forward:st,backward:Ee}=((Me,Ze,Fe,Oe,Ue)=>{const vt=$e(Oe,Fe),ae=He(Ue),Ve=He(Oe),Ne=$e(Ue,Fe),Xe=null!==vt&&null!==ae&&!Fe,J=null!==Ve&&null!==Ne&&Fe;if(Xe){const K=ae.getBoundingClientRect(),De=vt.getBoundingClientRect(),z=ie(vt).querySelector(".button-text"),je=z.getBoundingClientRect(),ot=ie(ae).querySelector(".toolbar-title").getBoundingClientRect();ke(Me,Ze,Fe,ae,K,ot,z,je),le(Me,Ze,Fe,vt,De,z,je,ae,ot)}else if(J){const K=Ve.getBoundingClientRect(),De=Ne.getBoundingClientRect(),z=ie(Ne).querySelector(".button-text"),je=z.getBoundingClientRect(),ot=ie(Ve).querySelector(".toolbar-title").getBoundingClientRect();ke(Me,Ze,Fe,Ve,K,ot,z,je),le(Me,Ze,Fe,Ne,De,z,je,Ve,ot)}return{forward:Xe,backward:J}})(Mt,Ne,z,K,De);if(ot.forEach(fe=>{const ye=(0,u.c)();ye.addElement(fe),Mt.addAnimation(ye);const Re=(0,u.c)();Re.addElement(fe.querySelector("ion-title"));const et=(0,u.c)(),me=Array.from(fe.querySelectorAll("ion-buttons,[menuToggle]")),pt=fe.closest("ion-header"),bt=null==pt?void 0:pt.classList.contains("header-collapse-condense-inactive");let xt;xt=me.filter(z?vn=>{const on=vn.classList.contains("buttons-collapse");return on&&!bt||!on}:vn=>!vn.classList.contains("buttons-collapse")),et.addElement(xt);const _t=(0,u.c)();_t.addElement(fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const $t=(0,u.c)();$t.addElement(ie(fe).querySelector(".toolbar-background"));const Pn=(0,u.c)(),nn=fe.querySelector("ion-back-button");if(nn&&Pn.addElement(nn),ye.addAnimation([Re,et,_t,$t,Pn]),et.fromTo(Ue,.01,1),_t.fromTo(Ue,.01,1),z)bt||Re.fromTo("transform",`translateX(${J})`,`translateX(${ae})`).fromTo(Ue,.01,1),_t.fromTo("transform",`translateX(${J})`,`translateX(${ae})`),Pn.fromTo(Ue,.01,1);else if(kn||Re.fromTo("transform",`translateX(${Xe})`,`translateX(${ae})`).fromTo(Ue,.01,1),_t.fromTo("transform",`translateX(${Xe})`,`translateX(${ae})`),$t.beforeClearStyles([Ue,"transform"]),(null==pt?void 0:pt.translucent)?$t.fromTo("transform",Ne?"translateX(-100%)":"translateX(100%)","translateX(0px)"):$t.fromTo(Ue,.01,"var(--opacity)"),st||Pn.fromTo(Ue,.01,1),nn&&!st){const on=(0,u.c)();on.addElement(ie(nn).querySelector(".button-text")).fromTo("transform",Ne?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ye.addAnimation(on)}}),De){const fe=(0,u.c)(),ye=De.querySelector(":scope > ion-content"),Re=De.querySelectorAll(":scope > ion-header > ion-toolbar"),et=De.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ye||0!==Re.length||0!==et.length?(fe.addElement(ye),fe.addElement(et)):fe.addElement(De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Mt.addAnimation(fe),z){fe.beforeClearStyles([Ue]).fromTo("transform",`translateX(${ae})`,Ne?"translateX(-100%)":"translateX(100%)");const me=(0,G.g)(De);Mt.afterAddWrite(()=>{"normal"===Mt.getDirection()&&me.style.setProperty("display","none")})}else fe.fromTo("transform",`translateX(${ae})`,`translateX(${J})`).fromTo(Ue,1,.8);if(ye){const me=ie(ye).querySelector(".transition-effect");if(me){const pt=me.querySelector(".transition-cover"),bt=me.querySelector(".transition-shadow"),xt=(0,u.c)(),_t=(0,u.c)(),$t=(0,u.c)();xt.addElement(me).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),_t.addElement(pt).beforeClearStyles([Ue]).fromTo(Ue,.1,0),$t.addElement(bt).beforeClearStyles([Ue]).fromTo(Ue,.7,.03),xt.addAnimation([_t,$t]),fe.addAnimation([xt])}}Re.forEach(me=>{const pt=(0,u.c)();pt.addElement(me);const bt=(0,u.c)();bt.addElement(me.querySelector("ion-title"));const xt=(0,u.c)(),_t=me.querySelectorAll("ion-buttons,[menuToggle]"),$t=me.closest("ion-header"),Pn=null==$t?void 0:$t.classList.contains("header-collapse-condense-inactive"),nn=Array.from(_t).filter(ht=>{const Zt=ht.classList.contains("buttons-collapse");return Zt&&!Pn||!Zt});xt.addElement(nn);const vn=(0,u.c)(),on=me.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");on.length>0&&vn.addElement(on);const Ct=(0,u.c)();Ct.addElement(ie(me).querySelector(".toolbar-background"));const gt=(0,u.c)(),It=me.querySelector("ion-back-button");if(It&&gt.addElement(It),pt.addAnimation([bt,xt,vn,gt,Ct]),Mt.addAnimation(pt),gt.fromTo(Ue,.99,0),xt.fromTo(Ue,.99,0),vn.fromTo(Ue,.99,0),z){if(Pn||bt.fromTo("transform",`translateX(${ae})`,Ne?"translateX(-100%)":"translateX(100%)").fromTo(Ue,.99,0),vn.fromTo("transform",`translateX(${ae})`,Ne?"translateX(-100%)":"translateX(100%)"),Ct.beforeClearStyles([Ue,"transform"]),(null==$t?void 0:$t.translucent)?Ct.fromTo("transform","translateX(0px)",Ne?"translateX(-100%)":"translateX(100%)"):Ct.fromTo(Ue,"var(--opacity)",0),It&&!Ee){const Zt=(0,u.c)();Zt.addElement(ie(It).querySelector(".button-text")).fromTo("transform",`translateX(${ae})`,`translateX(${(Ne?-124:124)+"px"})`),pt.addAnimation(Zt)}}else Pn||bt.fromTo("transform",`translateX(${ae})`,`translateX(${J})`).fromTo(Ue,.99,0).afterClearStyles([vt,Ue]),vn.fromTo("transform",`translateX(${ae})`,`translateX(${J})`).afterClearStyles([vt,Ue]),gt.afterClearStyles([Ue]),bt.afterClearStyles([Ue]),xt.afterClearStyles([Ue])})}return Mt}catch(Oe){throw Oe}},xe=10},9354:(Qt,Je,O)=>{"use strict";O.r(Je),O.d(Je,{mdTransitionAnimation:()=>Te});var u=O(3503),G=O(6451);O(8476),O(773);const Te=(ce,ie)=>{var He,$e,ge;const we="back"===ie.direction,Me=ie.leavingEl,Ze=(0,G.g)(ie.enteringEl),Fe=Ze.querySelector("ion-toolbar"),Oe=(0,u.c)();if(Oe.addElement(Ze).fill("both").beforeRemoveClass("ion-page-invisible"),we?Oe.duration((null!==(He=ie.duration)&&void 0!==He?He:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Oe.duration((null!==($e=ie.duration)&&void 0!==$e?$e:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Fe){const Ue=(0,u.c)();Ue.addElement(Fe),Oe.addAnimation(Ue)}if(Me&&we){Oe.duration((null!==(ge=ie.duration)&&void 0!==ge?ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ue=(0,u.c)();Ue.addElement((0,G.g)(Me)).onFinish(vt=>{1===vt&&Ue.elements.length>0&&Ue.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Oe.addAnimation(Ue)}return Oe}},5049:(Qt,Je,O)=>{"use strict";O.d(Je,{B:()=>xt,G:()=>_t,O:()=>$t,a:()=>ke,b:()=>we,c:()=>Fe,d:()=>Pn,e:()=>nn,f:()=>kn,g:()=>Ee,h:()=>Re,i:()=>me,j:()=>Ue,k:()=>vt,m:()=>Me,n:()=>Xe,o:()=>Mt,s:()=>bt});var u=O(467),G=O(8476),oe=O(6471),j=O(8886),Te=O(5938),ce=O(5638),ie=O(4929);let He=0,$e=0;const ge=new WeakMap,le=Ct=>({create:gt=>ae(Ct,gt),dismiss:(gt,It,ht)=>je(document,gt,It,Ct,ht),getTop:()=>(0,u.A)(function*(){return Mt(document,Ct)})()}),ke=le("ion-alert"),we=le("ion-action-sheet"),Me=le("ion-modal"),Fe=le("ion-popover"),Ue=Ct=>{typeof document<"u"&&z(document);const gt=He++;Ct.overlayIndex=gt},vt=Ct=>(Ct.hasAttribute("id")||(Ct.id="ion-overlay-"+ ++$e),Ct.id),ae=(Ct,gt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ct).then(()=>{const It=document.createElement(Ct);return It.classList.add("overlay-hidden"),Object.assign(It,Object.assign(Object.assign({},gt),{hasController:!0})),fe(document).appendChild(It),new Promise(ht=>(0,ce.c)(It,ht))}):Promise.resolve(),Ve='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Xe=(Ct,gt)=>{const It=Ct.querySelector(Ve);K(It,gt)},J=(Ct,gt)=>{const It=Array.from(Ct.querySelectorAll(Ve));K(It.length>0?It[It.length-1]:null,gt)},K=(Ct,gt)=>{let It=Ct;const ht=null==Ct?void 0:Ct.shadowRoot;ht&&(It=ht.querySelector(Ve)||Ct),It?(0,ce.f)(It):gt.focus()},z=Ct=>{0===He&&(He=1,Ct.addEventListener("focus",gt=>{((Ct,gt)=>{const It=Mt(gt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ht=Ct.target;It&&ht&&!It.classList.contains("ion-disable-focus-trap")&&(It.shadowRoot?(()=>{if(It.contains(ht))It.lastFocus=ht;else if("ION-TOAST"===ht.tagName)K(It.lastFocus,It);else{const Sn=It.lastFocus;Xe(It,It),Sn===gt.activeElement&&J(It,It),It.lastFocus=gt.activeElement}})():(()=>{if(It===ht)It.lastFocus=void 0;else if("ION-TOAST"===ht.tagName)K(It.lastFocus,It);else{const Sn=(0,ce.g)(It);if(!Sn.contains(ht))return;const Kn=Sn.querySelector(".ion-overlay-wrapper");if(!Kn)return;if(Kn.contains(ht)||ht===Sn.querySelector("ion-backdrop"))It.lastFocus=ht;else{const xn=It.lastFocus;Xe(Kn,It),xn===gt.activeElement&&J(Kn,It),It.lastFocus=gt.activeElement}}})())})(gt,Ct)},!0),Ct.addEventListener("ionBackButton",gt=>{const It=Mt(Ct);null!=It&&It.backdropDismiss&&gt.detail.register(oe.OVERLAY_BACK_BUTTON_PRIORITY,()=>{It.dismiss(void 0,xt)})}),(0,oe.shouldUseCloseWatcher)()||Ct.addEventListener("keydown",gt=>{if("Escape"===gt.key){const It=Mt(Ct);null!=It&&It.backdropDismiss&&It.dismiss(void 0,xt)}}))},je=(Ct,gt,It,ht,Zt)=>{const Nn=Mt(Ct,ht,Zt);return Nn?Nn.dismiss(gt,It):Promise.reject("overlay does not exist")},ot=(Ct,gt)=>((Ct,gt)=>(void 0===gt&&(gt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ct.querySelectorAll(gt)).filter(It=>It.overlayIndex>0)))(Ct,gt).filter(It=>!(Ct=>Ct.classList.contains("overlay-hidden"))(It)),Mt=(Ct,gt,It)=>{const ht=ot(Ct,gt);return void 0===It?ht[ht.length-1]:ht.find(Zt=>Zt.id===It)},an=(Ct=!1)=>{const It=fe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");It&&(Ct?It.setAttribute("aria-hidden","true"):It.removeAttribute("aria-hidden"))},kn=function(){var Ct=(0,u.A)(function*(gt,It,ht,Zt,Nn){var Sn,Kn;if(gt.presented)return;an(!0),vn(gt.el),gt.presented=!0,gt.willPresent.emit(),null===(Sn=gt.willPresentShorthand)||void 0===Sn||Sn.emit();const xn=(0,j.b)(gt),Gn=gt.enterAnimation?gt.enterAnimation:j.c.get(It,"ios"===xn?ht:Zt);(yield ye(gt,Gn,gt.el,Nn))&&(gt.didPresent.emit(),null===(Kn=gt.didPresentShorthand)||void 0===Kn||Kn.emit()),"ION-TOAST"!==gt.el.tagName&&st(gt.el),gt.keyboardClose&&(null===document.activeElement||!gt.el.contains(document.activeElement))&&gt.el.focus(),gt.el.removeAttribute("aria-hidden")});return function(It,ht,Zt,Nn,Sn){return Ct.apply(this,arguments)}}(),st=function(){var Ct=(0,u.A)(function*(gt){let It=document.activeElement;if(!It)return;const ht=null==It?void 0:It.shadowRoot;ht&&(It=ht.querySelector(Ve)||It),yield gt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&It.focus()});return function(It){return Ct.apply(this,arguments)}}(),Ee=function(){var Ct=(0,u.A)(function*(gt,It,ht,Zt,Nn,Sn,Kn){var xn,Gn;if(!gt.presented)return!1;void 0!==G.d&&1===ot(G.d).length&&an(!1),gt.presented=!1;try{gt.el.style.setProperty("pointer-events","none"),gt.willDismiss.emit({data:It,role:ht}),null===(xn=gt.willDismissShorthand)||void 0===xn||xn.emit({data:It,role:ht});const ln=(0,j.b)(gt),en=gt.leaveAnimation?gt.leaveAnimation:j.c.get(Zt,"ios"===ln?Nn:Sn);ht!==_t&&(yield ye(gt,en,gt.el,Kn)),gt.didDismiss.emit({data:It,role:ht}),null===(Gn=gt.didDismissShorthand)||void 0===Gn||Gn.emit({data:It,role:ht}),(ge.get(gt)||[]).forEach(mr=>mr.destroy()),ge.delete(gt),gt.el.classList.add("overlay-hidden"),gt.el.style.removeProperty("pointer-events"),void 0!==gt.el.lastFocus&&(gt.el.lastFocus=void 0)}catch(ln){console.error(ln)}return gt.el.remove(),on(),!0});return function(It,ht,Zt,Nn,Sn,Kn,xn){return Ct.apply(this,arguments)}}(),fe=Ct=>Ct.querySelector("ion-app")||Ct.body,ye=function(){var Ct=(0,u.A)(function*(gt,It,ht,Zt){ht.classList.remove("overlay-hidden");const Sn=It(gt.el,Zt);(!gt.animated||!j.c.getBoolean("animated",!0))&&Sn.duration(0),gt.keyboardClose&&Sn.beforeAddWrite(()=>{const xn=ht.ownerDocument.activeElement;null!=xn&&xn.matches("input,ion-input, ion-textarea")&&xn.blur()});const Kn=ge.get(gt)||[];return ge.set(gt,[...Kn,Sn]),yield Sn.play(),!0});return function(It,ht,Zt,Nn){return Ct.apply(this,arguments)}}(),Re=(Ct,gt)=>{let It;const ht=new Promise(Zt=>It=Zt);return et(Ct,gt,Zt=>{It(Zt.detail)}),ht},et=(Ct,gt,It)=>{const ht=Zt=>{(0,ce.b)(Ct,gt,ht),It(Zt)};(0,ce.a)(Ct,gt,ht)},me=Ct=>"cancel"===Ct||Ct===xt,pt=Ct=>Ct(),bt=(Ct,gt)=>{if("function"==typeof Ct)return j.c.get("_zoneGate",pt)(()=>{try{return Ct(gt)}catch(ht){throw ht}})},xt="backdrop",_t="gesture",$t=39,Pn=Ct=>{let It,gt=!1;const ht=(0,Te.C)(),Zt=(Kn=!1)=>{if(It&&!Kn)return{delegate:It,inline:gt};const{el:xn,hasController:Gn,delegate:ln}=Ct;return gt=null!==xn.parentNode&&!Gn,It=gt?ln||ht:ln,{inline:gt,delegate:It}};return{attachViewToDom:function(){var Kn=(0,u.A)(function*(xn){const{delegate:Gn}=Zt(!0);if(Gn)return yield Gn.attachViewToDom(Ct.el,xn);const{hasController:ln}=Ct;if(ln&&void 0!==xn)throw new Error("framework delegate is missing");return null});return function(Gn){return Kn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Kn}=Zt();Kn&&void 0!==Ct.el&&Kn.removeViewFromDom(Ct.el.parentElement,Ct.el)}}},nn=()=>{let Ct;const gt=()=>{Ct&&(Ct(),Ct=void 0)};return{addClickListener:(ht,Zt)=>{gt();const Nn=void 0!==Zt?document.getElementById(Zt):null;Nn?Ct=((Kn,xn)=>{const Gn=()=>{xn.present()};return Kn.addEventListener("click",Gn),()=>{Kn.removeEventListener("click",Gn)}})(Nn,ht):(0,ie.p)(`A trigger element with the ID "${Zt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ht)},removeClickListener:gt}},vn=Ct=>{var gt;if(void 0===G.d)return;const It=ot(G.d);for(let ht=It.length-1;ht>=0;ht--){const Zt=It[ht],Nn=null!==(gt=It[ht+1])&&void 0!==gt?gt:Ct;(Nn.hasAttribute("aria-hidden")||"ION-TOAST"!==Nn.tagName)&&Zt.setAttribute("aria-hidden","true")}},on=()=>{if(void 0===G.d)return;const Ct=ot(G.d);for(let gt=Ct.length-1;gt>=0;gt--){const It=Ct[gt];if(It.removeAttribute("aria-hidden"),"ION-TOAST"!==It.tagName)break}}},226:(Qt,Je,O)=>{"use strict";var u=O(345),G=O(4438),oe=O(4488),j=O(9253),Te=O(1182);const ce_firebaseConfig={apiKey:"AIzaSyAo4IdcstUnc7v42T1hQzMVHw23O6rYF0o",authDomain:"integradora-c4150.firebaseapp.com",projectId:"integradora-c4150",storageBucket:"integradora-c4150.appspot.com",messagingSenderId:"605592898124",appId:"1:605592898124:web:f585d2a4369f495a74c2e9",measurementId:"G-HCMLYYH998"};var ie=O(3235);let He=(()=>{var we;class xe{constructor(){}}return(we=xe).\u0275fac=function(Ze){return new(Ze||we)},we.\u0275cmp=G.VBU({type:we,selectors:[["app-root"]],decls:2,vars:0,template:function(Ze,Fe){1&Ze&&(G.j41(0,"ion-app"),G.nrm(1,"ion-router-outlet"),G.k0s())},dependencies:[oe.U1,oe.Rg]}),xe})();var $e=O(4964);const ge=[{path:"home",loadChildren:()=>O.e(5075).then(O.bind(O,5075)).then(we=>we.HomePageModule)},{path:"",redirectTo:"default",pathMatch:"full"},{path:"login",loadChildren:()=>Promise.all([O.e(2076),O.e(3485)]).then(O.bind(O,3485)).then(we=>we.LoginPageModule)},{path:"signup",loadChildren:()=>Promise.all([O.e(2076),O.e(3017)]).then(O.bind(O,3017)).then(we=>we.SignupPageModule)},{path:"dashboard",loadChildren:()=>O.e(742).then(O.bind(O,742)).then(we=>we.DashboardPageModule)},{path:"default",loadChildren:()=>O.e(2289).then(O.bind(O,2289)).then(we=>we.DefaultPageModule)}];let le=(()=>{var we;class xe{}return(we=xe).\u0275fac=function(Ze){return new(Ze||we)},we.\u0275mod=G.$C({type:we}),we.\u0275inj=G.G2t({imports:[$e.iI.forRoot(ge,{preloadingStrategy:$e.Kp}),$e.iI]}),xe})(),ke=(()=>{var we;class xe{}return(we=xe).\u0275fac=function(Ze){return new(Ze||we)},we.\u0275mod=G.$C({type:we,bootstrap:[He]}),we.\u0275inj=G.G2t({imports:[u.Bb,oe.bv.forRoot(),le,j.bf.initializeApp(ce_firebaseConfig),Te.X8,ie.cM]}),xe})();(0,G.SmG)(),u.sG().bootstrapModule(ke).catch(we=>console.log(we))},4412:(Qt,Je,O)=>{"use strict";O.d(Je,{t:()=>G});var u=O(1413);class G extends u.B{constructor(j){super(),this._value=j}get value(){return this.getValue()}_subscribe(j){const Te=super._subscribe(j);return!Te.closed&&j.next(this._value),Te}getValue(){const{hasError:j,thrownError:Te,_value:ce}=this;if(j)throw Te;return this._throwIfClosed(),ce}next(j){super.next(this._value=j)}}},1985:(Qt,Je,O)=>{"use strict";O.d(Je,{c:()=>He});var u=O(7707),G=O(8359),oe=O(3494),j=O(1203),Te=O(1026),ce=O(8071),ie=O(9786);let He=(()=>{class ke{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Me=new ke;return Me.source=this,Me.operator=xe,Me}subscribe(xe,Me,Ze){const Fe=function le(ke){return ke&&ke instanceof u.vU||function ge(ke){return ke&&(0,ce.T)(ke.next)&&(0,ce.T)(ke.error)&&(0,ce.T)(ke.complete)}(ke)&&(0,G.Uv)(ke)}(xe)?xe:new u.Ms(xe,Me,Ze);return(0,ie.Y)(()=>{const{operator:Oe,source:Ue}=this;Fe.add(Oe?Oe.call(Fe,Ue):Ue?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Me){xe.error(Me)}}forEach(xe,Me){return new(Me=$e(Me))((Ze,Fe)=>{const Oe=new u.Ms({next:Ue=>{try{xe(Ue)}catch(vt){Fe(vt),Oe.unsubscribe()}},error:Fe,complete:Ze});this.subscribe(Oe)})}_subscribe(xe){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(xe)}[oe.s](){return this}pipe(...xe){return(0,j.m)(xe)(this)}toPromise(xe){return new(xe=$e(xe))((Me,Ze)=>{let Fe;this.subscribe(Oe=>Fe=Oe,Oe=>Ze(Oe),()=>Me(Fe))})}}return ke.create=we=>new ke(we),ke})();function $e(ke){var we;return null!==(we=null!=ke?ke:Te.$.Promise)&&void 0!==we?we:Promise}},1413:(Qt,Je,O)=>{"use strict";O.d(Je,{B:()=>ie});var u=O(1985),G=O(8359);const j=(0,O(1853).L)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=O(7908),ce=O(9786);let ie=(()=>{class $e extends u.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const ke=new He(this,this);return ke.operator=le,ke}_throwIfClosed(){if(this.closed)throw new j}next(le){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(le)}})}error(le){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:ke}=this;for(;ke.length;)ke.shift().error(le)}})}complete(){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:ke,isStopped:we,observers:xe}=this;return ke||we?G.Kn:(this.currentObservers=null,xe.push(le),new G.yU(()=>{this.currentObservers=null,(0,Te.o)(xe,le)}))}_checkFinalizedStatuses(le){const{hasError:ke,thrownError:we,isStopped:xe}=this;ke?le.error(we):xe&&le.complete()}asObservable(){const le=new u.c;return le.source=this,le}}return $e.create=(ge,le)=>new He(ge,le),$e})();class He extends ie{constructor(ge,le){super(),this.destination=ge,this.source=le}next(ge){var le,ke;null===(ke=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===ke||ke.call(le,ge)}error(ge){var le,ke;null===(ke=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===ke||ke.call(le,ge)}complete(){var ge,le;null===(le=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===le||le.call(ge)}_subscribe(ge){var le,ke;return null!==(ke=null===(le=this.source)||void 0===le?void 0:le.subscribe(ge))&&void 0!==ke?ke:G.Kn}}},7707:(Qt,Je,O)=>{"use strict";O.d(Je,{Ms:()=>Ze,vU:()=>ke});var u=O(8071),G=O(8359),oe=O(1026),j=O(5334),Te=O(5343);const ce=$e("C",void 0,void 0);function $e(ae,Ve,Ne){return{kind:ae,value:Ve,error:Ne}}var ge=O(9270),le=O(9786);class ke extends G.yU{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,G.Uv)(Ve)&&Ve.add(this)):this.destination=vt}static create(Ve,Ne,Xe){return new Ze(Ve,Ne,Xe)}next(Ve){this.isStopped?Ue(function He(ae){return $e("N",ae,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?Ue(function ie(ae){return $e("E",void 0,ae)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?Ue(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const we=Function.prototype.bind;function xe(ae,Ve){return we.call(ae,Ve)}class Me{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(Ve)}catch(Xe){Fe(Xe)}}error(Ve){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(Ve)}catch(Xe){Fe(Xe)}else Fe(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(Ne){Fe(Ne)}}}class Ze extends ke{constructor(Ve,Ne,Xe){let J;if(super(),(0,u.T)(Ve)||!Ve)J={next:null!=Ve?Ve:void 0,error:null!=Ne?Ne:void 0,complete:null!=Xe?Xe:void 0};else{let K;this&&oe.$.useDeprecatedNextContext?(K=Object.create(Ve),K.unsubscribe=()=>this.unsubscribe(),J={next:Ve.next&&xe(Ve.next,K),error:Ve.error&&xe(Ve.error,K),complete:Ve.complete&&xe(Ve.complete,K)}):J=Ve}this.destination=new Me(J)}}function Fe(ae){oe.$.useDeprecatedSynchronousErrorHandling?(0,le.l)(ae):(0,j.m)(ae)}function Ue(ae,Ve){const{onStoppedNotification:Ne}=oe.$;Ne&&ge.f.setTimeout(()=>Ne(ae,Ve))}const vt={closed:!0,next:Te.l,error:function Oe(ae){throw ae},complete:Te.l}},8359:(Qt,Je,O)=>{"use strict";O.d(Je,{Kn:()=>ce,yU:()=>Te,Uv:()=>ie});var u=O(8071);const oe=(0,O(1853).L)($e=>function(le){$e(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((ke,we)=>`${we+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var j=O(7908);class Te{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const xe of le)xe.remove(this);else le.remove(this);const{initialTeardown:ke}=this;if((0,u.T)(ke))try{ke()}catch(xe){ge=xe instanceof oe?xe.errors:[xe]}const{_finalizers:we}=this;if(we){this._finalizers=null;for(const xe of we)try{He(xe)}catch(Me){ge=null!=ge?ge:[],Me instanceof oe?ge=[...ge,...Me.errors]:ge.push(Me)}}if(ge)throw new oe(ge)}}add(ge){var le;if(ge&&ge!==this)if(this.closed)He(ge);else{if(ge instanceof Te){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(ge)}}_hasParent(ge){const{_parentage:le}=this;return le===ge||Array.isArray(le)&&le.includes(ge)}_addParent(ge){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ge),le):le?[le,ge]:ge}_removeParent(ge){const{_parentage:le}=this;le===ge?this._parentage=null:Array.isArray(le)&&(0,j.o)(le,ge)}remove(ge){const{_finalizers:le}=this;le&&(0,j.o)(le,ge),ge instanceof Te&&ge._removeParent(this)}}Te.EMPTY=(()=>{const $e=new Te;return $e.closed=!0,$e})();const ce=Te.EMPTY;function ie($e){return $e instanceof Te||$e&&"closed"in $e&&(0,u.T)($e.remove)&&(0,u.T)($e.add)&&(0,u.T)($e.unsubscribe)}function He($e){(0,u.T)($e)?$e():$e.unsubscribe()}},1026:(Qt,Je,O)=>{"use strict";O.d(Je,{$:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Qt,Je,O)=>{"use strict";O.d(Je,{z:()=>ge});var u=O(1985),G=O(3073),oe=O(8455),j=O(3669),Te=O(6450),ce=O(3794),ie=O(8496),He=O(4360),$e=O(5225);function ge(...we){const xe=(0,ce.lI)(we),Me=(0,ce.ms)(we),{args:Ze,keys:Fe}=(0,G.D)(we);if(0===Ze.length)return(0,oe.H)([],xe);const Oe=new u.c(function le(we,xe,Me=j.D){return Ze=>{ke(xe,()=>{const{length:Fe}=we,Oe=new Array(Fe);let Ue=Fe,vt=Fe;for(let ae=0;ae<Fe;ae++)ke(xe,()=>{const Ve=(0,oe.H)(we[ae],xe);let Ne=!1;Ve.subscribe((0,He._)(Ze,Xe=>{Oe[ae]=Xe,Ne||(Ne=!0,vt--),vt||Ze.next(Me(Oe.slice()))},()=>{--Ue||Ze.complete()}))},Ze)},Ze)}}(Ze,xe,Fe?Ue=>(0,ie.e)(Fe,Ue):j.D));return Me?Oe.pipe((0,Te.I)(Me)):Oe}function ke(we,xe,Me){we?(0,$e.N)(Me,we,xe):xe()}},8793:(Qt,Je,O)=>{"use strict";O.d(Je,{x:()=>Te});var u=O(6365),oe=O(3794),j=O(8455);function Te(...ce){return function G(){return(0,u.U)(1)}()((0,j.H)(ce,(0,oe.lI)(ce)))}},983:(Qt,Je,O)=>{"use strict";O.d(Je,{w:()=>G});const G=new(O(1985).c)(Te=>Te.complete())},8455:(Qt,Je,O)=>{"use strict";O.d(Je,{H:()=>Ve});var u=O(8750),G=O(941),oe=O(6745),ce=O(1985),He=O(4761),$e=O(8071),ge=O(5225);function ke(Ne,Xe){if(!Ne)throw new Error("Iterable cannot be null");return new ce.c(J=>{(0,ge.N)(J,Xe,()=>{const K=Ne[Symbol.asyncIterator]();(0,ge.N)(J,Xe,()=>{K.next().then(De=>{De.done?J.complete():J.next(De.value)})},0,!0)})})}var we=O(5055),xe=O(9858),Me=O(7441),Ze=O(5397),Fe=O(7953),Oe=O(591),Ue=O(5196);function Ve(Ne,Xe){return Xe?function ae(Ne,Xe){if(null!=Ne){if((0,we.l)(Ne))return function j(Ne,Xe){return(0,u.Tg)(Ne).pipe((0,oe._)(Xe),(0,G.Q)(Xe))}(Ne,Xe);if((0,Me.X)(Ne))return function ie(Ne,Xe){return new ce.c(J=>{let K=0;return Xe.schedule(function(){K===Ne.length?J.complete():(J.next(Ne[K++]),J.closed||this.schedule())})})}(Ne,Xe);if((0,xe.y)(Ne))return function Te(Ne,Xe){return(0,u.Tg)(Ne).pipe((0,oe._)(Xe),(0,G.Q)(Xe))}(Ne,Xe);if((0,Fe.T)(Ne))return ke(Ne,Xe);if((0,Ze.x)(Ne))return function le(Ne,Xe){return new ce.c(J=>{let K;return(0,ge.N)(J,Xe,()=>{K=Ne[He.l](),(0,ge.N)(J,Xe,()=>{let De,z;try{({value:De,done:z}=K.next())}catch(je){return void J.error(je)}z?J.complete():J.next(De)},0,!0)}),()=>(0,$e.T)(null==K?void 0:K.return)&&K.return()})}(Ne,Xe);if((0,Ue.U)(Ne))return function vt(Ne,Xe){return ke((0,Ue.C)(Ne),Xe)}(Ne,Xe)}throw(0,Oe.L)(Ne)}(Ne,Xe):(0,u.Tg)(Ne)}},3726:(Qt,Je,O)=>{"use strict";O.d(Je,{R:()=>ge});var u=O(8750),G=O(1985),oe=O(1397),j=O(7441),Te=O(8071),ce=O(6450);const ie=["addListener","removeListener"],He=["addEventListener","removeEventListener"],$e=["on","off"];function ge(Me,Ze,Fe,Oe){if((0,Te.T)(Fe)&&(Oe=Fe,Fe=void 0),Oe)return ge(Me,Ze,Fe).pipe((0,ce.I)(Oe));const[Ue,vt]=function xe(Me){return(0,Te.T)(Me.addEventListener)&&(0,Te.T)(Me.removeEventListener)}(Me)?He.map(ae=>Ve=>Me[ae](Ze,Ve,Fe)):function ke(Me){return(0,Te.T)(Me.addListener)&&(0,Te.T)(Me.removeListener)}(Me)?ie.map(le(Me,Ze)):function we(Me){return(0,Te.T)(Me.on)&&(0,Te.T)(Me.off)}(Me)?$e.map(le(Me,Ze)):[];if(!Ue&&(0,j.X)(Me))return(0,oe.Z)(ae=>ge(ae,Ze,Fe))((0,u.Tg)(Me));if(!Ue)throw new TypeError("Invalid event target");return new G.c(ae=>{const Ve=(...Ne)=>ae.next(1<Ne.length?Ne:Ne[0]);return Ue(Ve),()=>vt(Ve)})}function le(Me,Ze){return Fe=>Oe=>Me[Fe](Ze,Oe)}},8750:(Qt,Je,O)=>{"use strict";O.d(Je,{Tg:()=>we});var u=O(1635),G=O(7441),oe=O(9858),j=O(1985),Te=O(5055),ce=O(7953),ie=O(591),He=O(5397),$e=O(5196),ge=O(8071),le=O(5334),ke=O(3494);function we(ae){if(ae instanceof j.c)return ae;if(null!=ae){if((0,Te.l)(ae))return function xe(ae){return new j.c(Ve=>{const Ne=ae[ke.s]();if((0,ge.T)(Ne.subscribe))return Ne.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,G.X)(ae))return function Me(ae){return new j.c(Ve=>{for(let Ne=0;Ne<ae.length&&!Ve.closed;Ne++)Ve.next(ae[Ne]);Ve.complete()})}(ae);if((0,oe.y)(ae))return function Ze(ae){return new j.c(Ve=>{ae.then(Ne=>{Ve.closed||(Ve.next(Ne),Ve.complete())},Ne=>Ve.error(Ne)).then(null,le.m)})}(ae);if((0,ce.T)(ae))return Oe(ae);if((0,He.x)(ae))return function Fe(ae){return new j.c(Ve=>{for(const Ne of ae)if(Ve.next(Ne),Ve.closed)return;Ve.complete()})}(ae);if((0,$e.U)(ae))return function Ue(ae){return Oe((0,$e.C)(ae))}(ae)}throw(0,ie.L)(ae)}function Oe(ae){return new j.c(Ve=>{(function vt(ae,Ve){var Ne,Xe,J,K;return(0,u.sH)(this,void 0,void 0,function*(){try{for(Ne=(0,u.xN)(ae);!(Xe=yield Ne.next()).done;)if(Ve.next(Xe.value),Ve.closed)return}catch(De){J={error:De}}finally{try{Xe&&!Xe.done&&(K=Ne.return)&&(yield K.call(Ne))}finally{if(J)throw J.error}}Ve.complete()})})(ae,Ve).catch(Ne=>Ve.error(Ne))})}},7673:(Qt,Je,O)=>{"use strict";O.d(Je,{of:()=>oe});var u=O(3794),G=O(8455);function oe(...j){const Te=(0,u.lI)(j);return(0,G.H)(j,Te)}},4360:(Qt,Je,O)=>{"use strict";O.d(Je,{_:()=>G});var u=O(7707);function G(j,Te,ce,ie,He){return new oe(j,Te,ce,ie,He)}class oe extends u.vU{constructor(Te,ce,ie,He,$e,ge){super(Te),this.onFinalize=$e,this.shouldUnsubscribe=ge,this._next=ce?function(le){try{ce(le)}catch(ke){Te.error(ke)}}:super._next,this._error=He?function(le){try{He(le)}catch(ke){Te.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(le){Te.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},9901:(Qt,Je,O)=>{"use strict";O.d(Je,{U:()=>oe});var u=O(9974),G=O(4360);function oe(j){return(0,u.N)((Te,ce)=>{let ie=!1;Te.subscribe((0,G._)(ce,He=>{ie=!0,ce.next(He)},()=>{ie||ce.next(j),ce.complete()}))})}},3294:(Qt,Je,O)=>{"use strict";O.d(Je,{F:()=>j});var u=O(3669),G=O(9974),oe=O(4360);function j(ce,ie=u.D){return ce=null!=ce?ce:Te,(0,G.N)((He,$e)=>{let ge,le=!0;He.subscribe((0,oe._)($e,ke=>{const we=ie(ke);(le||!ce(ge,we))&&(le=!1,ge=we,$e.next(ke))}))})}function Te(ce,ie){return ce===ie}},5964:(Qt,Je,O)=>{"use strict";O.d(Je,{p:()=>oe});var u=O(9974),G=O(4360);function oe(j,Te){return(0,u.N)((ce,ie)=>{let He=0;ce.subscribe((0,G._)(ie,$e=>j.call(Te,$e,He++)&&ie.next($e)))})}},1594:(Qt,Je,O)=>{"use strict";O.d(Je,{$:()=>ie});var u=O(9350),G=O(5964),oe=O(6697),j=O(9901),Te=O(3774),ce=O(3669);function ie(He,$e){const ge=arguments.length>=2;return le=>le.pipe(He?(0,G.p)((ke,we)=>He(ke,we,le)):ce.D,(0,oe.s)(1),ge?(0,j.U)($e):(0,Te.v)(()=>new u.G))}},6354:(Qt,Je,O)=>{"use strict";O.d(Je,{T:()=>oe});var u=O(9974),G=O(4360);function oe(j,Te){return(0,u.N)((ce,ie)=>{let He=0;ce.subscribe((0,G._)(ie,$e=>{ie.next(j.call(Te,$e,He++))}))})}},6365:(Qt,Je,O)=>{"use strict";O.d(Je,{U:()=>oe});var u=O(1397),G=O(3669);function oe(j=1/0){return(0,u.Z)(G.D,j)}},1397:(Qt,Je,O)=>{"use strict";O.d(Je,{Z:()=>He});var u=O(6354),G=O(8750),oe=O(9974),j=O(5225),Te=O(4360),ie=O(8071);function He($e,ge,le=1/0){return(0,ie.T)(ge)?He((ke,we)=>(0,u.T)((xe,Me)=>ge(ke,xe,we,Me))((0,G.Tg)($e(ke,we))),le):("number"==typeof ge&&(le=ge),(0,oe.N)((ke,we)=>function ce($e,ge,le,ke,we,xe,Me,Ze){const Fe=[];let Oe=0,Ue=0,vt=!1;const ae=()=>{vt&&!Fe.length&&!Oe&&ge.complete()},Ve=Xe=>Oe<ke?Ne(Xe):Fe.push(Xe),Ne=Xe=>{xe&&ge.next(Xe),Oe++;let J=!1;(0,G.Tg)(le(Xe,Ue++)).subscribe((0,Te._)(ge,K=>{null==we||we(K),xe?Ve(K):ge.next(K)},()=>{J=!0},void 0,()=>{if(J)try{for(Oe--;Fe.length&&Oe<ke;){const K=Fe.shift();Me?(0,j.N)(ge,Me,()=>Ne(K)):Ne(K)}ae()}catch(K){ge.error(K)}}))};return $e.subscribe((0,Te._)(ge,Ve,()=>{vt=!0,ae()})),()=>{null==Ze||Ze()}}(ke,we,$e,le)))}},941:(Qt,Je,O)=>{"use strict";O.d(Je,{Q:()=>j});var u=O(5225),G=O(9974),oe=O(4360);function j(Te,ce=0){return(0,G.N)((ie,He)=>{ie.subscribe((0,oe._)(He,$e=>(0,u.N)(He,Te,()=>He.next($e),ce),()=>(0,u.N)(He,Te,()=>He.complete(),ce),$e=>(0,u.N)(He,Te,()=>He.error($e),ce)))})}},2816:(Qt,Je,O)=>{"use strict";O.d(Je,{S:()=>j});var u=O(9974),G=O(4360);function j(Te,ce){return(0,u.N)(function oe(Te,ce,ie,He,$e){return(ge,le)=>{let ke=ie,we=ce,xe=0;ge.subscribe((0,G._)(le,Me=>{const Ze=xe++;we=ke?Te(we,Me,Ze):(ke=!0,Me),He&&le.next(we)},$e&&(()=>{ke&&le.next(we),le.complete()})))}}(Te,ce,arguments.length>=2,!0))}},9172:(Qt,Je,O)=>{"use strict";O.d(Je,{Z:()=>j});var u=O(8793),G=O(3794),oe=O(9974);function j(...Te){const ce=(0,G.lI)(Te);return(0,oe.N)((ie,He)=>{(ce?(0,u.x)(Te,ie,ce):(0,u.x)(Te,ie)).subscribe(He)})}},6745:(Qt,Je,O)=>{"use strict";O.d(Je,{_:()=>G});var u=O(9974);function G(oe,j=0){return(0,u.N)((Te,ce)=>{ce.add(oe.schedule(()=>Te.subscribe(ce),j))})}},5558:(Qt,Je,O)=>{"use strict";O.d(Je,{n:()=>j});var u=O(8750),G=O(9974),oe=O(4360);function j(Te,ce){return(0,G.N)((ie,He)=>{let $e=null,ge=0,le=!1;const ke=()=>le&&!$e&&He.complete();ie.subscribe((0,oe._)(He,we=>{null==$e||$e.unsubscribe();let xe=0;const Me=ge++;(0,u.Tg)(Te(we,Me)).subscribe($e=(0,oe._)(He,Ze=>He.next(ce?ce(we,Ze,Me,xe++):Ze),()=>{$e=null,ke()}))},()=>{le=!0,ke()}))})}},6697:(Qt,Je,O)=>{"use strict";O.d(Je,{s:()=>j});var u=O(983),G=O(9974),oe=O(4360);function j(Te){return Te<=0?()=>u.w:(0,G.N)((ce,ie)=>{let He=0;ce.subscribe((0,oe._)(ie,$e=>{++He<=Te&&(ie.next($e),Te<=He&&ie.complete())}))})}},8141:(Qt,Je,O)=>{"use strict";O.d(Je,{M:()=>Te});var u=O(8071),G=O(9974),oe=O(4360),j=O(3669);function Te(ce,ie,He){const $e=(0,u.T)(ce)||ie||He?{next:ce,error:ie,complete:He}:ce;return $e?(0,G.N)((ge,le)=>{var ke;null===(ke=$e.subscribe)||void 0===ke||ke.call($e);let we=!0;ge.subscribe((0,oe._)(le,xe=>{var Me;null===(Me=$e.next)||void 0===Me||Me.call($e,xe),le.next(xe)},()=>{var xe;we=!1,null===(xe=$e.complete)||void 0===xe||xe.call($e),le.complete()},xe=>{var Me;we=!1,null===(Me=$e.error)||void 0===Me||Me.call($e,xe),le.error(xe)},()=>{var xe,Me;we&&(null===(xe=$e.unsubscribe)||void 0===xe||xe.call($e)),null===(Me=$e.finalize)||void 0===Me||Me.call($e)}))}):j.D}},3774:(Qt,Je,O)=>{"use strict";O.d(Je,{v:()=>j});var u=O(9350),G=O(9974),oe=O(4360);function j(ce=Te){return(0,G.N)((ie,He)=>{let $e=!1;ie.subscribe((0,oe._)(He,ge=>{$e=!0,He.next(ge)},()=>$e?He.complete():He.error(ce())))})}function Te(){return new u.G}},6780:(Qt,Je,O)=>{"use strict";O.d(Je,{R:()=>Te});var u=O(8359);class G extends u.yU{constructor(ie,He){super()}schedule(ie,He=0){return this}}const oe={setInterval(ce,ie,...He){const{delegate:$e}=oe;return null!=$e&&$e.setInterval?$e.setInterval(ce,ie,...He):setInterval(ce,ie,...He)},clearInterval(ce){const{delegate:ie}=oe;return((null==ie?void 0:ie.clearInterval)||clearInterval)(ce)},delegate:void 0};var j=O(7908);class Te extends G{constructor(ie,He){super(ie,He),this.scheduler=ie,this.work=He,this.pending=!1}schedule(ie,He=0){var $e;if(this.closed)return this;this.state=ie;const ge=this.id,le=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(le,ge,He)),this.pending=!0,this.delay=He,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(le,this.id,He),this}requestAsyncId(ie,He,$e=0){return oe.setInterval(ie.flush.bind(ie,this),$e)}recycleAsyncId(ie,He,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return He;null!=He&&oe.clearInterval(He)}execute(ie,He){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(ie,He);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,He){let ge,$e=!1;try{this.work(ie)}catch(le){$e=!0,ge=le||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),ge}unsubscribe(){if(!this.closed){const{id:ie,scheduler:He}=this,{actions:$e}=He;this.work=this.state=this.scheduler=null,this.pending=!1,(0,j.o)($e,this),null!=ie&&(this.id=this.recycleAsyncId(He,ie,null)),this.delay=null,super.unsubscribe()}}}},9687:(Qt,Je,O)=>{"use strict";O.d(Je,{q:()=>oe});var u=O(6129);class G{constructor(Te,ce=G.now){this.schedulerActionCtor=Te,this.now=ce}schedule(Te,ce=0,ie){return new this.schedulerActionCtor(this,Te).schedule(ie,ce)}}G.now=u.U.now;class oe extends G{constructor(Te,ce=G.now){super(Te,ce),this.actions=[],this._active=!1}flush(Te){const{actions:ce}=this;if(this._active)return void ce.push(Te);let ie;this._active=!0;do{if(ie=Te.execute(Te.state,Te.delay))break}while(Te=ce.shift());if(this._active=!1,ie){for(;Te=ce.shift();)Te.unsubscribe();throw ie}}}},3236:(Qt,Je,O)=>{"use strict";O.d(Je,{E:()=>oe});var u=O(6780);const oe=new(O(9687).q)(u.R)},6129:(Qt,Je,O)=>{"use strict";O.d(Je,{U:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},9270:(Qt,Je,O)=>{"use strict";O.d(Je,{f:()=>u});const u={setTimeout(G,oe,...j){const{delegate:Te}=u;return null!=Te&&Te.setTimeout?Te.setTimeout(G,oe,...j):setTimeout(G,oe,...j)},clearTimeout(G){const{delegate:oe}=u;return((null==oe?void 0:oe.clearTimeout)||clearTimeout)(G)},delegate:void 0}},4761:(Qt,Je,O)=>{"use strict";O.d(Je,{l:()=>G});const G=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Qt,Je,O)=>{"use strict";O.d(Je,{s:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Qt,Je,O)=>{"use strict";O.d(Je,{G:()=>G});const G=(0,O(1853).L)(oe=>function(){oe(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Qt,Je,O)=>{"use strict";O.d(Je,{R0:()=>ce,ms:()=>j,lI:()=>Te});var u=O(8071);function oe(ie){return ie[ie.length-1]}function j(ie){return(0,u.T)(oe(ie))?ie.pop():void 0}function Te(ie){return function G(ie){return ie&&(0,u.T)(ie.schedule)}(oe(ie))?ie.pop():void 0}function ce(ie,He){return"number"==typeof oe(ie)?ie.pop():He}},3073:(Qt,Je,O)=>{"use strict";O.d(Je,{D:()=>Te});const{isArray:u}=Array,{getPrototypeOf:G,prototype:oe,keys:j}=Object;function Te(ie){if(1===ie.length){const He=ie[0];if(u(He))return{args:He,keys:null};if(function ce(ie){return ie&&"object"==typeof ie&&G(ie)===oe}(He)){const $e=j(He);return{args:$e.map(ge=>He[ge]),keys:$e}}}return{args:ie,keys:null}}},7908:(Qt,Je,O)=>{"use strict";function u(G,oe){if(G){const j=G.indexOf(oe);0<=j&&G.splice(j,1)}}O.d(Je,{o:()=>u})},1853:(Qt,Je,O)=>{"use strict";function u(G){const j=G(Te=>{Error.call(Te),Te.stack=(new Error).stack});return j.prototype=Object.create(Error.prototype),j.prototype.constructor=j,j}O.d(Je,{L:()=>u})},8496:(Qt,Je,O)=>{"use strict";function u(G,oe){return G.reduce((j,Te,ce)=>(j[Te]=oe[ce],j),{})}O.d(Je,{e:()=>u})},9786:(Qt,Je,O)=>{"use strict";O.d(Je,{Y:()=>oe,l:()=>j});var u=O(1026);let G=null;function oe(Te){if(u.$.useDeprecatedSynchronousErrorHandling){const ce=!G;if(ce&&(G={errorThrown:!1,error:null}),Te(),ce){const{errorThrown:ie,error:He}=G;if(G=null,ie)throw He}}else Te()}function j(Te){u.$.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=Te)}},5225:(Qt,Je,O)=>{"use strict";function u(G,oe,j,Te=0,ce=!1){const ie=oe.schedule(function(){j(),ce?G.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(G.add(ie),!ce)return ie}O.d(Je,{N:()=>u})},3669:(Qt,Je,O)=>{"use strict";function u(G){return G}O.d(Je,{D:()=>u})},7441:(Qt,Je,O)=>{"use strict";O.d(Je,{X:()=>u});const u=G=>G&&"number"==typeof G.length&&"function"!=typeof G},7953:(Qt,Je,O)=>{"use strict";O.d(Je,{T:()=>G});var u=O(8071);function G(oe){return Symbol.asyncIterator&&(0,u.T)(null==oe?void 0:oe[Symbol.asyncIterator])}},8071:(Qt,Je,O)=>{"use strict";function u(G){return"function"==typeof G}O.d(Je,{T:()=>u})},5055:(Qt,Je,O)=>{"use strict";O.d(Je,{l:()=>oe});var u=O(3494),G=O(8071);function oe(j){return(0,G.T)(j[u.s])}},5397:(Qt,Je,O)=>{"use strict";O.d(Je,{x:()=>oe});var u=O(4761),G=O(8071);function oe(j){return(0,G.T)(null==j?void 0:j[u.l])}},9858:(Qt,Je,O)=>{"use strict";O.d(Je,{y:()=>G});var u=O(8071);function G(oe){return(0,u.T)(null==oe?void 0:oe.then)}},5196:(Qt,Je,O)=>{"use strict";O.d(Je,{C:()=>oe,U:()=>j});var u=O(1635),G=O(8071);function oe(Te){return(0,u.AQ)(this,arguments,function*(){const ie=Te.getReader();try{for(;;){const{value:He,done:$e}=yield(0,u.N3)(ie.read());if($e)return yield(0,u.N3)(void 0);yield yield(0,u.N3)(He)}}finally{ie.releaseLock()}})}function j(Te){return(0,G.T)(null==Te?void 0:Te.getReader)}},9974:(Qt,Je,O)=>{"use strict";O.d(Je,{N:()=>oe,S:()=>G});var u=O(8071);function G(j){return(0,u.T)(null==j?void 0:j.lift)}function oe(j){return Te=>{if(G(Te))return Te.lift(function(ce){try{return j(ce,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Qt,Je,O)=>{"use strict";O.d(Je,{I:()=>j});var u=O(6354);const{isArray:G}=Array;function j(Te){return(0,u.T)(ce=>function oe(Te,ce){return G(ce)?Te(...ce):Te(ce)}(Te,ce))}},5343:(Qt,Je,O)=>{"use strict";function u(){}O.d(Je,{l:()=>u})},1203:(Qt,Je,O)=>{"use strict";O.d(Je,{F:()=>G,m:()=>oe});var u=O(3669);function G(...j){return oe(j)}function oe(j){return 0===j.length?u.D:1===j.length?j[0]:function(ce){return j.reduce((ie,He)=>He(ie),ce)}}},5334:(Qt,Je,O)=>{"use strict";O.d(Je,{m:()=>oe});var u=O(1026),G=O(9270);function oe(j){G.f.setTimeout(()=>{const{onUnhandledError:Te}=u.$;if(!Te)throw j;Te(j)})}},591:(Qt,Je,O)=>{"use strict";function u(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Je,{L:()=>u})},8996:(Qt,Je,O)=>{var u={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,2076,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,771,7428],"./ion-datetime_3.entry.js":[5266,771,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-internal.entry.js":[1433,2076,1433],"./ion-picker-internal.entry.js":[2628,2628],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function G(oe){if(!O.o(u,oe))return Promise.resolve().then(()=>{var ce=new Error("Cannot find module '"+oe+"'");throw ce.code="MODULE_NOT_FOUND",ce});var j=u[oe],Te=j[0];return Promise.all(j.slice(1).map(O.e)).then(()=>O(Te))}G.keys=()=>Object.keys(u),G.id=8996,Qt.exports=G},177:(Qt,Je,O)=>{"use strict";O.d(Je,{AJ:()=>gs,Jj:()=>Ut,MD:()=>ps,N0:()=>ms,QT:()=>oe,Sm:()=>Ze,Sq:()=>he,T3:()=>it,VF:()=>Te,Vy:()=>oa,Xr:()=>Jo,ZD:()=>j,_b:()=>Un,aZ:()=>Oe,bT:()=>pe,fw:()=>Fe,hb:()=>xe,hj:()=>$e,qQ:()=>ie});var u=O(4438);let G=null;function oe(){return G}function j(C){var k;null!==(k=G)&&void 0!==k||(G=C)}class Te{}const ie=new u.nKC("");let He=(()=>{var C;class k{historyGo(x){throw new Error("")}}return(C=k).\u0275fac=function(x){return new(x||C)},C.\u0275prov=u.jDH({token:C,factory:()=>(0,u.WQX)(ge),providedIn:"platform"}),k})();const $e=new u.nKC("");let ge=(()=>{var C;class k extends He{constructor(){super(),this._doc=(0,u.WQX)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oe().getBaseHref(this._doc)}onPopState(x){const ne=oe().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",x,!1),()=>ne.removeEventListener("popstate",x)}onHashChange(x){const ne=oe().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",x,!1),()=>ne.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,ne,Se){this._history.pushState(x,ne,Se)}replaceState(x,ne,Se){this._history.replaceState(x,ne,Se)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return(C=k).\u0275fac=function(x){return new(x||C)},C.\u0275prov=u.jDH({token:C,factory:()=>new C,providedIn:"platform"}),k})();function le(C,k){if(0==C.length)return k;if(0==k.length)return C;let _e=0;return C.endsWith("/")&&_e++,k.startsWith("/")&&_e++,2==_e?C+k.substring(1):1==_e?C+k:C+"/"+k}function ke(C){const k=C.match(/#|\?|$/),_e=k&&k.index||C.length;return C.slice(0,_e-("/"===C[_e-1]?1:0))+C.slice(_e)}function we(C){return C&&"?"!==C[0]?"?"+C:C}let xe=(()=>{var C;class k{historyGo(x){throw new Error("")}}return(C=k).\u0275fac=function(x){return new(x||C)},C.\u0275prov=u.jDH({token:C,factory:()=>(0,u.WQX)(Ze),providedIn:"root"}),k})();const Me=new u.nKC("");let Ze=(()=>{var C;class k extends xe{constructor(x,ne){var Se,At,Kt;super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=null!==(Se=null!==(At=null!=ne?ne:this._platformLocation.getBaseHrefFromDOM())&&void 0!==At?At:null===(Kt=(0,u.WQX)(ie).location)||void 0===Kt?void 0:Kt.origin)&&void 0!==Se?Se:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return le(this._baseHref,x)}path(x=!1){const ne=this._platformLocation.pathname+we(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&x?`${ne}${Se}`:ne}pushState(x,ne,Se,At){const Kt=this.prepareExternalUrl(Se+we(At));this._platformLocation.pushState(x,ne,Kt)}replaceState(x,ne,Se,At){const Kt=this.prepareExternalUrl(Se+we(At));this._platformLocation.replaceState(x,ne,Kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){var ne,Se;null===(ne=(Se=this._platformLocation).historyGo)||void 0===ne||ne.call(Se,x)}}return(C=k).\u0275fac=function(x){return new(x||C)(u.KVO(He),u.KVO(Me,8))},C.\u0275prov=u.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),k})(),Fe=(()=>{var C;class k extends xe{constructor(x,ne){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){var ne;const Se=null!==(ne=this._platformLocation.hash)&&void 0!==ne?ne:"#";return Se.length>0?Se.substring(1):Se}prepareExternalUrl(x){const ne=le(this._baseHref,x);return ne.length>0?"#"+ne:ne}pushState(x,ne,Se,At){let Kt=this.prepareExternalUrl(Se+we(At));0==Kt.length&&(Kt=this._platformLocation.pathname),this._platformLocation.pushState(x,ne,Kt)}replaceState(x,ne,Se,At){let Kt=this.prepareExternalUrl(Se+we(At));0==Kt.length&&(Kt=this._platformLocation.pathname),this._platformLocation.replaceState(x,ne,Kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){var ne,Se;null===(ne=(Se=this._platformLocation).historyGo)||void 0===ne||ne.call(Se,x)}}return(C=k).\u0275fac=function(x){return new(x||C)(u.KVO(He),u.KVO(Me,8))},C.\u0275prov=u.jDH({token:C,factory:C.\u0275fac}),k})(),Oe=(()=>{var C;class k{constructor(x){this._subject=new u.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const ne=this._locationStrategy.getBaseHref();this._basePath=function Ve(C){if(new RegExp("^(https?:)?//").test(C)){const[,_e]=C.split(/\/\/[^\/]+/);return _e}return C}(ke(ae(ne))),this._locationStrategy.onPopState(Se=>{this._subject.emit({url:this.path(!0),pop:!0,state:Se.state,type:Se.type})})}ngOnDestroy(){var x;null===(x=this._urlChangeSubscription)||void 0===x||x.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,ne=""){return this.path()==this.normalize(x+we(ne))}normalize(x){return k.stripTrailingSlash(function vt(C,k){if(!C||!k.startsWith(C))return k;const _e=k.substring(C.length);return""===_e||["/",";","?","#"].includes(_e[0])?_e:k}(this._basePath,ae(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,ne="",Se=null){this._locationStrategy.pushState(Se,"",x,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+we(ne)),Se)}replaceState(x,ne="",Se=null){this._locationStrategy.replaceState(Se,"",x,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+we(ne)),Se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){var ne,Se;null===(ne=(Se=this._locationStrategy).historyGo)||void 0===ne||ne.call(Se,x)}onUrlChange(x){var ne;return this._urlChangeListeners.push(x),null!==(ne=this._urlChangeSubscription)&&void 0!==ne||(this._urlChangeSubscription=this.subscribe(Se=>{this._notifyUrlChangeListeners(Se.url,Se.state)})),()=>{const Se=this._urlChangeListeners.indexOf(x);var At;this._urlChangeListeners.splice(Se,1),0===this._urlChangeListeners.length&&(null===(At=this._urlChangeSubscription)||void 0===At||At.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",ne){this._urlChangeListeners.forEach(Se=>Se(x,ne))}subscribe(x,ne,Se){return this._subject.subscribe({next:x,error:ne,complete:Se})}}return(C=k).normalizeQueryParams=we,C.joinWithSlash=le,C.stripTrailingSlash=ke,C.\u0275fac=function(x){return new(x||C)(u.KVO(xe))},C.\u0275prov=u.jDH({token:C,factory:()=>function Ue(){return new Oe((0,u.KVO)(xe))}(),providedIn:"root"}),k})();function ae(C){return C.replace(/\/index.html$/,"")}function Un(C,k){k=encodeURIComponent(k);for(const _e of C.split(";")){const x=_e.indexOf("="),[ne,Se]=-1==x?[_e,""]:[_e.slice(0,x),_e.slice(x+1)];if(ne.trim()===k)return decodeURIComponent(Se)}return null}class mo{constructor(k,_e,x,ne){this.$implicit=k,this.ngForOf=_e,this.index=x,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let he=(()=>{var C;class k{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,ne,Se){this._viewContainer=x,this._template=ne,this._differs=Se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const ne=this._viewContainer;x.forEachOperation((Se,At,Kt)=>{if(null==Se.previousIndex)ne.createEmbeddedView(this._template,new mo(Se.item,this._ngForOf,-1,-1),null===Kt?void 0:Kt);else if(null==Kt)ne.remove(null===At?void 0:At);else if(null!==At){const _r=ne.get(At);ne.move(_r,Kt),Ie(_r,Se)}});for(let Se=0,At=ne.length;Se<At;Se++){const _r=ne.get(Se).context;_r.index=Se,_r.count=At,_r.ngForOf=this._ngForOf}x.forEachIdentityChange(Se=>{Ie(ne.get(Se.currentIndex),Se)})}static ngTemplateContextGuard(x,ne){return!0}}return(C=k).\u0275fac=function(x){return new(x||C)(u.rXU(u.c1b),u.rXU(u.C4Q),u.rXU(u._q3))},C.\u0275dir=u.FsC({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),k})();function Ie(C,k){C.context.$implicit=k.item}let pe=(()=>{var C;class k{constructor(x,ne){this._viewContainer=x,this._context=new rt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Pt("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Pt("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,ne){return!0}}return(C=k).\u0275fac=function(x){return new(x||C)(u.rXU(u.c1b),u.rXU(u.C4Q))},C.\u0275dir=u.FsC({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),k})();class rt{constructor(){this.$implicit=null,this.ngIf=null}}function Pt(C,k){if(k&&!k.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,u.Tbb)(k)}'.`)}let it=(()=>{var C;class k{constructor(x){this._viewContainerRef=x,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(x){if(this._shouldRecreateView(x)){var ne;const Se=this._viewContainerRef;if(this._viewRef&&Se.remove(Se.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const At=this._createContextForwardProxy();this._viewRef=Se.createEmbeddedView(this.ngTemplateOutlet,At,{injector:null!==(ne=this.ngTemplateOutletInjector)&&void 0!==ne?ne:void 0})}}_shouldRecreateView(x){return!!x.ngTemplateOutlet||!!x.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(x,ne,Se)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ne,Se),get:(x,ne,Se)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ne,Se)}})}}return(C=k).\u0275fac=function(x){return new(x||C)(u.rXU(u.c1b))},C.\u0275dir=u.FsC({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.OA$]}),k})();class Lt{createSubscription(k,_e){return(0,u.O8t)(()=>k.subscribe({next:_e,error:x=>{throw x}}))}dispose(k){(0,u.O8t)(()=>k.unsubscribe())}}class zt{createSubscription(k,_e){return k.then(_e,x=>{throw x})}dispose(k){}}const Gt=new zt,Wt=new Lt;let Ut=(()=>{var C;class k{constructor(x){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=x}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(x){if(!this._obj){if(x)try{this.markForCheckOnValueUpdate=!1,this._subscribe(x)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,ne=>this._updateLatestValue(x,ne))}_selectStrategy(x){if((0,u.jNT)(x))return Gt;if((0,u.zjR)(x))return Wt;throw function kt(C,k){return new u.wOt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,ne){var Se;x===this._obj&&(this._latestValue=ne,this.markForCheckOnValueUpdate)&&(null===(Se=this._ref)||void 0===Se||Se.markForCheck())}}return(C=k).\u0275fac=function(x){return new(x||C)(u.rXU(u.gRc,16))},C.\u0275pipe=u.EJ8({name:"async",type:C,pure:!1,standalone:!0}),k})(),ps=(()=>{var C;class k{}return(C=k).\u0275fac=function(x){return new(x||C)},C.\u0275mod=u.$C({type:C}),C.\u0275inj=u.G2t({}),k})();const gs="browser",Ro="server";function oa(C){return C===Ro}let Jo=(()=>{var C;class k{}return(C=k).\u0275prov=(0,u.jDH)({token:C,providedIn:"root",factory:()=>function Li(C){return C===gs}((0,u.WQX)(u.Agw))?new Ui((0,u.WQX)(ie),window):new tl}),k})();class Ui{constructor(k,_e){this.document=k,this.window=_e,this.offset=()=>[0,0]}setOffset(k){this.offset=Array.isArray(k)?()=>k:k}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(k){this.window.scrollTo(k[0],k[1])}scrollToAnchor(k){const _e=function Bi(C,k){const _e=C.getElementById(k)||C.getElementsByName(k)[0];if(_e)return _e;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const x=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let ne=x.currentNode;for(;ne;){const Se=ne.shadowRoot;if(Se){const At=Se.getElementById(k)||Se.querySelector(`[name="${k}"]`);if(At)return At}ne=x.nextNode()}}return null}(this.document,k);_e&&(this.scrollToElement(_e),_e.focus())}setHistoryScrollRestoration(k){this.window.history.scrollRestoration=k}scrollToElement(k){const _e=k.getBoundingClientRect(),x=_e.left+this.window.pageXOffset,ne=_e.top+this.window.pageYOffset,Se=this.offset();this.window.scrollTo(x-Se[0],ne-Se[1])}}class tl{setOffset(k){}getScrollPosition(){return[0,0]}scrollToPosition(k){}scrollToAnchor(k){}setHistoryScrollRestoration(k){}}class ms{}},4438:(Qt,Je,O)=>{"use strict";O.d(Je,{iLQ:()=>$0,sZ2:()=>Su,hnV:()=>vT,Hbi:()=>nP,o8S:()=>lh,BIS:()=>Ug,gRc:()=>MT,Ql9:()=>bM,Ocv:()=>kM,Z63:()=>ns,aKT:()=>_l,uvJ:()=>Eo,zcH:()=>Do,bkB:()=>cs,$GK:()=>Ut,nKC:()=>wn,zZn:()=>Qo,_q3:()=>X0,MKu:()=>Q0,xe9:()=>sI,Co$:()=>gv,Vns:()=>Qc,SKi:()=>Ji,Xx1:()=>Li,Agw:()=>bc,PLl:()=>Ru,sFG:()=>Gm,_9s:()=>Hm,czy:()=>yp,kdw:()=>Kr,C4Q:()=>mf,NYb:()=>IM,giA:()=>gT,xvI:()=>qR,RxE:()=>lT,c1b:()=>Za,gXe:()=>Uo,mal:()=>Gc,L39:()=>PP,a0P:()=>UP,Ol2:()=>l,w6W:()=>$y,oH4:()=>wT,SmG:()=>$M,Rfq:()=>si,WQX:()=>Zn,naY:()=>BM,QuC:()=>no,fpN:()=>tP,HJs:()=>BP,N4e:()=>zo,O8t:()=>NP,H3F:()=>uT,H8p:()=>Ns,KH2:()=>bg,TgB:()=>ve,wOt:()=>ht,WHO:()=>fT,e01:()=>pT,H5H:()=>I0,Zy3:()=>Zt,mq5:()=>DD,JZv:()=>_n,LfX:()=>tt,plB:()=>Ya,jNT:()=>U0,zjR:()=>mT,TL$:()=>Uv,Tbb:()=>br,Vt3:()=>uv,Mj6:()=>$i,GFd:()=>By,OA$:()=>Wo,Jv_:()=>VA,aNF:()=>LA,R7$:()=>N_,BMQ:()=>r0,AVh:()=>c0,wni:()=>hA,VBU:()=>Tl,FsC:()=>_s,jDH:()=>Yn,G2t:()=>Ai,$C:()=>xs,EJ8:()=>nl,rXU:()=>Fu,nrm:()=>m0,eu8:()=>y0,k0s:()=>Qy,j41:()=>Xy,RV6:()=>ID,xGo:()=>Du,KVO:()=>Wr,kS0:()=>pc,QTQ:()=>k_,bIt:()=>D0,lsd:()=>gA,XpG:()=>eA,nI1:()=>zA,bMT:()=>WA,SdG:()=>nA,NAR:()=>tA,Y8G:()=>l0,mGM:()=>pA,Njj:()=>hl,eBV:()=>sc,n$t:()=>Kh,DNE:()=>Yc,EFF:()=>TA,JRh:()=>w0,SpI:()=>tI,Lme:()=>b0,GBs:()=>fA}),O(467);let oe=null,Te=1;const ce=Symbol("SIGNAL");function ie(t){const n=oe;return oe=t,n}function xe(t){if((!Xe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Te)){if(!t.producerMustRecompute(t)&&!vt(t))return t.dirty=!1,void(t.lastCleanEpoch=Te);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Te}}function vt(t){J(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==o.version||(xe(o),a!==o.version))return!0}return!1}function Ne(t,n){if(function K(t){var n,o;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),J(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ne(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];J(c),c.producerIndexOfThis[a]=n}}function Xe(t){var n,o;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0}function J(t){var n,o,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let an=null;var nn=O(1413),vn=O(8359),on=O(4412),Ct=O(6354);const It="https://g.co/ng/security#xss";class ht extends Error{constructor(n,o){super(Zt(n,o)),this.code=n}}function Zt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function ln(t){return{toString:t}.toString()}const ur="__parameters__";function Dr(t,n,o){return ln(()=>{const a=function zn(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return _.annotation=m,_;function _(E,N,$){const W=E.hasOwnProperty(ur)?E[ur]:Object.defineProperty(E,ur,{value:[]})[ur];for(;W.length<=$;)W.push(null);return(W[$]=W[$]||[]).push(m),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const _n=globalThis;function Wn(t){for(let n in t)if(t[n]===Wn)return n;throw Error("Could not find renamed property on target object.")}function kr(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function br(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(br).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function Hr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Qr=Wn({__forward_ref__:Wn});function si(t){return t.__forward_ref__=si,t.toString=function(){return br(this())},t}function Ye(t){return ze(t)?t():t}function ze(t){return"function"==typeof t&&t.hasOwnProperty(Qr)&&t.__forward_ref__===si}function Yn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ai(t){return{providers:t.providers||[],imports:t.imports||[]}}function ut(t){return Tt(t,Ln)||Tt(t,Bn)}function tt(t){return null!==ut(t)}function Tt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Dn(t){return t&&(t.hasOwnProperty(Un)||t.hasOwnProperty(Ir))?t[Un]:null}const Ln=Wn({\u0275prov:Wn}),Un=Wn({\u0275inj:Wn}),Bn=Wn({ngInjectableDef:Wn}),Ir=Wn({ngInjectorDef:Wn});class wn{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Yn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function sn(t){return t&&!!t.\u0275providers}const yn=Wn({\u0275cmp:Wn}),On=Wn({\u0275dir:Wn}),Gr=Wn({\u0275pipe:Wn}),dt=Wn({\u0275mod:Wn}),B=Wn({\u0275fac:Wn}),q=Wn({__NG_ELEMENT_ID__:Wn}),Pe=Wn({__NG_ENV_ID__:Wn});function be(t){return"string"==typeof t?t:null==t?"":String(t)}function Wt(t,n){throw new ht(-201,!1)}var Ut=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ut||{});let En;function rr(){return En}function hr(t){const n=En;return En=t,n}function Pr(t,n,o){const a=ut(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Ut.Optional?null:void 0!==n?n:void Wt()}const P={},re="__NG_DI_FLAG__",Qe="ngTempTokenPath",ti=/\n/gm,xi="__source";let _i;function Vi(t){const n=_i;return _i=t,n}function fs(t,n=Ut.Default){if(void 0===_i)throw new ht(-203,!1);return null===_i?Pr(t,void 0,n):_i.get(t,n&Ut.Optional?null:void 0,n)}function Wr(t,n=Ut.Default){return(rr()||fs)(Ye(t),n)}function Zn(t,n=Ut.Default){return Wr(t,bs(n))}function bs(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ss(t){const n=[];for(let o=0;o<t.length;o++){const a=Ye(t[o]);if(Array.isArray(a)){if(0===a.length)throw new ht(900,!1);let c,h=Ut.Default;for(let m=0;m<a.length;m++){const _=a[m],E=gs(_);"number"==typeof E?-1===E?c=_.token:h|=E:c=_}n.push(Wr(c,h))}else n.push(Wr(a))}return n}function ps(t,n){return t[re]=n,t.prototype[re]=n,t}function gs(t){return t[re]}const Li=ps(Dr("Optional"),8),Kr=ps(Dr("SkipSelf"),4);function _o(t,n){return t.hasOwnProperty(B)?t[B]:null}function Bi(t,n){t.forEach(o=>Array.isArray(o)?Bi(o,n):n(o))}function tl(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function ms(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function qi(t,n,o){let a=Ni(t,n);return a>=0?t[1|a]=o:(a=~a,function eo(t,n,o,a){let c=t.length;if(c==n)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=o,t[n+1]=a}}(t,a,n,o)),a}function ts(t,n){const o=Ni(t,n);if(o>=0)return t[1|o]}function Ni(t,n){return function Mo(t,n,o){let a=0,c=t.length>>o;for(;c!==a;){const h=a+(c-a>>1),m=t[h<<o];if(n===m)return h<<o;m>n?c=h:a=h+1}return~(c<<o)}(t,n,1)}const yi={},Ar=[],ns=new wn(""),sa=new wn("",-1),Ms=new wn("");class rs{get(n,o=P){if(o===P){const a=new Error(`NullInjectorError: No provider for ${br(n)}!`);throw a.name="NullInjectorError",a}return o}}var Lo=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Lo||{}),Uo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Uo||{}),$i=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}($i||{});function Bs(t,n,o){let a=t.length;for(;;){const c=t.indexOf(n,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}o=c+1}}function wa(t,n,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const h=o[a++],m=o[a++],_=o[a++];t.setAttribute(n,m,_,h)}else{const h=c,m=o[++a];Ti(h)?t.setProperty(n,h,m):t.setAttribute(n,h,m),a++}}return a}function $s(t){return 3===t||4===t||6===t}function Ti(t){return 64===t.charCodeAt(0)}function uo(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?o=c:0===o||aa(t,o,c,null,-1===o||2===o?n[++a]:null)}}return t}function aa(t,n,o,a,c){let h=0,m=t.length;if(-1===n)m=-1;else for(;h<t.length;){const _=t[h++];if("number"==typeof _){if(_===n){m=-1;break}if(_>n){m=h-1;break}}}for(;h<t.length;){const _=t[h];if("number"==typeof _)break;if(_===o){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(t.splice(m,0,n),h=m+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}const js="ng-template";function Hs(t,n,o,a){let c=0;if(a){for(;c<n.length&&"string"==typeof n[c];c+=2)if("class"===n[c]&&-1!==Bs(n[c+1].toLowerCase(),o,0))return!0}else if(vs(t))return!1;if(c=n.indexOf(1,c),c>-1){let h;for(;++c<n.length&&"string"==typeof(h=n[c]);)if(h.toLowerCase()===o)return!0}return!1}function vs(t){return 4===t.type&&t.value!==js}function L(t,n,o){return n===(4!==t.type||o?t.value:js)}function R(t,n,o){let a=4;const c=t.attrs,h=null!==c?function Rn(t){for(let n=0;n<t.length;n++)if($s(t[n]))return n;return t.length}(c):0;let m=!1;for(let _=0;_<n.length;_++){const E=n[_];if("number"!=typeof E){if(!m)if(4&a){if(a=2|1&a,""!==E&&!L(t,E,o)||""===E&&1===n.length){if(Z(a))return!1;m=!0}}else if(8&a){if(null===c||!Hs(t,c,E,o)){if(Z(a))return!1;m=!0}}else{const N=n[++_],$=V(E,c,vs(t),o);if(-1===$){if(Z(a))return!1;m=!0;continue}if(""!==N){let W;if(W=$>h?"":c[$+1].toLowerCase(),2&a&&N!==W){if(Z(a))return!1;m=!0}}}}else{if(!m&&!Z(a)&&!Z(E))return!1;if(m&&Z(E))continue;m=!1,a=E|1&a}}return Z(a)||m}function Z(t){return!(1&t)}function V(t,n,o,a){if(null===n)return-1;let c=0;if(a||!o){let h=!1;for(;c<n.length;){const m=n[c];if(m===t)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let _=n[++c];for(;"string"==typeof _;)_=n[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function Jn(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,t)}function ue(t,n,o=!1){for(let a=0;a<n.length;a++)if(R(t,n[a],o))return!0;return!1}function to(t,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Bo(t,n){return t?":not("+n.trim()+")":n}function co(t){let n=t[0],o=1,a=2,c="",h=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&a){const _=t[++o];c+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!Z(m)&&(n+=Bo(h,c),c=""),a=m,h=h||!Z(a);o++}return""!==c&&(n+=Bo(h,c)),n}function Tl(t){return ln(()=>{var n;const o=ys(t),a={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Lo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||Uo.Emulated,styles:t.styles||Ar,_:null,schemas:t.schemas||null,tView:null,id:""};la(a);const c=t.dependencies;return a.directiveDefs=zs(c,!1),a.pipeDefs=zs(c,!0),a.id=function lu(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)n=Math.imul(31,n)+c.charCodeAt(0)|0;return n+=2147483648,"c"+n}(a),a})}function wl(t){return vr(t)||ui(t)}function bl(t){return null!==t}function xs(t){return ln(()=>({type:t.type,bootstrap:t.bootstrap||Ar,declarations:t.declarations||Ar,imports:t.imports||Ar,exports:t.exports||Ar,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Gs(t,n){if(null==t)return yi;const o={};for(const c in t)if(t.hasOwnProperty(c)){const h=t[c];let m,_,E=$i.None;var a;Array.isArray(h)?(E=h[0],m=h[1],_=null!==(a=h[2])&&void 0!==a?a:m):(m=h,_=h),n?(o[m]=E!==$i.None?[c,E]:c,n[m]=_):o[m]=c}return o}function _s(t){return ln(()=>{const n=ys(t);return la(n),n})}function nl(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function vr(t){return t[yn]||null}function ui(t){return t[On]||null}function ci(t){return t[Gr]||null}function no(t){const n=vr(t)||ui(t)||ci(t);return null!==n&&n.standalone}function Oi(t,n){const o=t[dt]||null;if(!o&&!0===n)throw new Error(`Type ${br(t)} does not have '\u0275mod' property.`);return o}function ys(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||yi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ar,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gs(t.inputs,n),outputs:Gs(t.outputs),debugInfo:null}}function la(t){var n;null===(n=t.features)||void 0===n||n.forEach(o=>o(t))}function zs(t,n){if(!t)return null;const o=n?ci:wl;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(bl)}function ba(...t){return{\u0275providers:is(0,t),\u0275fromNgModule:!0}}function is(t,...n){const o=[],a=new Set;let c;const h=m=>{o.push(m)};return Bi(n,m=>{const _=m;$o(_,h,[],a)&&(c||(c=[]),c.push(_))}),void 0!==c&&il(c,h),o}function il(t,n){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];Sa(c,h=>{n(h,a)})}}function $o(t,n,o,a){if(!(t=Ye(t)))return!1;let c=null,h=Dn(t);const m=!h&&vr(t);if(h||m){if(m&&!m.standalone)return!1;c=t}else{const E=t.ngModule;if(h=Dn(E),!h)return!1;c=E}const _=a.has(c);if(m){if(_)return!1;if(a.add(c),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const N of E)$o(N,n,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!_){let N;a.add(c);try{Bi(h.imports,$=>{$o($,n,o,a)&&(N||(N=[]),N.push($))})}finally{}void 0!==N&&il(N,n)}if(!_){const N=_o(c)||(()=>new c);n({provide:c,useFactory:N,deps:Ar},c),n({provide:Ms,useValue:c,multi:!0},c),n({provide:ns,useValue:()=>Wr(c),multi:!0},c)}const E=h.providers;if(null!=E&&!_){const N=t;Sa(E,$=>{n($,N)})}}}return c!==t&&void 0!==t.providers}function Sa(t,n){for(let o of t)sn(o)&&(o=o.\u0275providers),Array.isArray(o)?Sa(o,n):n(o)}const Xu=Wn({provide:String,useValue:Wn});function Ra(t){return null!==t&&"object"==typeof t&&Xu in t}function jo(t){return"function"==typeof t}const Ns=new wn(""),Ma={},Ho={};let ca;function Fr(){return void 0===ca&&(ca=new rs),ca}class Eo{}class Ws extends Eo{get destroyed(){return this._destroyed}constructor(n,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ji(n,m=>this.processProvider(m)),this.records.set(sa,ho(void 0,this)),c.has("environment")&&this.records.set(Eo,ho(void 0,this));const h=this.records.get(Ns);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ms,Ar,Ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ie(null);try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=Vi(this),a=hr(void 0);try{return n()}finally{Vi(o),hr(a)}}get(n,o=P,a=Ut.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Pe))return n[Pe](this);a=bs(a);const h=Vi(this),m=hr(void 0);try{if(!(a&Ut.SkipSelf)){let E=this.records.get(n);if(void 0===E){const N=function Go(t){return"function"==typeof t||"object"==typeof t&&t instanceof wn}(n)&&ut(n);E=N&&this.injectableDefInScope(N)?ho(Co(n),Ma):null,this.records.set(n,E)}if(null!=E)return this.hydrate(n,E)}return(a&Ut.Self?Fr():this.parent).get(n,o=a&Ut.Optional&&o===P?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[Qe]=_[Qe]||[]).unshift(br(n)),h)throw _;return function Ro(t,n,o,a){const c=t[Qe];throw n[xi]&&c.unshift(n[xi]),t.message=function vo(t,n,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=br(n);if(Array.isArray(n))c=n.map(br).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let _=n[m];h.push(m+":"+("string"==typeof _?JSON.stringify(_):br(_)))}c=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(ti,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[Qe]=null,t}(_,n,"R3InjectorError",this.source)}throw _}finally{hr(m),Vi(h)}}resolveInjectorInitializers(){const n=ie(null),o=Vi(this),a=hr(void 0);try{const h=this.get(ns,Ar,Ut.Self);for(const m of h)m()}finally{Vi(o),hr(a),ie(n)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(br(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ht(205,!1)}processProvider(n){let o=jo(n=Ye(n))?n:Ye(n&&n.provide);const a=function Pa(t){return Ra(t)?ho(void 0,t.useValue):ho(da(t),Ma)}(n);if(!jo(n)&&!0===n.multi){let c=this.records.get(o);c||(c=ho(void 0,Ma,!0),c.factory=()=>Ss(c.multi),this.records.set(o,c)),o=n,c.multi.push(n)}this.records.set(o,a)}hydrate(n,o){const a=ie(null);try{return o.value===Ma&&(o.value=Ho,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Po(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{ie(a)}}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Ye(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Co(t){const n=ut(t),o=null!==n?n.factory:_o(t);if(null!==o)return o;if(t instanceof wn)throw new ht(204,!1);if(t instanceof Function)return function Sl(t){if(t.length>0)throw new ht(204,!1);const o=function tn(t){return t&&(t[Ln]||t[Bn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new ht(204,!1)}function da(t,n,o){let a;if(jo(t)){const c=Ye(t);return _o(c)||Co(c)}if(Ra(t))a=()=>Ye(t.useValue);else if(function Io(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Ss(t.deps||[]));else if(function ol(t){return!(!t||!t.useExisting)}(t))a=()=>Wr(Ye(t.useExisting));else{const c=Ye(t&&(t.useClass||t.provide));if(!function ha(t){return!!t.deps}(t))return _o(c)||Co(c);a=()=>new c(...Ss(t.deps))}return a}function ho(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function ji(t,n){for(const o of t)Array.isArray(o)?ji(o,n):o&&sn(o)?ji(o.\u0275providers,n):n(o)}function zo(t,n){t instanceof Ws&&t.assertNotDestroyed();const a=Vi(t),c=hr(void 0);try{return n()}finally{Vi(a),hr(c)}}function Os(){return void 0!==rr()||null!=function Us(){return _i}()}const dr=0,Bt=1,Mn=2,Vr=3,Ii=4,St=5,Tr=6,Ei=7,ni=8,hn=9,bn=10,sr=11,un=12,Dt=13,Vt=14,ar=15,qs=16,sl=17,Xs=18,uu=19,Yu=20,fa=21,Is=22,al=23,ir=25,Jc=1,jn=7,fi=9,Cr=10;var Fn=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Fn||{});function Hi(t){return Array.isArray(t)&&"object"==typeof t[Jc]}function tr(t){return Array.isArray(t)&&!0===t[Jc]}function cu(t){return!!(4&t.flags)}function Xr(t){return t.componentOffset>-1}function fn(t){return!(1&~t.flags)}function fo(t){return!!t.template}function ga(t){return!!(512&t[Mn])}class zr{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Jr(t,n,o,a){null!==n?n.applyValueToInputSignal(n,a):t[o]=a}function Wo(){return ks}function ks(t){return t.type.prototype.ngOnChanges&&(t.setInput=Gi),Na}function Na(){const t=ec(this),n=null==t?void 0:t.current;if(n){const o=t.previous;if(o===yi)t.previous=n;else for(let a in n)o[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Gi(t,n,o,a,c){const h=this.declaredInputs[a],m=ec(t)||function po(t,n){return t[ll]=n}(t,{previous:yi,current:null}),_=m.current||(m.current={}),E=m.previous,N=E[h];_[h]=new zr(N&&N.currentValue,o,E===yi),Jr(t,n,c,o)}Wo.ngInherit=!0;const ll="__ngSimpleChanges__";function ec(t){return t[ll]||null}const Qs=function(t,n,o){};let rd=!1;function di(t){for(;Array.isArray(t);)t=t[dr];return t}function Oa(t,n){return di(n[t])}function Xi(t,n){return di(n[t.index])}function nc(t,n){return t.data[n]}function Cs(t,n){const o=n[t];return Hi(o)?o:o[dr]}function od(t){return!(128&~t[Mn])}function _a(t,n){return null==n?null:t[n]}function rc(t){t[sl]=0}function Uf(t){1024&t[Mn]||(t[Mn]|=1024,od(t)&&Ri(t))}function fh(t){var n;return!!(9216&t[Mn]||null!==(n=t[al])&&void 0!==n&&n.dirty)}function Ml(t){var n;if(null===(n=t[bn].changeDetectionScheduler)||void 0===n||n.notify(1),fh(t))Ri(t);else if(64&t[Mn])if(function id(){return rd}())t[Mn]|=1024,Ri(t);else{var o;null===(o=t[bn].changeDetectionScheduler)||void 0===o||o.notify()}}function Ri(t){var n;null===(n=t[bn].changeDetectionScheduler)||void 0===n||n.notify();let o=ul(t);for(;null!==o&&!(8192&o[Mn])&&(o[Mn]|=8192,od(o));)o=ul(o)}function oc(t,n){if(!(256&~t[Mn]))throw new ht(911,!1);null===t[fa]&&(t[fa]=[]),t[fa].push(n)}function ul(t){const n=t[Vr];return tr(n)?n[Vr]:n}const Tn={lFrame:Ci(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xo(){return Tn.bindingsEnabled}function dl(){return null!==Tn.skipHydrationRootTNode}function wt(){return Tn.lFrame.lView}function Nr(){return Tn.lFrame.tView}function sc(t){return Tn.lFrame.contextLView=t,t[ni]}function hl(t){return Tn.lFrame.contextLView=null,t}function ai(){let t=Ys();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ys(){return Tn.lFrame.currentTNode}function qo(t,n){const o=Tn.lFrame;o.currentTNode=t,o.isParent=n}function Zs(){return Tn.lFrame.isParent}function as(){Tn.lFrame.isParent=!1}function oo(){return Tn.lFrame.bindingIndex++}function ea(t){const n=Tn.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function ad(t,n){const o=Tn.lFrame;o.bindingIndex=o.bindingRootIndex=t,xl(n)}function xl(t){Tn.lFrame.currentDirectiveIndex=t}function mh(){return Tn.lFrame.currentQueryIndex}function Nl(t){Tn.lFrame.currentQueryIndex=t}function $f(t){const n=t[Bt];return 2===n.type?n.declTNode:1===n.type?t[St]:null}function vh(t,n,o){if(o&Ut.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||o&Ut.Host||(c=$f(h),null===c||(h=h[Vt],10&c.type))););if(null===c)return!1;n=c,t=h}const a=Tn.lFrame=_h();return a.currentTNode=n,a.lView=t,!0}function so(t){const n=_h(),o=t[Bt];Tn.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function _h(){const t=Tn.lFrame,n=null===t?null:t.child;return null===n?Ci(t):n}function Ci(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Fa(){const t=Tn.lFrame;return Tn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const yh=Fa;function ud(){const t=Fa();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function No(){return Tn.lFrame.selectedIndex}function pl(t){Tn.lFrame.selectedIndex=t}function Hn(){const t=Tn.lFrame;return nc(t.tView,t.selectedIndex)}let dd=!0;function mu(){return dd}function ta(t){dd=t}function vu(t,n){for(let N=n.directiveStart,$=n.directiveEnd;N<$;N++){const Ce=t.data[N].type.prototype,{ngAfterContentInit:Ge,ngAfterContentChecked:ct,ngAfterViewInit:Rt,ngAfterViewChecked:qt,ngOnDestroy:Jt}=Ce;var o,a,c,h,m,_,E;Ge&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-N,Ge),ct&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(N,ct),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(N,ct)),Rt&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-N,Rt),qt&&((null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(N,qt),(null!==(_=t.viewCheckHooks)&&void 0!==_?_:t.viewCheckHooks=[]).push(N,qt)),null!=Jt&&(null!==(E=t.destroyHooks)&&void 0!==E?E:t.destroyHooks=[]).push(N,Jt)}}function fd(t,n,o){Ch(t,n,3,o)}function _u(t,n,o,a){(3&t[Mn])===o&&Ch(t,n,o,a)}function pd(t,n){let o=t[Mn];(3&o)===n&&(o&=16383,o+=1,t[Mn]=o)}function Ch(t,n,o,a){const h=null!=a?a:-1,m=n.length-1;let _=0;for(let E=void 0!==a?65535&t[sl]:0;E<m;E++)if("number"==typeof n[E+1]){if(_=n[E],null!=a&&_>=a)break}else n[E]<0&&(t[sl]+=65536),(_<h||-1==h)&&(Dh(t,o,n,E),t[sl]=(4294901760&t[sl])+E+2),E++}function gd(t,n){Qs(4,t,n);const o=ie(null);try{n.call(t)}finally{ie(o),Qs(5,t,n)}}function Dh(t,n,o,a){const c=o[a]<0,h=o[a+1],_=t[c?-o[a]:o[a]];c?t[Mn]>>14<t[sl]>>16&&(3&t[Mn])===n&&(t[Mn]+=16384,gd(_,h)):gd(_,h)}const yu=-1;class md{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function na(t){return t!==yu}function Iu(t){return 32767&t}function kl(t,n){let o=function Eu(t){return t>>16}(t),a=n;for(;o>0;)a=a[Vt],o--;return a}let fc=!0;function ml(t){const n=fc;return fc=t,n}const Va=255,vd=5;let _d=0;const Oo={};function ra(t,n){const o=Ah(t,n);if(-1!==o)return o;const a=n[Bt];a.firstCreatePass&&(t.injectorIndex=n.length,Fl(a.data,t),Fl(n,null),Fl(a.blueprint,null));const c=Vl(t,n),h=t.injectorIndex;if(na(c)){const m=Iu(c),_=kl(c,n),E=_[Bt].data;for(let N=0;N<8;N++)n[h+N]=_[m+N]|E[m+N]}return n[h+8]=c,h}function Fl(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ah(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Vl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=n;for(;null!==c;){if(a=Kf(c),null===a)return yu;if(o++,c=c[Vt],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return yu}function Th(t,n,o){!function jf(t,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(q)&&(a=o[q]),null==a&&(a=o[q]=_d++);const c=a&Va;n.data[t+(c>>vd)]|=1<<c}(t,n,o)}function yd(t,n,o){if(o&Ut.Optional||void 0!==t)return t;Wt()}function Xo(t,n,o,a){if(o&Ut.Optional&&void 0===a&&(a=null),!(o&(Ut.Self|Ut.Host))){const c=t[hn],h=hr(void 0);try{return c?c.get(n,a,o&Ut.Optional):Pr(n,a,o&Ut.Optional)}finally{hr(h)}}return yd(a,0,o)}function wh(t,n,o,a=Ut.Default,c){if(null!==t){if(2048&n[Mn]&&!(a&Ut.Self)){const m=function Ed(t,n,o,a,c){let h=t,m=n;for(;null!==h&&null!==m&&2048&m[Mn]&&!(512&m[Mn]);){const _=Cu(h,m,o,a|Ut.Self,Oo);if(_!==Oo)return _;let E=h.parent;if(!E){const N=m[Yu];if(N){const $=N.get(o,Oo,a);if($!==Oo)return $}E=Kf(m),m=m[Vt]}h=E}return c}(t,n,o,a,Oo);if(m!==Oo)return m}const h=Cu(t,n,o,a,Oo);if(h!==Oo)return h}return Xo(n,o,a,c)}function Cu(t,n,o,a,c){const h=function Ll(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(q)?t[q]:void 0;return"number"==typeof n?n>=0?n&Va:Wf:n}(o);if("function"==typeof h){if(!vh(n,t,a))return a&Ut.Host?yd(c,0,a):Xo(n,o,a,c);try{let m;if(m=h(a),null!=m||a&Ut.Optional)return m;Wt()}finally{yh()}}else if("number"==typeof h){let m=null,_=Ah(t,n),E=yu,N=a&Ut.Host?n[ar][St]:null;for((-1===_||a&Ut.SkipSelf)&&(E=-1===_?Vl(t,n):n[_+8],E!==yu&&zf(a,!1)?(m=n[Bt],_=Iu(E),n=kl(E,n)):_=-1);-1!==_;){const $=n[Bt];if(Gf(h,_,$.data)){const W=Hf(_,n,o,m,a,N);if(W!==Oo)return W}E=n[_+8],E!==yu&&zf(a,n[Bt].data[_+8]===N)&&Gf(h,_,n)?(m=$,_=Iu(E),n=kl(E,n)):_=-1}}return c}function Hf(t,n,o,a,c,h){const m=n[Bt],_=m.data[t+8],$=Ds(_,m,o,null==a?Xr(_)&&fc:a!=m&&!!(3&_.type),c&Ut.Host&&h===_);return null!==$?Ua(n,m,$,_):Oo}function Ds(t,n,o,a,c){const h=t.providerIndexes,m=n.data,_=1048575&h,E=t.directiveStart,$=h>>20,Ce=c?_+$:t.directiveEnd;for(let Ge=a?_:_+$;Ge<Ce;Ge++){const ct=m[Ge];if(Ge<E&&o===ct||Ge>=E&&ct.type===o)return Ge}if(c){const Ge=m[E];if(Ge&&fo(Ge)&&Ge.type===o)return E}return null}function Ua(t,n,o,a){let c=t[o];const h=n.data;if(function cc(t){return t instanceof md}(c)){const m=c;m.resolving&&function Lt(t,n){throw n&&n.join(" > "),new ht(-200,t)}(function it(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():be(t)}(h[o]));const _=ml(m.canSeeViewProviders);m.resolving=!0;const N=m.injectImpl?hr(m.injectImpl):null;vh(t,a,Ut.Default);try{c=t[o]=m.factory(void 0,h,t,a),n.firstCreatePass&&o>=a.directiveStart&&function hd(t,n,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){var m,_;const W=ks(n);(null!==(m=o.preOrderHooks)&&void 0!==m?m:o.preOrderHooks=[]).push(t,W),(null!==(_=o.preOrderCheckHooks)&&void 0!==_?_:o.preOrderCheckHooks=[]).push(t,W)}var E,N,$;c&&(null!==(E=o.preOrderHooks)&&void 0!==E?E:o.preOrderHooks=[]).push(0-t,c),h&&((null!==(N=o.preOrderHooks)&&void 0!==N?N:o.preOrderHooks=[]).push(t,h),(null!==($=o.preOrderCheckHooks)&&void 0!==$?$:o.preOrderCheckHooks=[]).push(t,h))}(o,h[o],n)}finally{null!==N&&hr(N),ml(_),m.resolving=!1,yh()}}return c}function Gf(t,n,o){return!!(o[n+(t>>vd)]&1<<t)}function zf(t,n){return!(t&Ut.Self||t&Ut.Host&&n)}class Yi{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return wh(this._tNode,this._lView,n,bs(a),o)}}function Wf(){return new Yi(ai(),wt())}function Du(t){return ln(()=>{const n=t.prototype.constructor,o=n[B]||Id(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[B]||Id(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Id(t){return ze(t)?()=>{const n=Id(Ye(t));return n&&n()}:_o(t)}function Kf(t){const n=t[Bt],o=n.type;return 2===o?n.declTNode:1===o?t[St]:null}function pc(t){return function La(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const h=o[c];if($s(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(h===n)return o[c+1];c+=2}}}return null}(ai(),t)}function Au(t,n=null,o=null,a){const c=Sh(t,n,o,a);return c.resolveInjectorInitializers(),c}function Sh(t,n=null,o=null,a,c=new Set){const h=[o||Ar,ba(t)];return a=a||("object"==typeof t?void 0:br(t)),new Ws(h,n||Fr(),a||null,c)}let Qo=(()=>{var t;class n{static create(a,c){if(Array.isArray(a))return Au({name:""},c,a,"");{var h;const m=null!==(h=a.name)&&void 0!==h?h:"";return Au({name:m},a.parent,a.providers,m)}}}return(t=n).THROW_IF_NOT_FOUND=P,t.NULL=new rs,t.\u0275prov=Yn({token:t,providedIn:"any",factory:()=>Wr(sa)}),t.__NG_ELEMENT_ID__=-1,n})();function $a(t){return t.ngOriginalError}class Do{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&$a(n);for(;o&&$a(o);)o=$a(o);return o||null}}const yc=new wn("",{providedIn:"root",factory:()=>Zn(Do).handleError.bind(void 0)});let ja=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=$l,t.__NG_ENV_ID__=o=>o,n})();class Jf extends ja{constructor(n){super(),this._lView=n}onDestroy(n){return oc(this._lView,n),()=>function ss(t,n){if(null===t[fa])return;const o=t[fa].indexOf(n);-1!==o&&t[fa].splice(o,1)}(this._lView,n)}}function $l(){return new Jf(wt())}function Zi(){return lr(ai(),wt())}function lr(t,n){return new _l(Xi(t,n))}let _l=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Zi,n})();function Ic(t){return t instanceof _l?t.nativeElement:t}function Vs(t){return n=>{setTimeout(t,void 0,n)}}const cs=class Ad extends nn.B{constructor(n=!1){var o;super(),this.destroyRef=void 0,this.__isAsync=n,Os()&&(this.destroyRef=null!==(o=Zn(ja,{optional:!0}))&&void 0!==o?o:void 0)}emit(n){const o=ie(null);try{super.next(n)}finally{ie(o)}}subscribe(n,o,a){let c=n,h=o||(()=>null),m=a;if(n&&"object"==typeof n){var _,E,N;const W=n;c=null===(_=W.next)||void 0===_?void 0:_.bind(W),h=null===(E=W.error)||void 0===E?void 0:E.bind(W),m=null===(N=W.complete)||void 0===N?void 0:N.bind(W)}this.__isAsync&&(h=Vs(h),c&&(c=Vs(c)),m&&(m=Vs(m)));const $=super.subscribe({next:c,error:h,complete:m});return n instanceof vn.yU&&n.add($),$}};function Mh(){return this._results[Symbol.iterator]()}class Ec{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new cs}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=Ec.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Mh)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){this.dirty=!1;const a=function Ui(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Jo(t,n,o){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(this._results,a,o))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Gl(t){return!(128&~t.flags)}const v=new Map;let f=0;const An="__ngContext__";function gn(t,n){Hi(n)?(t[An]=n[uu],function I(t){v.set(t[uu],t)}(n)):t[An]=n}function Md(t){return Pd(t[un])}function np(t){return Pd(t[Ii])}function Pd(t){for(;null!==t&&!tr(t);)t=t[Ii];return t}let Lg;function Uv(t){Lg=t}const Su=new wn("",{providedIn:"root",factory:()=>wc}),wc="ng",Ru=new wn(""),bc=new wn("",{providedIn:"platform",factory:()=>"unknown"}),Ug=new wn("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Ga(){if(void 0!==Lg)return Lg;if(typeof document<"u")return document;throw new ht(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let ap=()=>null;function Fh(t,n,o=!1){return ap(t,n,o)}const Gg=new wn("",{providedIn:"root",factory:()=>!1});let jh;function Hh(t){var n;return(null===(n=function zg(){if(void 0===jh&&(jh=null,_n.trustedTypes))try{jh=_n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jh}())||void 0===n?void 0:n.createScriptURL(t))||t}class Kg{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${It})`}}function Ia(t){return t instanceof Kg?t.changingThisBreaksApplicationSecurity:t}function Vd(t,n){const o=function Yv(t){return t instanceof Kg&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${It})`)}return o===n}const RI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Oc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Oc||{});function hp(t){const n=kc();return n?n.sanitize(Oc.URL,t)||"":Vd(t,"URL")?Ia(t):function Gh(t){return(t=String(t)).match(RI)?t:"unsafe:"+t}(be(t))}function u_(t){const n=kc();if(n)return Hh(n.sanitize(Oc.RESOURCE_URL,t)||"");if(Vd(t,"ResourceURL"))return Hh(Ia(t));throw new ht(904,!1)}function Kh(t,n,o){return function em(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?u_:hp}(n,o)(t)}function kc(){const t=wt();return t&&t[bn].sanitizer}const nm=/^>|^->|<!--|-->|--!>|<!-$/g,rm=/(<|>)/g,h_="\u200b$1\u200b";function As(t){return t instanceof Function?t():t}var yp=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yp||{});let Xh;function Hd(t,n){return Xh(t,n)}function Vc(t,n,o,a,c){if(null!=a){let h,m=!1;tr(a)?h=a:Hi(a)&&(m=!0,a=a[dr]);const _=di(a);0===t&&null!==o?null==c?Zl(n,o,_):Ea(n,o,_,c||null,!0):1===t&&null!==o?Ea(n,o,_,c||null,!0):2===t?function Uc(t,n,o){const a=Jh(t,n);a&&function Gd(t,n,o,a){t.removeChild(n,o,a)}(t,a,n,o)}(n,_,m):3===t&&n.destroyNode(_),null!=h&&function R_(t,n,o,a,c){const h=o[jn];h!==di(o)&&Vc(n,t,a,h,c);for(let _=Cr;_<o.length;_++){const E=o[_];bp(E[Bt],E,t,n,a,h)}}(n,t,h,o,c)}}function cm(t,n){return t.createComment(function f_(t){return t.replace(nm,n=>n.replace(rm,h_))}(n))}function Ep(t,n,o){return t.createElement(n,o)}function E_(t,n){var o;null===(o=n[bn].changeDetectionScheduler)||void 0===o||o.notify(1),bp(t,n,n[sr],2,null,null)}function C_(t,n){const o=t[fi],a=o.indexOf(n);o.splice(a,1)}function Lc(t,n){if(t.length<=Cr)return;const o=Cr+n,a=t[o];if(a){const c=a[qs];null!==c&&c!==t&&C_(c,a),n>0&&(t[o-1][Ii]=a[Ii]);const h=ms(t,Cr+n);!function y_(t,n){E_(t,n),n[dr]=null,n[St]=null}(a[Bt],a);const m=h[Xs];null!==m&&m.detachView(h[Bt]),a[Vr]=null,a[Ii]=null,a[Mn]&=-129}return a}function Cp(t,n){if(!(256&n[Mn])){const o=n[sr];o.destroyNode&&bp(t,n,o,3,null,null),function dm(t){let n=t[un];if(!n)return Qh(t[Bt],t);for(;n;){let o=null;if(Hi(n))o=n[un];else{const a=n[Cr];a&&(o=a)}if(!o){for(;n&&!n[Ii]&&n!==t;)Hi(n)&&Qh(n[Bt],n),n=n[Vr];null===n&&(n=t),Hi(n)&&Qh(n[Bt],n),o=n&&n[Ii]}n=o}}(n)}}function Qh(t,n){if(256&n[Mn])return;const o=ie(null);try{n[Mn]&=-129,n[Mn]|=256,n[al]&&function ae(t){if(J(t),Xe(t))for(let n=0;n<t.producerNode.length;n++)Ne(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[al]),function fm(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=n[o[a]];if(!(c instanceof md)){const h=o[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const _=c[h[m]],E=h[m+1];Qs(4,_,E);try{E.call(_)}finally{Qs(5,_,E)}}else{Qs(4,c,h);try{h.call(c)}finally{Qs(5,c,h)}}}}}(t,n),function D_(t,n){const o=t.cleanup,a=n[Ei];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?a[m]():a[-m].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(n[Ei]=null);const c=n[fa];if(null!==c){n[fa]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,n),1===n[Bt].type&&n[sr].destroy();const a=n[qs];if(null!==a&&tr(n[Vr])){a!==n[Vr]&&C_(a,n);const c=n[Xs];null!==c&&c.detachView(t)}!function X(t){v.delete(t[uu])}(n)}finally{ie(o)}}function Yh(t,n,o){return function Dp(t,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[dr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=t.data[a.directiveStart+c];if(h===Uo.None||h===Uo.Emulated)return null}return Xi(a,o)}}(t,n.parent,o)}function Ea(t,n,o,a,c){t.insertBefore(n,o,a,c)}function Zl(t,n,o){t.appendChild(n,o)}function Ap(t,n,o,a,c){null!==a?Ea(t,n,o,a,c):Zl(t,n,o)}function Jh(t,n){return t.parentNode(n)}function A_(t,n,o){return Tp(t,n,o)}let ef,Tp=function T_(t,n,o){return 40&t.type?Xi(t,o):null};function Wd(t,n,o,a){const c=Yh(t,a,n),h=n[sr],_=A_(a.parent||n[St],a,n);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)Ap(h,c,o[E],_,!1);else Ap(h,c,o,_,!1);void 0!==ef&&ef(h,a,n,o,c)}function tf(t,n){if(null!==n){const o=n.type;if(3&o)return Xi(n,t);if(4&o)return nf(-1,t[n.index]);if(8&o){const a=n.child;if(null!==a)return tf(t,a);{const c=t[n.index];return tr(c)?nf(-1,c):di(c)}}if(32&o)return Hd(n,t)()||di(t[n.index]);{const a=w_(t,n);return null!==a?Array.isArray(a)?a[0]:tf(ul(t[ar]),a):tf(t,n.next)}}return null}function w_(t,n){return null!==n?t[ar][St].projection[n.projection]:null}function nf(t,n){const o=Cr+t+1;if(o<n.length){const a=n[o],c=a[Bt].firstChild;if(null!==c)return tf(a,c)}return n[jn]}function rf(t,n,o,a,c,h,m){for(;null!=o;){const _=a[o.index],E=o.type;if(m&&0===n&&(_&&gn(di(_),a),o.flags|=2),32&~o.flags)if(8&E)rf(t,n,o.child,a,c,h,!1),Vc(n,t,c,_,h);else if(32&E){const N=Hd(o,a);let $;for(;$=N();)Vc(n,t,c,$,h);Vc(n,t,c,_,h)}else 16&E?S_(t,n,a,o,c,h):Vc(n,t,c,_,h);o=m?o.projectionNext:o.next}}function bp(t,n,o,a,c,h){rf(o,a,t.firstChild,n,c,h,!1)}function S_(t,n,o,a,c,h){const m=o[ar],E=m[St].projection[a.projection];if(Array.isArray(E))for(let N=0;N<E.length;N++)Vc(n,t,c,E[N],h);else{let N=E;const $=m[Vr];Gl(a)&&(N.flags|=128),rf(t,n,N,$,c,h,!0)}}function gm(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function x_(t,n,o){const{mergedAttrs:a,classes:c,styles:h}=o;null!==a&&wa(t,n,a),null!==c&&gm(t,n,c),null!==h&&function P_(t,n,o){t.setAttribute(n,"style",o)}(t,n,h)}const Sr={};function N_(t=1){O_(Nr(),wt(),No()+t,!1)}function O_(t,n,o,a){if(!a)if(3&~n[Mn]){const h=t.preOrderHooks;null!==h&&_u(n,h,0,o)}else{const h=t.preOrderCheckHooks;null!==h&&fd(n,h,o)}pl(o)}function Fu(t,n=Ut.Default){const o=wt();return null===o?Wr(t,n):wh(ai(),o,Ye(t),n)}function k_(){throw new Error("invalid")}function Sp(t,n,o,a,c,h){const m=ie(null);try{let _=null;c&$i.SignalBased&&(_=n[a][ce]),null!==_&&void 0!==_.transformFn&&(h=_.transformFn(h)),c&$i.HasDecoratorInputTransform&&(h=t.inputTransforms[a].call(n,h)),null!==t.setInput?t.setInput(n,_,h,o,a):Jr(n,_,a,h)}finally{ie(m)}}function Kd(t,n,o,a,c,h,m,_,E,N,$){const W=n.blueprint.slice();return W[dr]=c,W[Mn]=204|a,(null!==N||t&&2048&t[Mn])&&(W[Mn]|=2048),rc(W),W[Vr]=W[Vt]=t,W[ni]=o,W[bn]=m||t&&t[bn],W[sr]=_||t&&t[sr],W[hn]=E||t&&t[hn]||null,W[St]=h,W[uu]=function p(){return f++}(),W[Tr]=$,W[Yu]=N,W[ar]=2==n.type?t[ar]:W,W}function Vu(t,n,o,a,c){let h=t.data[n];if(null===h)h=function sf(t,n,o,a,c){const h=Ys(),m=Zs(),E=t.data[n]=function Im(t,n,o,a,c,h){let m=n?n.injectorIndex:-1,_=0;return dl()&&(_|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,n,a,c);return null===t.firstChild&&(t.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E,E.prev=h)),E}(t,n,o,a,c),function lc(){return Tn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=c;const m=function Ko(){const t=Tn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return qo(h,!0),h}function af(t,n,o,a){if(0===o)return-1;const c=n.length;for(let h=0;h<o;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function Rp(t,n,o,a,c){const h=No(),m=2&a;try{pl(-1),m&&n.length>ir&&O_(t,n,ir,!1),Qs(m?2:0,c),o(a,c)}finally{pl(h),Qs(m?3:1,c)}}function mm(t,n,o){if(cu(n)){const a=ie(null);try{const h=n.directiveEnd;for(let m=n.directiveStart;m<h;m++){const _=t.data[m];_.contentQueries&&_.contentQueries(1,o[m],m)}}finally{ie(a)}}}function lf(t,n,o){xo()&&(function Tm(t,n,o,a){const c=o.directiveStart,h=o.directiveEnd;Xr(o)&&function Mm(t,n,o){const a=Xi(n,t),c=Mp(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const _=kp(t,Kd(t,c,null,m,a,n,null,t[bn].rendererFactory.createRenderer(a,o),null,null,null));t[n.index]=_}(n,o,t.data[c+o.componentOffset]),t.firstCreatePass||ra(o,n),gn(a,n);const m=o.initialInputs;for(let _=c;_<h;_++){const E=t.data[_],N=Ua(n,t,_,o);gn(N,n),null!==m&&$_(0,_-c,N,E,0,m),fo(E)&&(Cs(o.index,n)[ni]=Ua(n,t,_,o))}}(t,n,o,Xi(o,n)),!(64&~o.flags)&&B_(t,n,o))}function vm(t,n,o=Xi){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],_=-1===m?o(n,t):t[m];t[c++]=_}}}function Mp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Pp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Pp(t,n,o,a,c,h,m,_,E,N,$){const W=ir+a,Ce=W+c,Ge=function _m(t,n){const o=[];for(let a=0;a<n;a++)o.push(a<t?null:Sr);return o}(W,Ce),ct="function"==typeof N?N():N;return Ge[Bt]={type:t,blueprint:Ge,template:o,queries:null,viewQuery:_,declTNode:n,data:Ge.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:Ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:ct,incompleteFirstPass:!1,ssrId:$}}let xp=()=>null;function L_(t,n,o,a,c){for(let m in n){var h;if(!n.hasOwnProperty(m))continue;const _=n[m];if(void 0===_)continue;null!==(h=a)&&void 0!==h||(a={});let E,N=$i.None;Array.isArray(_)?(E=_[0],N=_[1]):E=_;let $=m;if(null!==c){if(!c.hasOwnProperty(m))continue;$=c[m]}0===t?Np(a,o,$,E,N):Np(a,o,$,E)}return a}function Np(t,n,o,a,c){let h;t.hasOwnProperty(o)?(h=t[o]).push(n,a):h=t[o]=[n,a],void 0!==c&&h.push(c)}function uf(t,n,o,a){if(xo()){const c=null===a?null:{"":-1},h=function wm(t,n){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let m=0;m<o.length;m++){const _=o[m];if(ue(n,_.selectors,!1))if(a||(a=[]),fo(_))if(null!==_.findHostDirectiveDefs){const E=[];c=c||new Map,_.findHostDirectiveDefs(_,E,c),a.unshift(...E,_),bm(t,n,E.length)}else a.unshift(_),bm(t,n,0);else{var h;c=c||new Map,null===(h=_.findHostDirectiveDefs)||void 0===h||h.call(_,_,a,c),a.push(_)}}return null===a?null:[a,c]}(t,o);let m,_;null===h?m=_=null:[m,_]=h,null!==m&&El(t,n,o,m,c,_),c&&function Sm(t,n,o){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=o[n[c+1]];if(null==h)throw new ht(-301,!1);a.push(n[c],h)}}}(o,a,c)}o.mergedAttrs=uo(o.mergedAttrs,o.attrs)}function El(t,n,o,a,c,h){for(let W=0;W<a.length;W++)Th(ra(o,n),t,a[W].type);!function Rm(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,a.length);for(let W=0;W<a.length;W++){const Ce=a[W];Ce.providersResolver&&Ce.providersResolver(Ce)}let m=!1,_=!1,E=af(t,n,a.length,null);for(let W=0;W<a.length;W++){const Ce=a[W];o.mergedAttrs=uo(o.mergedAttrs,Ce.hostAttrs),KI(t,o,n,E,Ce),WI(E,Ce,c),null!==Ce.contentQueries&&(o.flags|=4),(null!==Ce.hostBindings||null!==Ce.hostAttrs||0!==Ce.hostVars)&&(o.flags|=64);const Ge=Ce.type.prototype;var N,$;!m&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((null!==(N=t.preOrderHooks)&&void 0!==N?N:t.preOrderHooks=[]).push(o.index),m=!0),_||!Ge.ngOnChanges&&!Ge.ngDoCheck||((null!==($=t.preOrderCheckHooks)&&void 0!==$?$:t.preOrderCheckHooks=[]).push(o.index),_=!0),E++}!function Em(t,n,o){const c=n.directiveEnd,h=t.data,m=n.attrs,_=[];let E=null,N=null;for(let $=n.directiveStart;$<c;$++){const W=h[$],Ce=o?o.get(W):null,ct=Ce?Ce.outputs:null;E=L_(0,W.inputs,$,E,Ce?Ce.inputs:null),N=L_(1,W.outputs,$,N,ct);const Rt=null===E||null===m||vs(n)?null:qI(E,$,m);_.push(Rt)}null!==E&&(E.hasOwnProperty("class")&&(n.flags|=8),E.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=_,n.inputs=E,n.outputs=N}(t,o,h)}function B_(t,n,o){const a=o.directiveStart,c=o.directiveEnd,h=o.index,m=function ld(){return Tn.lFrame.currentDirectiveIndex}();try{pl(h);for(let _=a;_<c;_++){const E=t.data[_],N=n[_];xl(_),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&zI(E,N)}}finally{pl(-1),xl(m)}}function zI(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function bm(t,n,o){var a;n.componentOffset=o,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function WI(t,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=t;fo(n)&&(o[""]=t)}}function KI(t,n,o,a,c){t.data[a]=c;const h=c.factory||(c.factory=_o(c.type)),m=new md(h,fo(c),Fu);t.blueprint[a]=m,o[a]=m,function Am(t,n,o,a,c){const h=c.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const _=~n.index;(function GI(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(m)!=_&&m.push(_),m.push(o,a,h)}}(t,n,a,af(t,o,c.hostVars,Sr),c)}function qa(t,n,o,a,c,h){const m=Xi(t,n);!function cf(t,n,o,a,c,h,m){if(null==h)t.removeAttribute(n,c,o);else{const _=null==m?be(h):m(h,a||"",c);t.setAttribute(n,c,_,o)}}(n[sr],m,h,t.value,o,a,c)}function $_(t,n,o,a,c,h){const m=h[n];if(null!==m)for(let _=0;_<m.length;)Sp(a,o,m[_++],m[_++],m[_++],m[_++])}function qI(t,n,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const m=t[h];for(let _=0;_<m.length;_+=3)if(m[_]===n){a.push(h,m[_+1],m[_+2],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function j_(t,n,o,a){return[t,!0,0,n,null,a,null,o,null,null]}function Op(t,n){const o=t.contentQueries;if(null!==o){const a=ie(null);try{for(let c=0;c<o.length;c+=2){const m=o[c+1];if(-1!==m){const _=t.data[m];Nl(o[c]),_.contentQueries(2,n[m],m)}}}finally{ie(a)}}}function kp(t,n){return t[un]?t[Dt][Ii]=n:t[un]=n,t[Dt]=n,n}function df(t,n,o){Nl(0);const a=ie(null);try{n(t,o)}finally{ie(a)}}function Fp(t){return t[Ei]||(t[Ei]=[])}function H_(t){return t.cleanup||(t.cleanup=[])}function Vp(t,n){const o=t[hn],a=o?o.get(Do,null):null;a&&a.handleError(n)}function hf(t,n,o,a,c){for(let h=0;h<o.length;){const m=o[h++],_=o[h++],E=o[h++];Sp(t.data[m],n[m],a,_,E,c)}}function Cl(t,n,o){const a=Oa(n,t);!function Ip(t,n,o){t.setValue(n,o)}(t[sr],a,o)}function qd(t,n){const o=Cs(n,t),a=o[Bt];!function G_(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(a,o);const c=o[dr];null!==c&&null===o[Tr]&&(o[Tr]=Fh(c,o[hn])),Xd(a,o,o[ni])}function Xd(t,n,o){so(n);try{var a;const c=t.viewQuery;null!==c&&df(1,c,o);const h=t.template;null!==h&&Rp(t,n,h,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),null===(a=n[Xs])||void 0===a||a.finishViewCreation(t),t.staticContentQueries&&Op(t,n),t.staticViewQueries&&df(2,t.viewQuery,o);const m=t.components;null!==m&&function XI(t,n){for(let o=0;o<n.length;o++)qd(t,n[o])}(n,m)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[Mn]&=-5,ud()}}function Qd(t,n){return!n||null===n.firstChild||Gl(t)}function Lu(t,n,o,a=!0){const c=n[Bt];if(function BI(t,n,o,a){const c=Cr+a,h=o.length;a>0&&(o[c-1][Ii]=n),a<h-Cr?(n[Ii]=o[c],tl(o,Cr+a,n)):(o.push(n),n[Ii]=null),n[Vr]=o;const m=n[qs];null!==m&&o!==m&&function hm(t,n){const o=t[fi];n[ar]!==n[Vr][Vr][ar]&&(t[Mn]|=Fn.HasTransplantedViews),null===o?t[fi]=[n]:o.push(n)}(m,n);const _=n[Xs];null!==_&&_.insertView(t),Ml(n),n[Mn]|=128}(c,n,t,o),a){const m=nf(o,t),_=n[sr],E=Jh(_,t[jn]);null!==E&&function I_(t,n,o,a,c,h){a[dr]=c,a[St]=n,bp(t,a,o,1,c,h)}(c,t[St],_,n,E,m)}const h=n[Tr];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function $c(t,n,o,a,c=!1){for(;null!==o;){const h=n[o.index];null!==h&&a.push(di(h)),tr(h)&&Lp(h,a);const m=o.type;if(8&m)$c(t,n,o.child,a);else if(32&m){const _=Hd(o,n);let E;for(;E=_();)a.push(E)}else if(16&m){const _=w_(n,o);if(Array.isArray(_))a.push(..._);else{const E=ul(n[ar]);$c(E[Bt],E,_,a,!0)}}o=c?o.projectionNext:o.next}return a}function Lp(t,n){for(let o=Cr;o<t.length;o++){const a=t[o],c=a[Bt].firstChild;null!==c&&$c(a[Bt],a,c,n)}t[jn]!==t[dr]&&n.push(t[jn])}let xm=[];const km={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ri(t.lView)},consumerOnSignalRead(){this.lView[al]=this}},Fm=100;function Jl(t,n=!0,o=0){const a=t[bn],c=a.rendererFactory;var m;null===(m=c.begin)||void 0===m||m.call(c);try{!function W_(t,n){$p(t,n);let o=0;for(;fh(t);){if(o===Fm)throw new ht(103,!1);o++,$p(t,1)}}(t,o)}catch(N){throw n&&Vp(t,N),N}finally{var _,E;null===(_=c.end)||void 0===_||_.call(c),null===(E=a.inlineEffectRunner)||void 0===E||E.flush()}}function q_(t,n,o,a){var c;const h=n[Mn];if(!(256&~h))return;null===(c=n[bn].inlineEffectRunner)||void 0===c||c.flush(),so(n);let _=null,E=null;(function Yd(t){return 2!==t.type})(t)&&(E=function Nm(t){var n;return null!==(n=t[al])&&void 0!==n?n:function Om(t){var n;const o=null!==(n=xm.pop())&&void 0!==n?n:Object.create(km);return o.lView=t,o}(t)}(n),_=function Oe(t){return t&&(t.nextProducerIndex=0),ie(t)}(E));try{rc(n),function pu(t){return Tn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Rp(t,n,o,2,a);const N=!(3&~h);if(N){const Ce=t.preOrderCheckHooks;null!==Ce&&fd(n,Ce,null)}else{const Ce=t.preOrderHooks;null!==Ce&&_u(n,Ce,0,null),pd(n,0)}if(function QI(t){for(let n=Md(t);null!==n;n=np(n)){if(!(n[Mn]&Fn.HasTransplantedViews))continue;const o=n[fi];for(let a=0;a<o.length;a++){Uf(o[a])}}}(n),Bp(n,0),null!==t.contentQueries&&Op(t,n),N){const Ce=t.contentCheckHooks;null!==Ce&&fd(n,Ce)}else{const Ce=t.contentHooks;null!==Ce&&_u(n,Ce,1),pd(n,1)}!function F_(t,n){const o=t.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)pl(~c);else{const h=c,m=o[++a],_=o[++a];ad(m,h),_(2,n[h])}}}finally{pl(-1)}}(t,n);const $=t.components;null!==$&&Q_(n,$,0);const W=t.viewQuery;if(null!==W&&df(2,W,a),N){const Ce=t.viewCheckHooks;null!==Ce&&fd(n,Ce)}else{const Ce=t.viewHooks;null!==Ce&&_u(n,Ce,2),pd(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Is]){for(const Ce of n[Is])Ce();n[Is]=null}n[Mn]&=-73}catch(N){throw Ri(n),N}finally{null!==E&&(function Ue(t,n){if(ie(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Xe(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Ne(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(E,_),function Up(t){t.lView[al]!==t&&(t.lView=null,xm.push(t))}(E)),ud()}}function Bp(t,n){for(let o=Md(t);null!==o;o=np(o))for(let a=Cr;a<o.length;a++)X_(o[a],n)}function YI(t,n,o){X_(Cs(n,t),o)}function X_(t,n){od(t)&&$p(t,n)}function $p(t,n){const a=t[Bt],c=t[Mn],h=t[al];let m=!!(0===n&&16&c);if(m||(m=!!(64&c&&0===n)),m||(m=!!(1024&c)),m||(m=!(null==h||!h.dirty||!vt(h))),h&&(h.dirty=!1),t[Mn]&=-9217,m)q_(a,t,a.template,t[ni]);else if(8192&c){Bp(t,1);const _=a.components;null!==_&&Q_(t,_,1)}}function Q_(t,n,o){for(let a=0;a<n.length;a++)YI(t,n[a],o)}function Zd(t){var n;for(null===(n=t[bn].changeDetectionScheduler)||void 0===n||n.notify();t;){t[Mn]|=64;const o=ul(t);if(ga(t)&&!o)return t;t=o}return null}class gf{get rootNodes(){const n=this._lView,o=n[Bt];return $c(o,n,o.firstChild,[])}constructor(n,o,a=!0){this._lView=n,this._cdRefInjectingView=o,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ni]}set context(n){this._lView[ni]=n}get destroyed(){return!(256&~this._lView[Mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Vr];if(tr(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&(Lc(n,a),ms(o,a))}this._attachedToViewContainer=!1}Cp(this._lView[Bt],this._lView)}onDestroy(n){oc(this._lView,n)}markForCheck(){Zd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mn]&=-129}reattach(){Ml(this._lView),this._lView[Mn]|=128}detectChanges(){this._lView[Mn]|=1024,Jl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,E_(this._lView[Bt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ht(902,!1);this._appRef=n,Ml(this._lView)}}let mf=(()=>{class n{}return n.__NG_ELEMENT_ID__=eE,n})();const ZI=mf,JI=class extends ZI{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,a){const c=function ff(t,n,o,a){const c=ie(null);try{var h,m,_;const E=n.tView,W=Kd(t,E,o,4096&t[Mn]?4096:16,null,n,null,null,null!==(h=null==a?void 0:a.injector)&&void 0!==h?h:null,null!==(m=null==a?void 0:a.embeddedViewInjector)&&void 0!==m?m:null,null!==(_=null==a?void 0:a.dehydratedView)&&void 0!==_?_:null);W[qs]=t[n.index];const Ge=t[Xs];return null!==Ge&&(W[Xs]=Ge.createEmbeddedView(E)),Xd(E,W,o),W}finally{ie(c)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:o,dehydratedView:a});return new gf(c)}};function eE(){return jp(ai(),wt())}function jp(t,n){return 4&t.type?new JI(n,t,lr(t,n)):null}class $m{}class ay{}class jm{}class Yp{resolveComponentFactory(n){throw function Qp(t){const n=Error(`No component factory found for ${br(t)}.`);return n.ngComponent=t,n}(n)}}let Bu=(()=>{class n{}return n.NULL=new Yp,n})();class Hm{}let Gm=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function zm(){const t=wt(),o=Cs(ai().index,t);return(Hi(o)?o:t)[sr]}(),n})(),Wm=(()=>{var t;class n{}return(t=n).\u0275prov=Yn({token:t,providedIn:"root",factory:()=>null}),n})();const Cf={},Zp=new Set;function Xa(t){var n,o;Zp.has(t)||(Zp.add(t),null===(n=performance)||void 0===n||null===(o=n.mark)||void 0===o||o.call(n,"mark_feature_usage",{detail:{feature:t}}))}function $u(...t){}class Ji{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cs(!1),this.onMicrotaskEmpty=new cs(!1),this.onStable=new cs(!1),this.onError=new cs(!1),typeof Zone>"u")throw new ht(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function cy(){const t="function"==typeof _n.requestAnimationFrame;let n=_n[t?"requestAnimationFrame":"setTimeout"],o=_n[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function eg(t){const n=()=>{!function Jp(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_n,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tg(t),t.isCheckStableRunning=!0,Km(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,h,m,_)=>{if(function hy(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(_))return o.invokeTask(c,h,m,_);try{return th(t),o.invokeTask(c,h,m,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),dy(t)}},onInvoke:(o,a,c,h,m,_,E)=>{try{return th(t),o.invoke(c,h,m,_,E)}finally{t.shouldCoalesceRunChangeDetection&&n(),dy(t)}},onHasTask:(o,a,c,h)=>{o.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,tg(t),Km(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,c,h)=>(o.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ji.isInAngularZone())throw new ht(909,!1)}static assertNotInAngularZone(){if(Ji.isInAngularZone())throw new ht(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,n,Df,$u,$u);try{return h.runTask(m,o,a)}finally{h.cancelTask(m)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const Df={};function Km(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function th(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dy(t){t._nesting--,Km(t)}class Af{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cs,this.onMicrotaskEmpty=new cs,this.onStable=new cs,this.onError=new cs}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,c){return n.apply(o,a)}}var Qa=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Qa||{});const tu={destroy(){}};function Gc(t,n){var o,a,c;!n&&function Ks(t){if(!Os())throw new ht(-203,!1)}();const h=null!==(o=null==n?void 0:n.injector)&&void 0!==o?o:Zn(Qo);if(!function Yl(t){return"browser"===(null!=t?t:Zn(Qo)).get(bc)}(h))return tu;Xa("NgAfterNextRender");const m=h.get(zc),_=null!==(a=m.handler)&&void 0!==a?a:m.handler=new fE,E=null!==(c=null==n?void 0:n.phase)&&void 0!==c?c:Qa.MixedReadWrite,N=()=>{_.unregister(W),$()},$=h.get(ja).onDestroy(N),W=zo(h,()=>new hE(E,()=>{N(),t()}));return _.register(W),{destroy:N}}class hE{constructor(n,o){var a;this.phase=n,this.callbackFn=o,this.zone=Zn(Ji),this.errorHandler=Zn(Do,{optional:!0}),null===(a=Zn($m,{optional:!0}))||void 0===a||a.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(o)}}}class fE{constructor(){this.executingCallbacks=!1,this.buckets={[Qa.EarlyRead]:new Set,[Qa.Write]:new Set,[Qa.MixedReadWrite]:new Set,[Qa.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const o of n)o.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let zc=(()=>{var t;class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var a;this.executeInternalCallbacks(),null===(a=this.handler)||void 0===a||a.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const c of a)c()}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Yn({token:t,providedIn:"root",factory:()=>new t}),n})();function Ya(t){return!!Oi(t)}function Tf(t,n,o){let a=o?t.styles:null,c=o?t.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const _=n[m];"number"==typeof _?h=_:1==h?c=Hr(c,_):2==h&&(a=Hr(a,_+": "+n[++m]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}class Qm extends Bu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=vr(n);return new wf(o,this.ngModule)}}function Ym(t){const n=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const a=t[o];void 0!==a&&n.push({propName:Array.isArray(a)?a[0]:a,templateName:o})}return n}class Wc{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=bs(a);const c=this.injector.get(n,Cf,a);return c!==Cf||o===Cf?c:this.parentInjector.get(n,o,a)}}class wf extends jm{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=Ym(n.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return Ym(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function Ps(t){return t.map(co).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,c){const h=ie(null);try{var _;let E=(c=c||this.ngModule)instanceof Eo?c:null===(_=c)||void 0===_?void 0:_.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const N=E?new Wc(n,E):n,$=N.get(Hm,null);if(null===$)throw new ht(407,!1);const W=N.get(Wm,null),ct={rendererFactory:$,sanitizer:W,inlineEffectRunner:null,afterRenderEventManager:N.get(zc,null),changeDetectionScheduler:N.get($m,null)},Rt=$.createRenderer(null,this.componentDef),qt=this.componentDef.selectors[0][0]||"div",Jt=a?function V_(t,n,o,a){const h=a.get(Gg,!1)||o===Uo.ShadowDom,m=t.selectRootElement(n,h);return function $I(t){xp(t)}(m),m}(Rt,a,this.componentDef.encapsulation,N):Ep(Rt,qt,function Zm(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(qt));let Ot=512;this.componentDef.signals?Ot|=4096:this.componentDef.onPush||(Ot|=16);let yr=null;null!==Jt&&(yr=Fh(Jt,N,!0));const Or=Pp(0,null,null,1,0,null,null,null,null,null,null),ei=Kd(null,Or,null,Ot,null,null,ct,Rt,N,null,yr);let ws,Al;so(ei);try{const au=this.componentDef;let Of,J0=null;au.findHostDirectiveDefs?(Of=[],J0=new Map,au.findHostDirectiveDefs(au,Of,J0),Of.push(au)):Of=[au];const $P=function fC(t,n){const o=t[Bt],a=ir;return t[a]=n,Vu(o,a,2,"#host",null)}(ei,Jt),jP=function vE(t,n,o,a,c,h,m){const _=c[Bt];!function pC(t,n,o,a){for(const c of t)n.mergedAttrs=uo(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Tf(n,n.mergedAttrs,!0),null!==o&&x_(a,o,n))}(a,t,n,m);let E=null;null!==n&&(E=Fh(n,c[hn]));const N=h.rendererFactory.createRenderer(n,o);let $=16;o.signals?$=4096:o.onPush&&($=64);const W=Kd(c,Mp(o),null,$,c[t.index],t,h,N,null,null,E);return _.firstCreatePass&&bm(_,t,a.length-1),kp(c,W),c[t.index]=W}($P,Jt,au,Of,ei,ct,Rt);Al=nc(Or,ir),Jt&&function Kc(t,n,o,a){if(a)wa(t,o,["ng-version","17.3.3"]);else{const{attrs:c,classes:h}=function yo(t){const n=[],o=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&o.push(h);else{if(!Z(c))break;c=h}a++}return{attrs:n,classes:o}}(n.selectors[0]);c&&wa(t,o,c),h&&h.length>0&&gm(t,o,h.join(" "))}}(Rt,au,Jt,a),void 0!==o&&function nu(t,n,o){const a=t.projection=[];for(let c=0;c<n.length;c++){const h=o[c];a.push(null!=h?Array.from(h):null)}}(Al,this.ngContentSelectors,o),ws=function gC(t,n,o,a,c,h){const m=ai(),_=c[Bt],E=Xi(m,c);El(_,c,m,o,null,a);for(let $=0;$<o.length;$++)gn(Ua(c,_,m.directiveStart+$,m),c);B_(_,c,m),E&&gn(E,c);const N=Ua(c,_,m.directiveStart+m.componentOffset,m);if(t[ni]=c[ni]=N,null!==h)for(const $ of h)$(N,n);return mm(_,m,c),N}(jP,au,Of,J0,ei,[bf]),Xd(Or,ei,null)}finally{ud()}return new hC(this.componentType,ws,lr(Al,ei),ei,Al)}finally{ie(h)}}}class hC extends ay{constructor(n,o,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new gf(c,void 0,!1),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const m=this._rootLView;hf(m[Bt],m,c,n,o),this.previousInputValues.set(n,o),Zd(Cs(this._tNode.index,m))}}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function bf(){const t=ai();vu(wt()[Bt],t)}let Za=(()=>{class n{}return n.__NG_ELEMENT_ID__=_E,n})();function _E(){return vy(ai(),wt())}const gy=Za,my=class extends gy{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return lr(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Vl(this._hostTNode,this._hostLView);if(na(n)){const o=kl(n,this._hostLView),a=Iu(n);return new Yi(o[Bt].data[a+8],o)}return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=ru(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Cr}createEmbeddedView(n,o,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const _=n.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(_,c,Qd(this._hostTNode,null)),_}createComponent(n,o,a,c,h){var m,E;const N=n&&!function At(t){return"function"==typeof t}(n);let $;if(N)$=o;else{const Jt=o||{};$=Jt.index,a=Jt.injector,c=Jt.projectableNodes,h=Jt.environmentInjector||Jt.ngModuleRef}const W=N?n:new wf(vr(n)),Ce=a||this.parentInjector;if(!h&&null==W.ngModule){const Ot=(N?Ce:this.parentInjector).get(Eo,null);Ot&&(h=Ot)}const Ge=vr(null!==(m=W.componentType)&&void 0!==m?m:{}),ct=(null==Ge?void 0:Ge.id,null),Rt=null!==(E=null==ct?void 0:ct.firstChild)&&void 0!==E?E:null,qt=W.create(Ce,c,Rt,h);return this.insertImpl(qt.hostView,$,Qd(this._hostTNode,ct)),qt}insert(n,o){return this.insertImpl(n,o,!0)}insertImpl(n,o,a){const c=n._lView;if(function Lf(t){return tr(t[Vr])}(c)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const E=c[Vr],N=new my(E,E[St],E[Vr]);N.detach(N.indexOf(n))}}const h=this._adjustIndex(o),m=this._lContainer;return Lu(m,c,h,a),n.attachToViewContainerRef(),tl(Jm(m),h,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=ru(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=Lc(this._lContainer,o);a&&(ms(Jm(this._lContainer),o),Cp(a[Bt],a))}detach(n){const o=this._adjustIndex(n,-1),a=Lc(this._lContainer,o);return a&&null!=ms(Jm(this._lContainer),o)?new gf(a):null}_adjustIndex(n,o=0){return null==n?this.length+o:n}};function ru(t){return t[8]}function Jm(t){return t[8]||(t[8]=[])}function vy(t,n){let o;const a=n[t.index];return tr(a)?o=a:(o=j_(a,n,null,t),n[t.index]=o,kp(n,o)),_y(o,n,t,a),new my(o,t,n)}let _y=function nv(t,n,o,a){if(t[jn])return;let c;c=8&o.type?di(a):function yE(t,n){const o=t[sr],a=o.createComment(""),c=Xi(n,t);return Ea(o,Jh(o,c),a,function zd(t,n){return t.nextSibling(n)}(o,c),!1),a}(n,o),t[jn]=c},ev=()=>!1;class rv{constructor(n){this.queryList=n,this.matches=null}clone(){return new rv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gu{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,c=[];for(let h=0;h<a;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new Gu(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==ig(n,o).matches&&this.queries[o].setDirty()}}class rg{constructor(n,o,a=null){this.flags=o,this.read=a,this.predicate="string"==typeof n?function SE(t){return t.split(",").map(n=>n.trim())}(n):n}}class Iy{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new Iy(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class iv{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new iv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,o,CE(o,h)),this.matchTNodeWithReadOption(n,o,Ds(o,n,h,!1,!1))}else a===mf?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,Ds(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===_l||c===Za||c===mf&&4&o.type)this.addMatch(o.index,-2);else{const h=Ds(o,n,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function CE(t,n){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function AE(t,n,o,a){return-1===o?function DE(t,n){return 11&t.type?lr(t,n):4&t.type?jp(t,n):null}(n,t):-2===o?function TE(t,n,o){return o===_l?lr(n,t):o===mf?jp(n,t):o===Za?vy(n,t):void 0}(t,n,a):Ua(t,t[Bt],o,n)}function wE(t,n,o,a){const c=n[Xs].queries[a];if(null===c.matches){const h=t.data,m=o.matches,_=[];for(let E=0;null!==m&&E<m.length;E+=2){const N=m[E];_.push(N<0?null:AE(n,h[N],m[E+1],o.metadata.read))}c.matches=_}return c.matches}function Ey(t,n,o,a){const c=t.queries.getByIndex(o),h=c.matches;if(null!==h){const m=wE(t,n,c,o);for(let _=0;_<h.length;_+=2){const E=h[_];if(E>0)a.push(m[_/2]);else{const N=h[_+1],$=n[-E];for(let W=Cr;W<$.length;W++){const Ce=$[W];Ce[qs]===Ce[Vr]&&Ey(Ce[Bt],Ce,N,a)}if(null!==$[fi]){const W=$[fi];for(let Ce=0;Ce<W.length;Ce++){const Ge=W[Ce];Ey(Ge[Bt],Ge,N,a)}}}}}return a}function bE(t,n,o){var a;const c=new Ec(!(4&~o));return function HI(t,n,o,a){const c=Fp(n);c.push(o),t.firstCreatePass&&H_(t).push(a,c.length-1)}(t,n,c,c.destroy),(null!==(a=n[Xs])&&void 0!==a?a:n[Xs]=new Gu).queries.push(new rv(c))-1}function RE(t,n,o){null===t.queries&&(t.queries=new Iy),t.queries.track(new iv(n,o))}function ig(t,n){return t.queries.getByIndex(n)}function iu(t,n){const o=t[Bt],a=ig(o,n);return a.crossesNgTemplate?Ey(o,t,n,[]):wE(o,t,a,n)}function uv(t){let n=function Fy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;n;){let c;if(fo(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ht(903,!1);c=n.\u0275dir}if(c){if(o){a.push(c);const m=t;m.inputs=lg(t.inputs),m.inputTransforms=lg(t.inputTransforms),m.declaredInputs=lg(t.declaredInputs),m.outputs=lg(t.outputs);const _=c.hostBindings;_&&ug(t,_);const E=c.viewQuery,N=c.contentQueries;if(E&&cv(t,E),N&&Ly(t,N),jE(t,c),kr(t.outputs,c.outputs),fo(c)&&c.data.animation){const $=t.data;$.animation=($.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const _=h[m];_&&_.ngInherit&&_(t),_===uv&&(o=!1)}}n=Object.getPrototypeOf(n)}!function Vy(t){let n=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=uo(c.hostAttrs,o=uo(o,c.hostAttrs))}}(a)}function jE(t,n){for(const a in n.inputs){if(!n.inputs.hasOwnProperty(a)||t.inputs.hasOwnProperty(a))continue;const c=n.inputs[a];if(void 0!==c&&(t.inputs[a]=c,t.declaredInputs[a]=n.declaredInputs[a],null!==n.inputTransforms)){var o;const h=Array.isArray(c)?c[0]:c;if(!n.inputTransforms.hasOwnProperty(h))continue;null!==(o=t.inputTransforms)&&void 0!==o||(t.inputTransforms={}),t.inputTransforms[h]=n.inputTransforms[h]}}}function lg(t){return t===yi?{}:t===Ar?[]:t}function cv(t,n){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{n(a,c),o(a,c)}:n}function Ly(t,n){const o=t.contentQueries;t.contentQueries=o?(a,c,h)=>{n(a,c,h),o(a,c,h)}:n}function ug(t,n){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{n(a,c),o(a,c)}:n}function By(t){const n=t.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const c=n[a];Array.isArray(c)&&c[3]&&(o[a]=c[3])}t.inputTransforms=o}class Qc{}class gv{}function $y(t,n){return new i(t,null!=n?n:null,[])}class i extends Qc{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qm(this);const c=Oi(n);this._bootstrapComponents=As(c.bootstrap),this._r3Injector=Sh(n,o,[{provide:Qc,useValue:this},{provide:Bu,useValue:this.componentFactoryResolver},...a],br(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class e extends gv{constructor(n){super(),this.moduleType=n}create(n){return new i(this.moduleType,n,[])}}class s extends Qc{constructor(n){super(),this.componentFactoryResolver=new Qm(this),this.instance=null;const o=new Ws([...n.providers,{provide:Qc,useValue:this},{provide:Bu,useValue:this.componentFactoryResolver}],n.parent||Fr(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function l(t,n,o=null){return new s({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let ve=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new on.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Yn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Et(t){return!!cn(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function cn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vn(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function Yc(t,n,o,a,c,h,m,_){const E=wt(),N=Nr(),$=t+ir,W=N.firstCreatePass?function KE(t,n,o,a,c,h,m,_,E){const N=n.consts,$=Vu(n,t,4,m||null,_a(N,_));uf(n,o,$,_a(N,E)),vu(n,$);const W=$.tView=Pp(2,$,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,N,null);return null!==n.queries&&(n.queries.template(n,$),W.queries=n.queries.embeddedTView($)),$}($,N,E,n,o,a,c,h,m):N.data[$];qo(W,!1);const Ce=DC(N,E,W,t);mu()&&Wd(N,E,Ce,W),gn(Ce,E);const Ge=j_(Ce,E,Ce,W);return E[$]=Ge,kp(E,Ge),function tv(t,n,o){return ev(t,n,o)}(Ge,W,E),fn(W)&&lf(N,E,W),null!=m&&vm(E,W,_),Yc}let DC=function AC(t,n,o,a){return ta(!0),n[sr].createComment("")};function r0(t,n,o,a){const c=wt();return Vn(c,oo(),n)&&(Nr(),qa(Hn(),c,t,n,o,a)),r0}function _g(t,n,o,a,c,h){const _=function jr(t,n,o,a){const c=Vn(t,n,o);return Vn(t,n+1,a)||c}(t,function Js(){return Tn.lFrame.bindingIndex}(),o,c);return ea(2),_?n+be(o)+a+be(c)+h:Sr}function Ky(t,n){return t<<17|n<<2}function ah(t){return t>>17&32767}function o0(t){return 2|t}function Pf(t){return(131068&t)>>2}function s0(t,n){return-131069&t|n<<2}function a0(t){return 1|t}function tD(t,n,o,a){const c=t[o+1],h=null===n;let m=a?ah(c):Pf(c),_=!1;for(;0!==m&&(!1===_||h);){const N=t[m+1];Qw(t[m],n)&&(_=!0,t[m+1]=a?a0(N):o0(N)),m=a?ah(N):Pf(N)}_&&(t[o+1]=a?o0(c):a0(c))}function Qw(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ni(t,n)>=0}function l0(t,n,o){const a=wt();return Vn(a,oo(),n)&&function To(t,n,o,a,c,h,m,_){const E=Xi(n,o);let $,N=n.inputs;!_&&null!=N&&($=N[a])?(hf(t,o,$,a,c),Xr(n)&&function U_(t,n){const o=Cs(n,t);16&o[Mn]||(o[Mn]|=64)}(o,n.index)):3&n.type&&(a=function Cm(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,n.value||"",a):c,h.setProperty(E,a,c))}(Nr(),Hn(),a,t,n,a[sr],o,!1),l0}function u0(t,n,o,a,c){const m=c?"class":"style";hf(t,o,n.inputs[m],m,a)}function c0(t,n){return function ou(t,n,o,a){const c=wt(),h=Nr(),m=ea(2);h.firstUpdatePass&&function cD(t,n,o,a){const c=t.data;if(null===c[o+1]){const h=c[No()],m=function uD(t,n){return n>=t.expandoStartIndex}(t,o);(function pD(t,n){return!!(t.flags&(n?8:16))})(h,a)&&null===n&&!m&&(n=!1),n=function ob(t,n,o,a){const c=function uc(t){const n=Tn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(o=yv(o=d0(null,t,n,o,a),n.attrs,a),h=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==c)if(o=d0(c,t,n,o,a),null===h){let E=function sb(t,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==Pf(a))return t[ah(a)]}(t,n,a);void 0!==E&&Array.isArray(E)&&(E=d0(null,t,n,E[1],a),E=yv(E,n.attrs,a),function ab(t,n,o,a){t[ah(o?n.classBindings:n.styleBindings)]=a}(t,n,a,E))}else h=function lb(t,n,o){let a;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)a=yv(a,t[h].hostAttrs,o);return yv(a,n.attrs,o)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),o}(c,h,n,a),function qw(t,n,o,a,c,h){let m=h?n.classBindings:n.styleBindings,_=ah(m),E=Pf(m);t[a]=o;let $,N=!1;if(Array.isArray(o)?($=o[1],(null===$||Ni(o,$)>0)&&(N=!0)):$=o,c)if(0!==E){const Ce=ah(t[_+1]);t[a+1]=Ky(Ce,_),0!==Ce&&(t[Ce+1]=s0(t[Ce+1],a)),t[_+1]=function Ww(t,n){return 131071&t|n<<17}(t[_+1],a)}else t[a+1]=Ky(_,0),0!==_&&(t[_+1]=s0(t[_+1],a)),_=a;else t[a+1]=Ky(E,0),0===_?_=a:t[E+1]=s0(t[E+1],a),E=a;N&&(t[a+1]=o0(t[a+1])),tD(t,$,a,!0),tD(t,$,a,!1),function Xw(t,n,o,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&Ni(h,n)>=0&&(o[a+1]=a0(o[a+1]))}(n,$,t,a,h),m=Ky(_,E),h?n.classBindings=m:n.styleBindings=m}(c,h,n,o,m,a)}}(h,t,m,a),n!==Sr&&Vn(c,m,n)&&function hD(t,n,o,a,c,h,m,_){if(!(3&n.type))return;const E=t.data,N=E[_+1],$=function Kw(t){return!(1&~t)}(N)?fD(E,n,o,c,Pf(N),m):void 0;qy($)||(qy(h)||function zw(t){return!(2&~t)}(N)&&(h=fD(E,null,o,c,_,m)),function M_(t,n,o,a,c){if(n)c?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:yp.DashCase;null==c?t.removeStyle(o,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=yp.Important),t.setStyle(o,a,c,h))}}(a,m,Oa(No(),o),c,h))}(h,h.data[No()],c,c[sr],t,c[m+1]=function hb(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=br(Ia(t)))),t}(n,o),a,m)}(t,n,null,!0),c0}function d0(t,n,o,a,c){let h=null;const m=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<m&&(h=n[_],a=yv(a,h.hostAttrs,c),h!==t);)_++;return null!==t&&(o.directiveStylingLast=_),a}function yv(t,n,o){const a=o?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qi(t,m,!!o||n[++h]))}return void 0===t?null:t}function fD(t,n,o,a,c,h){const m=null===n;let _;for(;c>0;){const E=t[c],N=Array.isArray(E),$=N?E[1]:E,W=null===$;let Ce=o[c+1];Ce===Sr&&(Ce=W?Ar:void 0);let Ge=W?ts(Ce,a):$===a?Ce:void 0;if(N&&!qy(Ge)&&(Ge=ts(E,a)),qy(Ge)&&(_=Ge,m))return _;const ct=t[c+1];c=m?ah(ct):Pf(ct)}if(null!==n){let E=h?n.residualClasses:n.residualStyles;null!=E&&(_=ts(E,a))}return _}function qy(t){return void 0!==t}function Xy(t,n,o,a){const c=wt(),h=Nr(),m=ir+t,_=c[sr],E=h.firstCreatePass?function kb(t,n,o,a,c,h){const m=n.consts,E=Vu(n,t,2,a,_a(m,c));return uf(n,o,E,_a(m,h)),null!==E.attrs&&Tf(E,E.attrs,!1),null!==E.mergedAttrs&&Tf(E,E.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,E),E}(m,h,c,n,o,a):h.data[m],N=_D(h,c,E,_,n,t);c[m]=N;const $=fn(E);return qo(E,!0),x_(_,N,E),!function Fo(t){return!(32&~t.flags)}(E)&&mu()&&Wd(h,c,N,E),0===function ri(){return Tn.lFrame.elementDepthCount}()&&gn(N,c),function Bf(){Tn.lFrame.elementDepthCount++}(),$&&(lf(h,c,E),mm(h,E,c)),null!==a&&vm(c,E),Xy}function Qy(){let t=ai();Zs()?as():(t=t.parent,qo(t,!1));const n=t;(function xg(t){return Tn.skipHydrationRootTNode===t})(n)&&function zi(){Tn.skipHydrationRootTNode=null}(),function cl(){Tn.lFrame.elementDepthCount--}();const o=Nr();return o.firstCreatePass&&(vu(o,t),cu(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function dc(t){return!!(8&t.flags)}(n)&&u0(o,n,wt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function hc(t){return!!(16&t.flags)}(n)&&u0(o,n,wt(),n.stylesWithoutHost,!1),Qy}function m0(t,n,o,a){return Xy(t,n,o,a),Qy(),m0}let _D=(t,n,o,a,c,h)=>(ta(!0),Ep(a,c,function Eh(){return Tn.lFrame.currentNamespace}()));function v0(t,n,o){const a=wt(),c=Nr(),h=t+ir,m=c.firstCreatePass?function Lb(t,n,o,a,c){const h=n.consts,m=_a(h,a),_=Vu(n,t,8,"ng-container",m);return null!==m&&Tf(_,m,!0),uf(n,o,_,_a(h,c)),null!==n.queries&&n.queries.elementStart(n,_),_}(h,c,a,n,o):c.data[h];qo(m,!0);const _=yD(c,a,m,t);return a[h]=_,mu()&&Wd(c,a,_,m),gn(_,a),fn(m)&&(lf(c,a,m),mm(c,m,a)),null!=o&&vm(a,m),v0}function _0(){let t=ai();const n=Nr();return Zs()?as():(t=t.parent,qo(t,!1)),n.firstCreatePass&&(vu(n,t),cu(t)&&n.queries.elementEnd(t)),_0}function y0(t,n,o){return v0(t,n,o),_0(),y0}let yD=(t,n,o,a)=>(ta(!0),cm(n[sr],""));function ID(){return wt()}const xf=void 0;var jb=["en",[["a","p"],["AM","PM"],xf],[["AM","PM"],xf,xf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xf,"{1} 'at' {0}",xf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $b(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let wg={};function I0(t){const n=function Hb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=AD(n);if(o)return o;const a=n.split("-")[0];if(o=AD(a),o)return o;if("en"===a)return jb;throw new ht(701,!1)}function DD(t){return I0(t)[bg.PluralCase]}function AD(t){return t in wg||(wg[t]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[t]),wg[t]}var bg=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(bg||{});const Sg="en-US";let TD=Sg;function D0(t,n,o,a){const c=wt(),h=Nr(),m=ai();return function A0(t,n,o,a,c,h,m){const _=fn(a),N=t.firstCreatePass&&H_(t),$=n[ni],W=Fp(n);let Ce=!0;if(3&a.type||m){const Rt=Xi(a,n),qt=m?m(Rt):Rt,Jt=W.length,Ot=m?Or=>m(di(Or[a.index])):a.index;let yr=null;if(!m&&_&&(yr=function US(t,n,o,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===a){const _=n[Ei],E=c[h+2];return _.length>E?_[E]:null}"string"==typeof m&&(h+=2)}return null}(t,n,c,a.index)),null!==yr)(yr.__ngLastListenerFn__||yr).__ngNextListenerFn__=h,yr.__ngLastListenerFn__=h,Ce=!1;else{h=JD(a,n,$,h,!1);const Or=o.listen(qt,c,h);W.push(h,Or),N&&N.push(c,Ot,Jt,Jt+1)}}else h=JD(a,n,$,h,!1);const Ge=a.outputs;let ct;if(Ce&&null!==Ge&&(ct=Ge[c])){const Rt=ct.length;if(Rt)for(let qt=0;qt<Rt;qt+=2){const ei=n[ct[qt]][ct[qt+1]].subscribe(h),ws=W.length;W.push(h,ei),N&&N.push(c,a.index,ws,-(ws+1))}}}(h,c,c[sr],m,t,n,a),D0}function ZD(t,n,o,a){const c=ie(null);try{return Qs(6,n,o),!1!==o(a)}catch(h){return Vp(t,h),!1}finally{Qs(7,n,o),ie(c)}}function JD(t,n,o,a,c){return function h(m){if(m===Function)return a;Zd(t.componentOffset>-1?Cs(t.index,n):n);let E=ZD(n,o,a,m),N=h.__ngNextListenerFn__;for(;N;)E=ZD(n,o,N,m)&&E,N=N.__ngNextListenerFn__;return c&&!1===E&&m.preventDefault(),E}}function eA(t=1){return function Ol(t){return(Tn.lFrame.contextLView=function ic(t,n){for(;t>0;)n=n[Vt],t--;return n}(t,Tn.lFrame.contextLView))[ni]}(t)}function BS(t,n){let o=null;const a=function Ft(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===a?ue(t,h,!0):to(a,h))return c}else o=c}return o}function tA(t){const n=wt()[ar][St];if(!n.projection){const a=n.projection=function Rs(t,n){const o=[];for(let a=0;a<t;a++)o.push(n);return o}(t?t.length:1,null),c=a.slice();let h=n.child;for(;null!==h;){const m=t?BS(h,t):0;null!==m&&(c[m]?c[m].projectionNext=h:a[m]=h,c[m]=h),h=h.next}}}function nA(t,n=0,o){const a=wt(),c=Nr(),h=Vu(c,ir+t,16,null,o||null);null===h.projection&&(h.projection=n),as(),(!a[Tr]||dl())&&32&~h.flags&&function b_(t,n,o){S_(n[sr],0,n,o,Yh(t,o,n),A_(o.parent||n[St],o,n))}(c,a,h)}function hA(t,n,o,a){!function Ay(t,n,o,a){const c=Nr();if(c.firstCreatePass){const h=ai();RE(c,new rg(n,o,a),h.index),function ME(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(c,t),!(2&~o)&&(c.staticContentQueries=!0)}return bE(c,wt(),o)}(t,n,o,a)}function fA(t,n,o){!function Dy(t,n,o){const a=Nr();return a.firstCreatePass&&(RE(a,new rg(t,n,o),-1),!(2&~n)&&(a.staticViewQueries=!0)),bE(a,wt(),n)}(t,n,o)}function pA(t){const n=wt(),o=Nr(),a=mh();Nl(a+1);const c=ig(o,a);if(t.dirty&&function hh(t){return!(4&~t[Mn])}(n)===!(2&~c.metadata.flags)){if(null===c.matches)t.reset([]);else{const h=iu(n,a);t.reset(h,Ic),t.notifyOnChanges()}return!0}return!1}function gA(){return function Cy(t,n){return t[Xs].queries[n].queryList}(wt(),mh())}function TA(t,n=""){const o=wt(),a=Nr(),c=t+ir,h=a.firstCreatePass?Vu(a,c,1,n,null):a.data[c],m=wA(a,o,h,n,t);o[c]=m,mu()&&Wd(a,o,m,h),qo(h,!1)}let wA=(t,n,o,a,c)=>(ta(!0),function ku(t,n){return t.createText(n)}(n[sr],a));function w0(t){return tI("",t,""),w0}function tI(t,n,o){const a=wt(),c=function vg(t,n,o,a){return Vn(t,oo(),o)?n+be(o)+a:Sr}(a,t,n,o);return c!==Sr&&Cl(a,No(),c),tI}function b0(t,n,o,a,c){const h=wt(),m=_g(h,t,n,o,a,c);return m!==Sr&&Cl(h,No(),m),b0}function S0(t,n,o,a,c){if(t=Ye(t),Array.isArray(t))for(let h=0;h<t.length;h++)S0(t[h],n,o,a,c);else{const h=Nr(),m=wt(),_=ai();let E=jo(t)?t:Ye(t.provide);const N=da(t),$=1048575&_.providerIndexes,W=_.directiveStart,Ce=_.providerIndexes>>20;if(jo(t)||!t.multi){const Ge=new md(N,c,Fu),ct=M0(E,n,c?$:$+Ce,W);-1===ct?(Th(ra(_,m),h,E),R0(h,t,n.length),n.push(E),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),o.push(Ge),m.push(Ge)):(o[ct]=Ge,m[ct]=Ge)}else{const Ge=M0(E,n,$+Ce,W),ct=M0(E,n,$,$+Ce),qt=ct>=0&&o[ct];if(c&&!qt||!c&&!(Ge>=0&&o[Ge])){Th(ra(_,m),h,E);const Jt=function aR(t,n,o,a,c){const h=new md(t,o,Fu);return h.multi=[],h.index=n,h.componentProviders=0,FA(h,c,a&&!o),h}(c?sR:oR,o.length,c,a,N);!c&&qt&&(o[ct].providerFactory=Jt),R0(h,t,n.length,0),n.push(E),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),o.push(Jt),m.push(Jt)}else R0(h,t,Ge>-1?Ge:ct,FA(o[c?ct:Ge],N,!c&&a));!c&&a&&qt&&o[ct].componentProviders++}}}function R0(t,n,o,a){const c=jo(n),h=function Qu(t){return!!t.useClass}(n);if(c||h){const E=(h?Ye(n.useClass):n).prototype.ngOnDestroy;if(E){const N=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const $=N.indexOf(o);-1===$?N.push(o,[a,E]):N[$+1].push(a,E)}else N.push(o,E)}}}function FA(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function M0(t,n,o,a){for(let c=o;c<a;c++)if(n[c]===t)return c;return-1}function oR(t,n,o,a){return P0(this.multi,[])}function sR(t,n,o,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=Ua(o,o[Bt],this.providerFactory.index,a);h=_.slice(0,m),P0(c,h);for(let E=m;E<_.length;E++)h.push(_[E])}else h=[],P0(c,h);return h}function P0(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function VA(t,n=[]){return o=>{o.providersResolver=(a,c)=>function iR(t,n,o){const a=Nr();if(a.firstCreatePass){const c=fo(t);S0(o,a.data,a.blueprint,c,!0),S0(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}let lR=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=is(0,a.type),h=c.length>0?l([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Yn({token:t,providedIn:"environment",factory:()=>new t(Wr(Eo))}),n})();function LA(t){Xa("NgStandalone"),t.getStandaloneInjector=n=>n.get(lR).getOrCreateStandaloneInjector(t)}function BA(t,n,o,a,c,h){const m=n+o;return Vn(t,m,c)?function or(t,n,o){return t[n]=o}(t,m+1,h?a.call(h,c):a(c)):function wv(t,n){const o=t[n];return o===Sr?void 0:o}(t,m+1)}function zA(t,n){const o=Nr();let a;const c=t+ir;var h;o.firstCreatePass?(a=function ER(t,n){if(n)for(let o=n.length-1;o>=0;o--){const a=n[o];if(t===a.name)return a}}(n,o.pipeRegistry),o.data[c]=a,a.onDestroy&&(null!==(h=o.destroyHooks)&&void 0!==h?h:o.destroyHooks=[]).push(c,a.onDestroy)):a=o.data[c];const m=a.factory||(a.factory=_o(a.type)),E=hr(Fu);try{const N=ml(!1),$=m();return ml(N),function GS(t,n,o,a){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=a}(o,wt(),c,$),$}finally{hr(E)}}function WA(t,n,o){const a=t+ir,c=wt(),h=function fu(t,n){return t[n]}(c,a);return function bv(t,n){return t[Bt].data[n].pure}(c,a)?BA(c,function Qi(){const t=Tn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,h.transform,o,h):h.transform(o)}class lT{constructor(n){this.full=n;const o=n.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}const qR=new lT("17.3.3");let uT=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Yn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const fT=new wn(""),pT=new wn("");let L0,IM=(()=>{var t;class n{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,L0||(function EM(t){L0=t}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ji.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==m),a()},c)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(Wr(Ji),Wr(gT),Wr(pT))},t.\u0275prov=Yn({token:t,factory:t.\u0275fac}),n})(),gT=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var h,m;return null!==(h=null===(m=L0)||void 0===m?void 0:m.findTestabilityInTree(this,a,c))&&void 0!==h?h:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Yn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function U0(t){return!!t&&"function"==typeof t.then}function mT(t){return!!t&&"function"==typeof t.subscribe}const vT=new wn("");let B0=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(a=Zn(vT,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const m=h();if(U0(m))a.push(m);else if(mT(m)){const _=new Promise((E,N)=>{m.subscribe({complete:E,error:N})});a.push(_)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Yn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const $0=new wn("");function IT(t,n){return Array.isArray(n)?n.reduce(IT,t):{...t,...n}}let lh=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zn(yc),this.afterRenderEffectManager=Zn(zc),this.externalTestViews=new Set,this.beforeRender=new nn.B,this.afterTick=new nn.B,this.componentTypes=[],this.components=[],this.isStable=Zn(ve).hasPendingTasks.pipe((0,Ct.T)(a=>!a)),this._injector=Zn(Eo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof jm;if(!this._injector.get(B0).done)throw!h&&no(a),new ht(405,!1);let _;_=h?a:this._injector.get(Bu).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const E=function CM(t){return t.isBoundToModule}(_)?void 0:this._injector.get(Qc),$=_.create(Qo.NULL,[],c||_.selector,E),W=$.location.nativeElement,Ce=$.injector.get(fT,null);return null==Ce||Ce.registerApplication(W),$.onDestroy(()=>{this.detachView($.hostView),oI(this.components,$),null==Ce||Ce.unregisterApplication(W)}),this._loadComponent($),$}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new ht(101,!1);const c=ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(h){this.internalErrorHandler(h)}finally{this.afterTick.next(),this._runningTick=!1,ie(c)}}detectChangesInAttachedViews(a){let c=0;const h=this.afterRenderEffectManager;for(;;){if(c===Fm)throw new ht(103,!1);if(a){const m=0===c;this.beforeRender.next(m);for(let{_lView:_,notifyErrorHandler:E}of this._views)AM(_,m,E)}if(c++,h.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:m})=>j0(m))&&(h.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:m})=>j0(m))))break}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;oI(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get($0,[]);[...this._bootstrapListeners,...c].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>oI(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ht(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Yn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function oI(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}function AM(t,n,o){!n&&!j0(t)||function TM(t,n,o){let a;o?(a=0,t[Mn]|=1024):a=64&t[Mn]?0:1,Jl(t,n,a)}(t,o,n)}function j0(t){return fh(t)}class wM{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let bM=(()=>{var t;class n{compileModuleSync(a){return new e(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),m=As(Oi(a).declarations).reduce((_,E)=>{const N=vr(E);return N&&_.push(new wf(N)),_},[]);return new wM(c,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Yn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),MM=(()=>{var t;class n{constructor(){this.zone=Zn(Ji),this.applicationRef=Zn(lh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Yn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function PM(){const t=Zn(Ji),n=Zn(Do);return o=>t.runOutsideAngular(()=>n.handleError(o))}let NM=(()=>{var t;class n{constructor(){this.subscription=new vn.yU,this.initialized=!1,this.zone=Zn(Ji),this.pendingTasks=Zn(ve)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ji.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var c;Ji.assertInAngularZone(),null!==(c=a)&&void 0!==c||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Yn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const sI=new wn("",{providedIn:"root",factory:()=>Zn(sI,Ut.Optional|Ut.SkipSelf)||function OM(){return typeof $localize<"u"&&$localize.locale||Sg}()}),kM=new wn("",{providedIn:"root",factory:()=>"USD"}),H0=new wn("");let AT=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function qm(t="zone.js",n){return"noop"===t?new Af:"zone.js"===t?new Ji(n):t}(null==c?void 0:c.ngZone,function DT(t){var n,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return h.run(()=>{const m=function r(t,n,o){return new i(t,n,o)}(a.moduleType,this.injector,function CT(t){return[{provide:Ji,useFactory:t},{provide:ns,multi:!0,useFactory:()=>{const n=Zn(MM,{optional:!0});return()=>n.initialize()}},{provide:ns,multi:!0,useFactory:()=>{const n=Zn(NM);return()=>{n.initialize()}}},{provide:yc,useFactory:PM}]}(()=>h)),_=m.injector.get(Do,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:N=>{_.handleError(N)}});m.onDestroy(()=>{oI(this._modules,m),E.unsubscribe()})}),function yT(t,n,o){try{const a=o();return U0(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(_,h,()=>{const E=m.injector.get(B0);return E.runInitializers(),E.donePromise.then(()=>(function wD(t){"string"==typeof t&&(TD=t.toLowerCase().replace(/_/g,"-"))}(m.injector.get(sI,Sg)||Sg),this._moduleDoBootstrap(m),m))})})}bootstrapModule(a,c=[]){const h=IT({},c);return function RM(t,n,o){const a=new e(o);return Promise.resolve(a)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const c=a.injector.get(lh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new ht(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ht(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(H0,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(Wr(Qo))},t.\u0275prov=Yn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),uh=null;const TT=new wn("");function wT(t,n,o=[]){const a=`Platform: ${n}`,c=new wn(a);return(h=[])=>{let m=G0();if(!m||m.injector.get(TT,!1)){const _=[...o,...h,{provide:c,useValue:!0}];t?t(_):function VM(t){if(uh&&!uh.get(TT,!1))throw new ht(400,!1);(function _T(){!function st(t){an=t}(()=>{throw new ht(600,!1)})})(),uh=t;const n=t.get(AT);(function ST(t){const n=t.get(Ru,null);null==n||n.forEach(o=>o())})(t)}(function bT(t=[],n){return Qo.create({name:n,providers:[{provide:Ns,useValue:"platform"},{provide:H0,useValue:new Set([()=>uh=null])},...t]})}(_,a))}return function LM(t){const n=G0();if(!n)throw new ht(401,!1);return n}()}}function G0(){var t,n;return null!==(t=null===(n=uh)||void 0===n?void 0:n.get(AT))&&void 0!==t?t:null}function BM(){return!1}function $M(){}let MT=(()=>{class n{}return n.__NG_ELEMENT_ID__=jM,n})();function jM(t){return function HM(t,n,o){if(Xr(t)&&!o){const a=Cs(t.index,n);return new gf(a,a)}return 47&t.type?new gf(n[ar],n):null}(ai(),wt(),!(16&~t))}class OT{constructor(){}supports(n){return Et(n)}create(n){return new qM(n)}}const KM=(t,n)=>n;class qM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||KM}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,c=0,h=null;for(;o||a;){const m=!a||o&&o.currentIndex<FT(a,c,h)?o:a,_=FT(m,c,h),E=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const N=_-c,$=E-c;if(N!=$){for(let Ce=0;Ce<N;Ce++){const Ge=Ce<h.length?h[Ce]:h[Ce]=0,ct=Ge+Ce;$<=ct&&ct<N&&(h[Ce]=Ge+1)}h[m.previousIndex]=$-N}}_!==E&&n(m,_,E)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!Et(n))throw new ht(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,m,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)h=n[_],m=this._trackByFn(_,h),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,h,m,_)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,_),a=!0),o=o._next}else c=0,function In(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,_=>{m=this._trackByFn(c,_),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,_,m,c)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,m,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,h,c)):n=this._addAfter(new XM(o,a),h,c),n}_verifyReinsertion(n,o,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const c=null===o?this._itHead:o._next;return n._next=c,n._prev=o,null===c?this._itTail=n:c._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new kT),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class XM{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class kT{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new QM,this.map.set(o,a)),a.add(n)}get(n,o){const c=this.map.get(n);return c?c.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FT(t,n,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+n+c}class VT{constructor(){}supports(n){return n instanceof Map||cn(n)}create(){return new YM}}class YM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||cn(n)))throw new ht(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new ZM(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class ZM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LT(){return new X0([new OT])}let X0=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||LT()),deps:[[n,new Kr,new Li]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new ht(901,!1)}}return(t=n).\u0275prov=Yn({token:t,providedIn:"root",factory:LT}),n})();function UT(){return new Q0([new VT])}let Q0=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||UT()),deps:[[n,new Kr,new Li]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new ht(901,!1)}}return(t=n).\u0275prov=Yn({token:t,providedIn:"root",factory:UT}),n})();const tP=wT(null,"core",[]);let nP=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(Wr(lh))},t.\u0275mod=xs({type:t}),t.\u0275inj=Ai({}),n})();function PP(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function NP(t){const n=ie(null);try{return t()}finally{ie(n)}}function UP(t,n){const o=vr(t),a=n.elementInjector||Fr();return new wf(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function BP(t){const n=vr(t);if(!n)return null;const o=new wf(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1182:(Qt,Je,O)=>{"use strict";O.d(Je,{DS:()=>et,X8:()=>me,$z:()=>Ee,UB:()=>ye,yy:()=>kn,ZP:()=>st,AU:()=>fe,CP:()=>an,gF:()=>Re});var u=O(9842),oe=(O(509),O(177)),j=O(4438),Te=O(1825),ce=O(9253),ie=O(1413),He=O(7673),$e=O(1985),ge=O(8455),le=O(6365),ke=O(8750),we=O(983),xe=O(3794),Ze=O(941),Fe=O(5558),Oe=O(6354),Ue=O(6129);class vt extends ie.B{constructor(bt=1/0,xt=1/0,_t=Ue.U){super(),this._bufferSize=bt,this._windowTime=xt,this._timestampProvider=_t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=xt===1/0,this._bufferSize=Math.max(1,bt),this._windowTime=Math.max(1,xt)}next(bt){const{isStopped:xt,_buffer:_t,_infiniteTimeWindow:$t,_timestampProvider:Pn,_windowTime:nn}=this;xt||(_t.push(bt),!$t&&_t.push(Pn.now()+nn)),this._trimBuffer(),super.next(bt)}_subscribe(bt){this._throwIfClosed(),this._trimBuffer();const xt=this._innerSubscribe(bt),{_infiniteTimeWindow:_t,_buffer:$t}=this,Pn=$t.slice();for(let nn=0;nn<Pn.length&&!bt.closed;nn+=_t?1:2)bt.next(Pn[nn]);return this._checkFinalizedStatuses(bt),xt}_trimBuffer(){const{_bufferSize:bt,_timestampProvider:xt,_buffer:_t,_infiniteTimeWindow:$t}=this,Pn=($t?1:2)*bt;if(bt<1/0&&Pn<_t.length&&_t.splice(0,_t.length-Pn),!$t){const nn=xt.now();let vn=0;for(let on=1;on<_t.length&&_t[on]<=nn;on+=2)vn=on;vn&&_t.splice(0,vn+1)}}}var ae=O(7707),Ve=O(9974);function Xe(pt,bt,...xt){if(!0===bt)return void pt();if(!1===bt)return;const _t=new ae.Ms({next:()=>{_t.unsubscribe(),pt()}});return(0,ke.Tg)(bt(...xt)).subscribe(_t)}function J(pt,bt,xt){let _t,$t=!1;return pt&&"object"==typeof pt?({bufferSize:_t=1/0,windowTime:bt=1/0,refCount:$t=!1,scheduler:xt}=pt):_t=null!=pt?pt:1/0,function Ne(pt={}){const{connector:bt=(()=>new ie.B),resetOnError:xt=!0,resetOnComplete:_t=!0,resetOnRefCountZero:$t=!0}=pt;return Pn=>{let nn,vn,on,Ct=0,gt=!1,It=!1;const ht=()=>{null==vn||vn.unsubscribe(),vn=void 0},Zt=()=>{ht(),nn=on=void 0,gt=It=!1},Nn=()=>{const Sn=nn;Zt(),null==Sn||Sn.unsubscribe()};return(0,Ve.N)((Sn,Kn)=>{Ct++,!It&&!gt&&ht();const xn=on=null!=on?on:bt();Kn.add(()=>{Ct--,0===Ct&&!It&&!gt&&(vn=Xe(Nn,$t))}),xn.subscribe(Kn),!nn&&Ct>0&&(nn=new ae.Ms({next:Gn=>xn.next(Gn),error:Gn=>{It=!0,ht(),vn=Xe(Zt,xt,Gn),xn.error(Gn)},complete:()=>{gt=!0,ht(),vn=Xe(Zt,_t),xn.complete()}}),(0,ke.Tg)(Sn).subscribe(nn))})(Pn)}}({connector:()=>new vt(_t,bt,xt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:$t})}var K=O(1594),De=O(8071);function z(pt,bt){return(0,De.T)(bt)?(0,Fe.n)(()=>pt,bt):(0,Fe.n)(()=>pt)}var je=O(6745),Le=O(5964),ot=O(7935);const an=new j.nKC("angularfire2.auth.use-emulator"),kn=new j.nKC("angularfire2.auth.settings"),st=new j.nKC("angularfire2.auth.tenant-id"),Ee=new j.nKC("angularfire2.auth.langugage-code"),fe=new j.nKC("angularfire2.auth.use-device-language"),ye=new j.nKC("angularfire.auth.persistence"),Re=(pt,bt,xt,_t,$t,Pn,nn,vn)=>(0,ce.BM)(`${pt.name}.auth`,"AngularFireAuth",pt.name,()=>{const on=bt.runOutsideAngular(()=>pt.auth());if(xt&&on.useEmulator(...xt),_t&&(on.tenantId=_t),on.languageCode=$t,Pn&&on.useDeviceLanguage(),nn)for(const[Ct,gt]of Object.entries(nn))on.settings[Ct]=gt;return vn&&on.setPersistence(vn),on},[xt,_t,$t,Pn,nn,vn]);let et=(()=>{var pt;class bt{constructor(_t,$t,Pn,nn,vn,on,Ct,gt,It,ht,Zt,Nn){(0,u.A)(this,"authState",void 0),(0,u.A)(this,"idToken",void 0),(0,u.A)(this,"user",void 0),(0,u.A)(this,"idTokenResult",void 0),(0,u.A)(this,"credential",void 0);const Sn=new ie.B,Kn=(0,He.of)(void 0).pipe((0,Ze.Q)(vn.outsideAngular),(0,Fe.n)(()=>nn.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,509)))),(0,Oe.T)(()=>(0,ce.iB)(_t,nn,$t)),(0,Oe.T)(xn=>Re(xn,nn,on,gt,It,ht,Ct,Zt)),J({bufferSize:1,refCount:!1}));if((0,oe.Vy)(Pn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,He.of)(null);else{Kn.pipe((0,K.$)()).subscribe();const xn=Kn.pipe((0,Fe.n)(en=>en.getRedirectResult().then(ur=>ur,()=>null)),Te.U0,J({bufferSize:1,refCount:!1})),Gn=Kn.pipe((0,Fe.n)(en=>new $e.c(ur=>({unsubscribe:nn.runOutsideAngular(()=>en.onAuthStateChanged(mr=>ur.next(mr),mr=>ur.error(mr),()=>ur.complete()))})))),ln=Kn.pipe((0,Fe.n)(en=>new $e.c(ur=>({unsubscribe:nn.runOutsideAngular(()=>en.onIdTokenChanged(mr=>ur.next(mr),mr=>ur.error(mr),()=>ur.complete()))}))));this.authState=xn.pipe(z(Gn),(0,je._)(vn.outsideAngular),(0,Ze.Q)(vn.insideAngular)),this.user=xn.pipe(z(ln),(0,je._)(vn.outsideAngular),(0,Ze.Q)(vn.insideAngular)),this.idToken=this.user.pipe((0,Fe.n)(en=>en?(0,ge.H)(en.getIdToken()):(0,He.of)(null))),this.idTokenResult=this.user.pipe((0,Fe.n)(en=>en?(0,ge.H)(en.getIdTokenResult()):(0,He.of)(null))),this.credential=function Me(...pt){const bt=(0,xe.lI)(pt),xt=(0,xe.R0)(pt,1/0),_t=pt;return _t.length?1===_t.length?(0,ke.Tg)(_t[0]):(0,le.U)(xt)((0,ge.H)(_t,bt)):we.w}(xn,Sn,this.authState.pipe((0,Le.p)(en=>!en))).pipe((0,Oe.T)(en=>null!=en&&en.user?en:null),(0,je._)(vn.outsideAngular),(0,Ze.Q)(vn.insideAngular))}return(0,ce.Gt)(this,Kn,nn,{spy:{apply:(xn,Gn,ln)=>{(xn.startsWith("signIn")||xn.startsWith("createUser"))&&ln.then(en=>Sn.next(en))}}})}}return pt=bt,(0,u.A)(bt,"\u0275fac",function(_t){return new(_t||pt)(j.KVO(ce.rx),j.KVO(ce.uP,8),j.KVO(j.Agw),j.KVO(j.SKi),j.KVO(Te.u0),j.KVO(an,8),j.KVO(kn,8),j.KVO(st,8),j.KVO(Ee,8),j.KVO(fe,8),j.KVO(ye,8),j.KVO(Te.Jv,8))}),(0,u.A)(bt,"\u0275prov",j.jDH({token:pt,factory:pt.\u0275fac,providedIn:"any"})),bt})(),me=(()=>{var pt;class bt{constructor(){ot.A.registerVersion("angularfire",Te.xv.full,"auth-compat")}}return pt=bt,(0,u.A)(bt,"\u0275fac",function(_t){return new(_t||pt)}),(0,u.A)(bt,"\u0275mod",j.$C({type:pt})),(0,u.A)(bt,"\u0275inj",j.G2t({providers:[et]})),bt})()},3235:(Qt,Je,O)=>{"use strict";O.d(Je,{Qe:()=>$y,cM:()=>CC});var u=O(9842),G=O(177),oe=O(4438),j=O(1825),Te=O(9253),ce=O(1182),ie=O(3236),He=O(1985),$e=O(8455),ge=O(7673),le=O(9172),ke=O(9974),we=O(4360);function xe(){return(0,ke.N)((i,e)=>{let r,s=!1;i.subscribe((0,we._)(e,l=>{const d=r;r=l,s&&e.next([d,l]),s=!0}))})}var z,Me=O(6354),Ze=O(2816),Fe=O(3294),Oe=O(5964),vt=(O(509),O(3345)),ae=O(467),Ve=O(7852),Ne=O(1362),Xe=O(8041),J=O(1076),K=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De={},je=je||{},Le=K||self;function ot(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Mt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var kn="closure_uid_"+(1e9*Math.random()>>>0),st=0;function Ee(i,e,r){return i.call.apply(i.bind,arguments)}function fe(i,e,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function ye(i,e,r){return(ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ee:fe).apply(null,arguments)}function Re(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function et(i,e){function r(){}r.prototype=e.prototype,i.$=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.ac=function(s,l,d){for(var g=Array(arguments.length-2),b=2;b<arguments.length;b++)g[b-2]=arguments[b];return e.prototype[l].apply(s,g)}}function me(){this.s=this.s,this.o=this.o}me.prototype.s=!1,me.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function an(i){Object.prototype.hasOwnProperty.call(i,kn)&&i[kn]||(i[kn]=++st)}(this)},me.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1};function xt(i){const e=i.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=i[s];return r}return[]}function _t(i,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(ot(s)){const l=i.length||0,d=s.length||0;i.length=l+d;for(let g=0;g<d;g++)i[l+g]=s[g]}else i.push(s)}}function $t(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}$t.prototype.h=function(){this.defaultPrevented=!0};var Pn=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const r=()=>{};Le.addEventListener("test",r,e),Le.removeEventListener("test",r,e)}catch{}return i}();function nn(i){return/^[\s\xa0]*$/.test(i)}function vn(){var i=Le.navigator;return i&&(i=i.userAgent)?i:""}function on(i){return-1!=vn().indexOf(i)}function Ct(i){return Ct[" "](i),i}Ct[" "]=function(){};var Gn,i,It=on("Opera"),ht=on("Trident")||on("MSIE"),Zt=on("Edge"),Nn=Zt||ht,Sn=on("Gecko")&&!(-1!=vn().toLowerCase().indexOf("webkit")&&!on("Edge"))&&!(on("Trident")||on("MSIE"))&&!on("Edge"),Kn=-1!=vn().toLowerCase().indexOf("webkit")&&!on("Edge");function xn(){var i=Le.document;return i?i.documentMode:void 0}e:{var ln="",en=(i=vn(),Sn?/rv:([^\);]+)(\)|;)/.exec(i):Zt?/Edge\/([\d\.]+)/.exec(i):ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Kn?/WebKit\/(\S+)/.exec(i):It?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(en&&(ln=en?en[1]:""),ht){var ur=xn();if(null!=ur&&ur>parseFloat(ln)){Gn=String(ur);break e}}Gn=ln}var zn=Le.document&&ht&&(xn()||parseInt(Gn,10))||void 0;function Dr(i,e){if($t.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Sn){e:{try{Ct(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:vi[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Dr.$.h.call(this)}}et(Dr,$t);var vi={2:"touch",3:"pen",4:"mouse"};Dr.prototype.h=function(){Dr.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var _n="closure_listenable_"+(1e6*Math.random()|0),oi=0;function $n(i,e,r,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=l,this.key=++oi,this.fa=this.ia=!1}function Wn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function kr(i,e,r){for(const s in i)e.call(r,i[s],s,i)}function Hr(i){const e={};for(const r in i)e[r]=i[r];return e}const hi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qr(i,e){let r,s;for(let l=1;l<arguments.length;l++){for(r in s=arguments[l],s)i[r]=s[r];for(let d=0;d<hi.length;d++)r=hi[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function si(i){this.src=i,this.g={},this.h=0}function Ye(i,e){var r=e.type;if(r in i.g){var d,s=i.g[r],l=bt(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(Wn(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function ze(i,e,r,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==s)return l}return-1}si.prototype.add=function(i,e,r,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=ze(i,e,s,l);return-1<g?(e=i[g],r||(e.ia=!1)):((e=new $n(e,this.src,d,!!s,l)).ia=r,i.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),We={};function ee(i,e,r,s,l){if(s&&s.once)return lt(i,e,r,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)ee(i,e[d],r,s,l);return null}return r=Yr(r),i&&i[_n]?i.O(e,r,Mt(s)?!!s.capture:!!s,l):se(i,e,r,!1,s,l)}function se(i,e,r,s,l,d){if(!e)throw Error("Invalid event type");var g=Mt(l)?!!l.capture:!!l,b=er(i);if(b||(i[mt]=b=new si(i)),(r=b.add(e,r,s,g,d)).proxy)return r;if(s=function Ae(){const e=qn;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)Pn||(l=g),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(pn(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function lt(i,e,r,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)lt(i,e[d],r,s,l);return null}return r=Yr(r),i&&i[_n]?i.P(e,r,Mt(s)?!!s.capture:!!s,l):se(i,e,r,!0,s,l)}function qe(i,e,r,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)qe(i,e[d],r,s,l);else s=Mt(s)?!!s.capture:!!s,r=Yr(r),i&&i[_n]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=ze(d=i.g[e],r,s,l))&&(Wn(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=er(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ze(e,r,s,l)),(r=-1<i?e[i]:null)&&jt(r))}function jt(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[_n])Ye(e.i,i);else{var r=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(r,s,i.capture):e.detachEvent?e.detachEvent(pn(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=er(e))?(Ye(r,i),0==r.h&&(r.src=null,e[mt]=null)):Wn(i)}}}function pn(i){return i in We?We[i]:We[i]="on"+i}function qn(i,e){if(i.fa)i=!0;else{e=new Dr(e,this);var r=i.listener,s=i.la||i.src;i.ia&&jt(i),i=r.call(s,e)}return i}function er(i){return(i=i[mt])instanceof si?i:null}var Ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yr(i){return"function"==typeof i?i:(i[Ur]||(i[Ur]=function(e){return i.handleEvent(e)}),i[Ur])}function dn(){me.call(this),this.i=new si(this),this.S=this,this.J=null}function Xt(i,e){var r,s=i.J;if(s)for(r=[];s;s=s.J)r.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new $t(e,i);else if(e instanceof $t)e.target=e.target||i;else{var l=e;Qr(e=new $t(s,i),l)}if(l=!0,r)for(var d=r.length-1;0<=d;d--){var g=e.g=r[d];l=bi(g,s,!0,e)&&l}if(l=bi(g=e.g=i,s,!0,e)&&l,l=bi(g,s,!1,e)&&l,r)for(d=0;d<r.length;d++)l=bi(g=e.g=r[d],s,!1,e)&&l}function bi(i,e,r,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.fa&&g.capture==r){var b=g.listener,S=g.la||g.src;g.ia&&Ye(i.i,g),l=!1!==b.call(S,s)&&l}}return l&&!s.defaultPrevented}et(dn,me),dn.prototype[_n]=!0,dn.prototype.removeEventListener=function(i,e,r,s){qe(this,i,e,r,s)},dn.prototype.N=function(){if(dn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],s=0;s<r.length;s++)Wn(r[s]);delete i.g[e],i.h--}}this.J=null},dn.prototype.O=function(i,e,r,s){return this.i.add(String(i),e,!1,r,s)},dn.prototype.P=function(i,e,r,s){return this.i.add(String(i),e,!0,r,s)};var Br=Le.JSON.stringify;function ki(){var i=tn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Yn=new class Pi{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Si,i=>i.reset());class Si{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Ai(i){var e=1;i=i.split(":");const r=[];for(;0<e&&i.length;)r.push(i.shift()),e--;return i.length&&r.push(i.join(":")),r}function ut(i){Le.setTimeout(()=>{throw i},0)}let tt,Tt=!1,tn=new class Fi{constructor(){this.h=this.g=null}add(e,r){const s=Yn.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},Dn=()=>{const i=Le.Promise.resolve(void 0);tt=()=>{i.then(Ln)}};var Ln=()=>{for(var i;i=ki();){try{i.h.call(i.g)}catch(r){ut(r)}var e=Yn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Tt=!1};function Un(i,e){dn.call(this),this.h=i||1,this.g=e||Le,this.j=ye(this.qb,this),this.l=Date.now()}function Bn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Ir(i,e,r){if("function"==typeof i)r&&(i=ye(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ye(i.handleEvent,i)}return 2147483647<Number(e)?-1:Le.setTimeout(i,e||0)}function wn(i){i.g=Ir(()=>{i.g=null,i.i&&(i.i=!1,wn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}et(Un,dn),(z=Un.prototype).ga=!1,z.T=null,z.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xt(this,"tick"),this.ga&&(Bn(this),this.start()))}},z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.N=function(){Un.$.N.call(this),Bn(this),delete this.g};class Er extends me{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wn(this)}N(){super.N(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(i){me.call(this),this.h=i,this.g={}}et(nr,me);var mo=[];function he(i,e,r,s){Array.isArray(r)||(r&&(mo[0]=r.toString()),r=mo);for(var l=0;l<r.length;l++){var d=ee(e,r[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Ie(i){kr(i.g,function(e,r){this.g.hasOwnProperty(r)&&jt(e)},i),i.g={}}function H(){this.g=!0}function Pt(i,e,r,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sn(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<l.length;g++)l[g]=""}}}return Br(r)}catch{return e}}(i,r)+(s?" "+s:"")})}nr.prototype.N=function(){nr.$.N.call(this),Ie(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},H.prototype.Ea=function(){this.g=!1},H.prototype.info=function(){};var yn={},On=null;function Gr(){return On=On||new dn}function dt(i){$t.call(this,yn.Ta,i)}function B(i){const e=Gr();Xt(e,new dt(e))}function q(i,e){$t.call(this,yn.STAT_EVENT,i),this.stat=e}function Pe(i){const e=Gr();Xt(e,new q(e,i))}function be(i,e){$t.call(this,yn.Ua,i),this.size=e}function it(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){i()},e)}yn.Ta="serverreachability",et(dt,$t),yn.STAT_EVENT="statevent",et(q,$t),yn.Ua="timingevent",et(be,$t);var ft={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},kt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Lt(){}function Gt(){}Lt.prototype.h=null;var rr,Wt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ut(){$t.call(this,"d")}function En(){$t.call(this,"c")}function hr(){}function Pr(i,e,r,s){this.l=i,this.j=e,this.m=r,this.W=s||1,this.U=new nr(this),this.P=te,this.V=new Un(i=Nn?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new A}function A(){this.i=null,this.g="",this.h=!1}et(Ut,$t),et(En,$t),et(hr,Lt),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},rr=new hr;var te=45e3,P={},re={};function Qe(i,e,r){i.L=1,i.A=Ki(vo(e)),i.u=r,i.S=!0,cr(i,null)}function cr(i,e){i.G=Date.now(),_i(i),i.B=vo(i.A);var r=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),ts(r.i,"t",s),i.o=0,r=i.l.J,i.h=new A,i.g=Xu(i.l,r?e:null,!i.u),0<i.O&&(i.M=new Er(ye(i.Pa,i,i.g),i.O)),he(i.U,i.g,"readystatechange",i.nb),e=i.I?Hr(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),B(),function pe(i,e,r,s,l,d){i.info(function(){if(i.g)if(d)for(var g="",b=d.split("&"),S=0;S<b.length;S++){var U=b[S].split("=");if(1<U.length){var Q=U[0];U=U[1];var ve=Q.split("_");g=2<=ve.length&&"type"==ve[1]?g+(Q+"=")+U+"&":g+(Q+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+r+"\n"+g})}(i.j,i.v,i.B,i.m,i.W,i.u)}function ti(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function Wi(i,e,r){let l,s=!0;for(;!i.J&&i.o<r.length;){if(l=xi(i,r),l==re){4==e&&(i.s=4,Pe(14),s=!1),Pt(i.j,i.m,null,"[Incomplete Response]");break}if(l==P){i.s=4,Pe(15),Pt(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}Pt(i.j,i.m,l,null),Vo(i,l)}ti(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=r.length||i.h.h||(i.s=1,Pe(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),lu(e),e.M=!0,Pe(11))):(Pt(i.j,i.m,r,"[Invalid Chunked Response]"),Wr(i),fs(i))}function xi(i,e){var r=i.o,s=e.indexOf("\n",r);return-1==s?re:(r=Number(e.substring(r,s)),isNaN(r)?P:(s+=1)+r>e.length?re:(e=e.slice(s,s+r),i.o=s+r,e))}function _i(i){i.Y=Date.now()+i.P,Us(i,i.P)}function Us(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=it(ye(i.lb,i),e)}function Vi(i){i.C&&(Le.clearTimeout(i.C),i.C=null)}function fs(i){0==i.l.H||i.J||is(i.l,i)}function Wr(i){Vi(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Bn(i.V),Ie(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Vo(i,e){try{var r=i.l;if(0!=r.H&&(r.g==i||Ms(r.i,i)))if(!i.K&&Ms(r.i,i)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<i.G))break e;ba(r),vr(r)}rl(r),Pe(18)}}else r.Fa=l[1],0<r.Fa-r.V&&37500>l[2]&&r.G&&0==r.A&&!r.v&&(r.v=it(ye(r.ib,r),6e3));if(1>=sa(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else $o(r,11)}else if((i.K||r.g==i)&&ba(r),!nn(e))for(l=r.Ja.g.parse(e),e=0;e<l.length;e++){let U=l[e];if(r.V=U[0],U=U[1],2==r.H)if("c"==U[0]){r.K=U[1],r.pa=U[2];const Q=U[3];null!=Q&&(r.ra=Q,r.l.info("VER="+r.ra));const ve=U[4];null!=ve&&(r.Ga=ve,r.l.info("SVER="+r.Ga));const Ke=U[5];null!=Ke&&"number"==typeof Ke&&0<Ke&&(r.L=s=1.5*Ke,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const Et=i.g;if(Et){const rn=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rn){var d=s.i;d.g||-1==rn.indexOf("spdy")&&-1==rn.indexOf("quic")&&-1==rn.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(rs(d,d.h),d.h=null))}if(s.F){const In=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;In&&(s.Da=In,Kr(s.I,s.F,In))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-i.G,r.l.info("Handshake RTT: "+r.S+"ms"));var g=i;if((s=r).wa=Sa(s,s.J?s.pa:null,s.Y),g.K){Lo(s.i,g);var b=g,S=s.L;S&&b.setTimeout(S),b.C&&(Vi(b),_i(b)),s.g=g}else zs(s);0<r.j.length&&ci(r)}else"stop"!=U[0]&&"close"!=U[0]||$o(r,7);else 3==r.H&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?$o(r,7):nl(r):"noop"!=U[0]&&r.h&&r.h.Aa(U),r.A=0)}B()}catch{}}function Ss(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ot(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var r=function bs(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ot(i)||"string"==typeof i){var e=[];i=i.length;for(var r=0;r<i;r++)e.push(r);return e}e=[],r=0;for(const s in i)e[r++]=s;return e}}}(i),s=function Zn(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ot(i)){for(var e=[],r=i.length,s=0;s<r;s++)e.push(i[s]);return e}for(s in e=[],r=0,i)e[r++]=i[s];return e}(i),l=s.length,d=0;d<l;d++)e.call(void 0,s[d],r&&r[d],i)}(z=Pr.prototype).setTimeout=function(i){this.P=i},z.nb=function(i){i=i.target;const e=this.M;e&&3==yo(i)?e.l():this.Pa(i)},z.Pa=function(i){try{if(i==this.g)e:{const Q=yo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||Nn||this.g&&(this.h.h||this.g.ja()||Tl(this.g)))){this.J||4!=Q||7==e||B(),Vi(this);var r=this.g.da();this.ca=r;t:if(ti(this)){var s=Tl(this.g);i="";var l=s.length,d=4==yo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),fs(this);var g="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.length=0,this.h.g+=i,this.o=0,g=this.h.g}else g=this.g.ja();if(this.i=200==r,function rt(i,e,r,s,l,d,g){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+r+"\n"+d+" "+g})}(this.j,this.v,this.B,this.m,this.W,Q,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,S=this.g;if((b=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nn(b)){var U=b;break t}}U=null}if(!(r=U)){this.i=!1,this.s=3,Pe(12),Wr(this),fs(this);break e}Pt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vo(this,r)}this.S?(Wi(this,Q,g),Nn&&this.i&&3==Q&&(he(this.U,this.V,"tick",this.mb),this.V.start())):(Pt(this.j,this.m,g,null),Vo(this,g)),4==Q&&Wr(this),this.i&&!this.J&&(4==Q?is(this.l,this):(this.i=!1,_i(this)))}else(function wl(i){const e={};i=(i.g&&2<=yo(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(nn(i[s]))continue;var r=Ai(i[s]);const l=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const d=e[l]||[];e[l]=d,d.push(r)}!function br(i,e){for(const r in i)e.call(void 0,i[r],r,i)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<g.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),Wr(this),fs(this)}}}catch{}},z.mb=function(){if(this.g){var i=yo(this.g),e=this.g.ja();this.o<e.length&&(Vi(this),Wi(this,i,e),this.i&&4!=i&&_i(this))}},z.cancel=function(){this.J=!0,Wr(this)},z.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function Yt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(B(),Pe(17)),Wr(this),this.s=2,fs(this)):Us(this,this.Y-i)};var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ro(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ro){this.h=i.h,ao(this,i.j),this.s=i.s,this.g=i.g,Li(this,i.m),this.l=i.l;var e=i.i,r=new es;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),oa(this,r),this.o=i.o}else i&&(e=String(i).match(ps))?(this.h=!1,ao(this,e[1]||"",!0),this.s=_o(e[2]||""),this.g=_o(e[3]||"",!0),Li(this,e[4]),this.l=_o(e[5]||"",!0),oa(this,e[6]||"",!0),this.o=_o(e[7]||"")):(this.h=!1,this.i=new es(null,this.h))}function vo(i){return new Ro(i)}function ao(i,e,r){i.j=r?_o(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Li(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function oa(i,e,r){e instanceof es?(i.i=e,function lo(i,e){e&&!i.j&&(eo(i),i.i=null,i.g.forEach(function(r,s){var l=s.toLowerCase();s!=l&&(Ta(this,s),ts(this,l,r))},i)),i.j=e}(i.i,i.h)):(r||(e=Jo(e,Rs)),i.i=new es(e,i.h))}function Kr(i,e,r){i.i.set(e,r)}function Ki(i){return Kr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function _o(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Jo(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,Ui),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ui(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ro.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Jo(e,Bi,!0),":");var r=this.g;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Jo(e,Bi,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&i.push("/"),i.push(Jo(r,"/"==r.charAt(0)?ms:tl,!0))),(r=this.i.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Jo(r,Aa)),i.join("")};var Bi=/[#\/\?@]/g,tl=/[#\?:]/g,ms=/[#\?]/g,Rs=/[#\?@]/g,Aa=/#/g;function es(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function eo(i){i.g||(i.g=new Map,i.h=0,i.i&&function gs(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),l=null;if(0<=s){var d=i[r].substring(0,s);l=i[r].substring(s+1)}else d=i[r];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Ta(i,e){eo(i),e=Ni(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function qi(i,e){return eo(i),e=Ni(i,e),i.g.has(e)}function ts(i,e,r){Ta(i,e),0<r.length&&(i.i=null,i.g.set(Ni(i,e),xt(r)),i.h+=r.length)}function Ni(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(z=es.prototype).add=function(i,e){eo(this),this.i=null,i=Ni(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},z.forEach=function(i,e){eo(this),this.g.forEach(function(r,s){r.forEach(function(l){i.call(e,l,s,this)},this)},this)},z.ta=function(){eo(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const l=i[s];for(let d=0;d<l.length;d++)r.push(e[s])}return r},z.Z=function(i){eo(this);let e=[];if("string"==typeof i)qi(this,i)&&(e=e.concat(this.g.get(Ni(this,i))));else{i=Array.from(this.g.values());for(let r=0;r<i.length;r++)e=e.concat(i[r])}return e},z.set=function(i,e){return eo(this),this.i=null,qi(this,i=Ni(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},z.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const d=encodeURIComponent(String(s)),g=this.Z(s);for(s=0;s<g.length;s++){var l=d;""!==g[s]&&(l+="="+encodeURIComponent(String(g[s]))),i.push(l)}}return this.i=i.join("&")};var Mo=class{constructor(i,e){this.g=i,this.map=e}};function yi(i){this.l=i||Ar,i=Le.PerformanceNavigationTiming?0<(i=Le.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Le.g&&Le.g.Ka&&Le.g.Ka()&&Le.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ar=10;function ns(i){return!!i.h||!!i.g&&i.g.size>=i.j}function sa(i){return i.h?1:i.g?i.g.size:0}function Ms(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function rs(i,e){i.g?i.g.add(e):i.h=e}function Lo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Uo(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.F);return e}return xt(i.i)}yi.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var $i=class{stringify(i){return Le.JSON.stringify(i,void 0)}parse(i){return Le.JSON.parse(i,void 0)}};function Bs(){this.g=new $i}function wa(i,e,r){const s=r||"";try{Ss(i,function(l,d){let g=l;Mt(l)&&(g=Br(l)),e.push(s+d+"="+encodeURIComponent(g))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Ti(i,e,r,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function uo(i){this.l=i.ec||null,this.j=i.ob||!1}function aa(i,e){dn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=js,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}et(uo,Lt),uo.prototype.g=function(){return new aa(this.l,this.j)},uo.prototype.i=function(i){return function(){return i}}({}),et(aa,dn);var js=0;function Hs(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function vs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,L(i)}function L(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(z=aa.prototype).open=function(i,e){if(this.readyState!=js)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,L(this)},z.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vs(this)),this.readyState=js},z.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,L(this)),this.g&&(this.readyState=3,L(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hs(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},z.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?vs(this):L(this),3==this.readyState&&Hs(this)}},z.Za=function(i){this.g&&(this.response=this.responseText=i,vs(this))},z.Ya=function(i){this.g&&(this.response=i,vs(this))},z.ka=function(){this.g&&vs(this)},z.setRequestHeader=function(i,e){this.v.append(i,e)},z.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var R=Le.JSON.parse;function Z(i){dn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=V,this.L=this.M=!1}et(Z,dn);var V="",ue=/^https?$/i,Ft=["POST","PUT"];function Jn(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,to(i),co(i)}function to(i){i.F||(i.F=!0,Xt(i,"complete"),Xt(i,"error"))}function Bo(i){if(i.h&&typeof je<"u"&&(!i.C[1]||4!=yo(i)||2!=i.da()))if(i.v&&4==yo(i))Ir(i.La,0,i);else if(Xt(i,"readystatechange"),4==yo(i)){i.h=!1;try{const g=i.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===g){var l=String(i.I).match(ps)[1]||null;!l&&Le.self&&Le.self.location&&(l=Le.self.location.protocol.slice(0,-1)),s=!ue.test(l?l.toLowerCase():"")}r=s}if(r)Xt(i,"complete"),Xt(i,"success");else{i.m=6;try{var d=2<yo(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.da()+"]",to(i)}}finally{co(i)}}}function co(i,e){if(i.g){Ps(i);const r=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Xt(i,"ready");try{r.onreadystatechange=s}catch{}}}function Ps(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Le.clearTimeout(i.A),i.A=null)}function yo(i){return i.g?i.g.readyState:0}function Tl(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case V:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function bl(i){let e="";return kr(i,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function xs(i,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=bl(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Kr(i,e,r))}function Gs(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function _s(i){this.Ga=0,this.j=[],this.l=new H,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gs("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gs("baseRetryDelayMs",5e3,i),this.hb=Gs("retryDelaySeedMs",1e4,i),this.eb=Gs("forwardChannelMaxRetries",2,i),this.xa=Gs("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new yi(i&&i.concurrentRequestLimit),this.Ja=new Bs,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function nl(i){if(ui(i),3==i.H){var e=i.W++,r=vo(i.I);if(Kr(r,"SID",i.K),Kr(r,"RID",e),Kr(r,"TYPE","terminate"),ys(i,r),(e=new Pr(i,i.l,e)).L=2,e.A=Ki(vo(r)),r=!1,Le.navigator&&Le.navigator.sendBeacon)try{r=Le.navigator.sendBeacon(e.A.toString(),"")}catch{}!r&&Le.Image&&((new Image).src=e.A,r=!0),r||(e.g=Xu(e.l,null),e.g.ha(e.A)),e.G=Date.now(),_i(e)}Zc(i)}function vr(i){i.g&&(lu(i),i.g.cancel(),i.g=null)}function ui(i){vr(i),i.u&&(Le.clearTimeout(i.u),i.u=null),ba(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Le.clearTimeout(i.m),i.m=null)}function ci(i){if(!ns(i.i)&&!i.m){i.m=!0;var e=i.Na;tt||Dn(),Tt||(tt(),Tt=!0),tn.add(e,i),i.C=0}}function Oi(i,e){var r;r=e?e.m:i.W++;const s=vo(i.I);Kr(s,"SID",i.K),Kr(s,"RID",r),Kr(s,"AID",i.V),ys(i,s),i.o&&i.s&&xs(s,i.o,i.s),r=new Pr(i,i.l,r,i.C+1),null===i.o&&(r.I=i.s),e&&(i.j=e.F.concat(i.j)),e=la(i,r,1e3),r.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),rs(i.i,r),Qe(r,s,e)}function ys(i,e){i.na&&kr(i.na,function(r,s){Kr(e,s,r)}),i.h&&Ss({},function(r,s){Kr(e,s,r)})}function la(i,e,r){r=Math.min(i.j.length,r);var s=i.h?ye(i.h.Va,i.h,i):null;e:{var l=i.j;let d=-1;for(;;){const g=["count="+r];-1==d?0<r?(d=l[0].g,g.push("ofs="+d)):d=0:g.push("ofs="+d);let b=!0;for(let S=0;S<r;S++){let U=l[S].g;const Q=l[S].map;if(U-=d,0>U)d=Math.max(0,l[S].g-100),b=!1;else try{wa(Q,g,"req"+U+"_")}catch{s&&s(Q)}}if(b){s=g.join("&");break e}}}return i=i.j.splice(0,r),e.F=i,s}function zs(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;tt||Dn(),Tt||(tt(),Tt=!0),tn.add(e,i),i.A=0}}function rl(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=it(ye(i.Ma,i),il(i,i.A)),i.A++,0))}function lu(i){null!=i.B&&(Le.clearTimeout(i.B),i.B=null)}function ua(i){i.g=new Pr(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=vo(i.wa);Kr(e,"RID","rpc"),Kr(e,"SID",i.K),Kr(e,"AID",i.V),Kr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Kr(e,"TO",i.qa),Kr(e,"TYPE","xmlhttp"),ys(i,e),i.o&&i.s&&xs(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var r=i.g;i=i.pa,r.L=1,r.A=Ki(vo(e)),r.u=null,r.S=!0,cr(r,i)}function ba(i){null!=i.v&&(Le.clearTimeout(i.v),i.v=null)}function is(i,e){var r=null;if(i.g==e){ba(i),lu(i),i.g=null;var s=2}else{if(!Ms(i.i,e))return;r=e.F,Lo(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){r=e.u?e.u.length:0,e=Date.now()-e.G;var l=i.C;Xt(s=Gr(),new be(s,r)),ci(i)}else zs(i);else if(3==(l=e.s)||0==l&&0<e.ca||!(1==s&&function no(i,e){return!(sa(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=it(ye(i.Na,i,e),il(i,i.C)),i.C++,0)))}(i,e)||2==s&&rl(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),l){case 1:$o(i,5);break;case 4:$o(i,10);break;case 3:$o(i,6);break;default:$o(i,2)}}function il(i,e){let r=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(r*=2),r*e}function $o(i,e){if(i.l.info("Error code "+e),2==e){var r=null;i.h&&(r=null);var s=ye(i.pb,i);r||(r=new Ro("//www.google.com/images/cleardot.gif"),Le.location&&"http"==Le.location.protocol||ao(r,"https"),Ki(r)),function $s(i,e){const r=new H;if(Le.Image){const s=new Image;s.onload=Re(Ti,r,s,"TestLoadImage: loaded",!0,e),s.onerror=Re(Ti,r,s,"TestLoadImage: error",!1,e),s.onabort=Re(Ti,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=Re(Ti,r,s,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(r.toString(),s)}else Pe(2);i.H=0,i.h&&i.h.za(e),Zc(i),ui(i)}function Zc(i){if(i.H=0,i.ma=[],i.h){const e=Uo(i.i);(0!=e.length||0!=i.j.length)&&(_t(i.ma,e),_t(i.ma,i.j),i.i.i.length=0,xt(i.j),i.j.length=0),i.h.ya()}}function Sa(i,e,r){var s=r instanceof Ro?vo(r):new Ro(r);if(""!=s.g)e&&(s.g=e+"."+s.g),Li(s,s.m);else{var l=Le.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var d=new Ro(null);s&&ao(d,s),e&&(d.g=e),l&&Li(d,l),r&&(d.l=r),s=d}return e=i.Da,(r=i.F)&&e&&Kr(s,r,e),Kr(s,"VER",i.ra),ys(i,s),s}function Xu(i,e,r){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Z(i.Ha&&!i.va?new uo({ob:r}):i.va)).Oa(i.J),e}function Ra(){}function ol(){if(ht&&!(10<=Number(zn)))throw Error("Environmental error: no available transport.")}function Io(i,e){dn.call(this),this.g=new _s(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!nn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ns(this)}function jo(i){Ut.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Qu(){En.call(this),this.status=1}function Ns(i){this.g=i}function Ho(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ca(i,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(l=0;16>l;++l)s[l]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var d=i.g[3],g=(e=i.g[0])+(d^(r=i.g[1])&((l=i.g[2])^d))+s[0]+3614090360&4294967295;g=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=(r=(l=(d=(e=r+(g<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=e+(d^r&(l^d))+s[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=d+(l^e&(r^l))+s[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=l+(r^d&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=r+(e^l&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=e+(l^d&(r^l))+s[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=e+(l^d&(r^l))+s[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=d+(r^l&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=l+(e^r&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=r+(d^e&(l^d))+s[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=e+(r^l^d)+s[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=e+(r^l^d)+s[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=d+(e^r^l)+s[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=l+(d^e^r)+s[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=r+(l^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=e+(l^(r|~d))+s[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(r|~d))+s[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=e+(l^(r|~d))+s[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=l+(e^(d|~r))+s[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=r+(d^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((d=(e=r+((g=e+(l^(r|~d))+s[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=d+(r^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((l=d+((g=l+(e^(d|~r))+s[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(g<<21&4294967295|g>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+d&4294967295}function Fr(i,e){this.h=e;for(var r=[],s=!0,l=i.length-1;0<=l;l--){var d=0|i[l];s&&d==e||(r[l]=d,s=!1)}this.g=r}(z=Z.prototype).Oa=function(i){this.M=i},z.ha=function(i,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rr.g(),this.C=function zt(i){return i.h||(i.h=i.i())}(this.u?this.u:rr),this.g.onreadystatechange=ye(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(d){return void Jn(this,d)}if(i=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)r.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())r.set(d,s.get(d))}s=Array.from(r.keys()).find(d=>"content-type"==d.toLowerCase()),l=Le.FormData&&i instanceof Le.FormData,!(0<=bt(Ft,e))||s||l||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of r)this.g.setRequestHeader(d,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ps(this),0<this.B&&((this.L=function Rn(i){return ht&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ye(this.ua,this)):this.A=Ir(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Jn(this,d)}},z.ua=function(){typeof je<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))},z.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Xt(this,"complete"),Xt(this,"abort"),co(this))},z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),co(this,!0)),Z.$.N.call(this)},z.La=function(){this.s||(this.G||this.v||this.l?Bo(this):this.kb())},z.kb=function(){Bo(this)},z.isActive=function(){return!!this.g},z.da=function(){try{return 2<yo(this)?this.g.status:-1}catch{return-1}},z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},z.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),R(e)}},z.Ia=function(){return this.m},z.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=_s.prototype).ra=8,z.H=1,z.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new Pr(this,this.l,i);let d=this.s;if(this.U&&(d?(d=Hr(d),Qr(d,this.U)):d=this.U),null!==this.o||this.O||(l.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=la(this,l,e),Kr(r=vo(this.I),"RID",i),Kr(r,"CVER",22),this.F&&Kr(r,"X-HTTP-Session-Id",this.F),ys(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(bl(d)))+"&"+e:this.o&&xs(r,this.o,d)),rs(this.i,l),this.bb&&Kr(r,"TYPE","init"),this.P?(Kr(r,"$req",e),Kr(r,"SID","null"),l.aa=!0,Qe(l,r,null)):Qe(l,r,e),this.H=2}}else 3==this.H&&(i?Oi(this,i):0==this.j.length||ns(this.i)||Oi(this))},z.Ma=function(){if(this.u=null,ua(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=it(ye(this.jb,this),i)}},z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pe(10),vr(this),ua(this))},z.ib=function(){null!=this.v&&(this.v=null,vr(this),rl(this),Pe(19))},z.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Pe(2)):(this.l.info("Failed to ping google.com"),Pe(1))},z.isActive=function(){return!!this.h&&this.h.isActive(this)},(z=Ra.prototype).Ba=function(){},z.Aa=function(){},z.za=function(){},z.ya=function(){},z.isActive=function(){return!0},z.Va=function(){},ol.prototype.g=function(i,e){return new Io(i,e)},et(Io,dn),Io.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,r=this.h||void 0;Pe(0),i.Y=e,i.na=r||{},i.G=i.aa,i.I=Sa(i,null,i.Y),ci(i)},Io.prototype.close=function(){nl(this.g)},Io.prototype.u=function(i){var e=this.g;if("string"==typeof i){var r={};r.__data__=i,i=r}else this.v&&((r={}).__data__=Br(i),i=r);e.j.push(new Mo(e.fb++,i)),3==e.H&&ci(e)},Io.prototype.N=function(){this.g.h=null,delete this.j,nl(this.g),delete this.g,Io.$.N.call(this)},et(jo,Ut),et(Qu,En),et(Ns,Ra),Ns.prototype.Ba=function(){Xt(this.g,"a")},Ns.prototype.Aa=function(i){Xt(this.g,new jo(i))},Ns.prototype.za=function(i){Xt(this.g,new Qu)},Ns.prototype.ya=function(){Xt(this.g,"b")},et(Ho,function Ma(){this.blockSize=-1}),Ho.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ho.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var r=e-this.blockSize,s=this.m,l=this.h,d=0;d<e;){if(0==l)for(;d<=r;)ca(this,i,d),d+=this.blockSize;if("string"==typeof i){for(;d<e;)if(s[l++]=i.charCodeAt(d++),l==this.blockSize){ca(this,s),l=0;break}}else for(;d<e;)if(s[l++]=i[d++],l==this.blockSize){ca(this,s),l=0;break}}this.h=l,this.i+=e},Ho.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var r=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&r,r/=256;for(this.j(i),i=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)i[r++]=this.g[e]>>>s&255;return i};var Eo={};function Ws(i){return-128<=i&&128>i?function gt(i,e){var r=Eo;return Object.prototype.hasOwnProperty.call(r,i)?r[i]:r[i]=e(i)}(i,function(e){return new Fr([0|e],0>e?-1:0)}):new Fr([0|i],0>i?-1:0)}function Co(i){if(isNaN(i)||!isFinite(i))return da;if(0>i)return ji(Co(-i));for(var e=[],r=1,s=0;i>=r;s++)e[s]=i/r|0,r*=Pa;return new Fr(e,0)}var Pa=4294967296,da=Ws(0),ho=Ws(1),ha=Ws(16777216);function Po(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Go(i){return-1==i.h}function ji(i){for(var e=i.g.length,r=[],s=0;s<e;s++)r[s]=~i.g[s];return new Fr(r,~i.h).add(ho)}function zo(i,e){return i.add(ji(e))}function Os(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Ks(i,e){this.g=i,this.h=e}function C(i,e){if(Po(e))throw Error("division by zero");if(Po(i))return new Ks(da,da);if(Go(i))return e=C(ji(i),e),new Ks(ji(e.g),ji(e.h));if(Go(e))return e=C(i,ji(e)),new Ks(ji(e.g),e.h);if(30<i.g.length){if(Go(i)||Go(e))throw Error("slowDivide_ only works with positive integers.");for(var r=ho,s=e;0>=s.X(i);)r=k(r),s=k(s);var l=_e(r,1),d=_e(s,1);for(s=_e(s,2),r=_e(r,2);!Po(s);){var g=d.add(s);0>=g.X(i)&&(l=l.add(r),d=g),s=_e(s,1),r=_e(r,1)}return e=zo(i,l.R(e)),new Ks(l,e)}for(l=da;0<=i.X(e);){for(r=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),g=(d=Co(r)).R(e);Go(g)||0<g.X(i);)g=(d=Co(r-=s)).R(e);Po(d)&&(d=ho),l=l.add(d),i=zo(i,g)}return new Ks(l,i)}function k(i){for(var e=i.g.length+1,r=[],s=0;s<e;s++)r[s]=i.D(s)<<1|i.D(s-1)>>>31;return new Fr(r,i.h)}function _e(i,e){var r=e>>5;e%=32;for(var s=i.g.length-r,l=[],d=0;d<s;d++)l[d]=0<e?i.D(d+r)>>>e|i.D(d+r+1)<<32-e:i.D(d+r);return new Fr(l,i.h)}(z=Fr.prototype).ea=function(){if(Go(this))return-ji(this).ea();for(var i=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);i+=(0<=s?s:Pa+s)*e,e*=Pa}return i},z.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Po(this))return"0";if(Go(this))return"-"+ji(this).toString(i);for(var e=Co(Math.pow(i,6)),r=this,s="";;){var l=C(r,e).g,d=((0<(r=zo(r,l.R(e))).g.length?r.g[0]:r.h)>>>0).toString(i);if(Po(r=l))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},z.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},z.X=function(i){return Go(i=zo(this,i))?-1:Po(i)?0:1},z.abs=function(){return Go(this)?ji(this):this},z.add=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0,l=0;l<=e;l++){var d=s+(65535&this.D(l))+(65535&i.D(l)),g=(d>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=g>>>16,r[l]=(g&=65535)<<16|(d&=65535)}return new Fr(r,-2147483648&r[r.length-1]?-1:0)},z.R=function(i){if(Po(this)||Po(i))return da;if(Go(this))return Go(i)?ji(this).R(ji(i)):ji(ji(this).R(i));if(Go(i))return ji(this.R(ji(i)));if(0>this.X(ha)&&0>i.X(ha))return Co(this.ea()*i.ea());for(var e=this.g.length+i.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var d=this.D(s)>>>16,g=65535&this.D(s),b=i.D(l)>>>16,S=65535&i.D(l);r[2*s+2*l]+=g*S,Os(r,2*s+2*l),r[2*s+2*l+1]+=d*S,Os(r,2*s+2*l+1),r[2*s+2*l+1]+=g*b,Os(r,2*s+2*l+1),r[2*s+2*l+2]+=d*b,Os(r,2*s+2*l+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new Fr(r,0)},z.gb=function(i){return C(this,i).h},z.and=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&i.D(s);return new Fr(r,this.h&i.h)},z.or=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|i.D(s);return new Fr(r,this.h|i.h)},z.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^i.D(s);return new Fr(r,this.h^i.h)},ol.prototype.createWebChannel=ol.prototype.g,Io.prototype.send=Io.prototype.u,Io.prototype.open=Io.prototype.m,Io.prototype.close=Io.prototype.close,ft.NO_ERROR=0,ft.TIMEOUT=8,ft.HTTP_ERROR=6,kt.COMPLETE="complete",Gt.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",dn.prototype.listen=dn.prototype.O,Z.prototype.listenOnce=Z.prototype.P,Z.prototype.getLastError=Z.prototype.Sa,Z.prototype.getLastErrorCode=Z.prototype.Ia,Z.prototype.getStatus=Z.prototype.da,Z.prototype.getResponseJson=Z.prototype.Wa,Z.prototype.getResponseText=Z.prototype.ja,Z.prototype.send=Z.prototype.ha,Z.prototype.setWithCredentials=Z.prototype.Oa,Ho.prototype.digest=Ho.prototype.l,Ho.prototype.reset=Ho.prototype.reset,Ho.prototype.update=Ho.prototype.j,Fr.prototype.add=Fr.prototype.add,Fr.prototype.multiply=Fr.prototype.R,Fr.prototype.modulo=Fr.prototype.gb,Fr.prototype.compare=Fr.prototype.X,Fr.prototype.toNumber=Fr.prototype.ea,Fr.prototype.toString=Fr.prototype.toString,Fr.prototype.getBits=Fr.prototype.D,Fr.fromNumber=Co,Fr.fromString=function Sl(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return ji(Sl(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Co(Math.pow(e,8)),s=da,l=0;l<i.length;l+=8){var d=Math.min(8,i.length-l),g=parseInt(i.substring(l,l+d),e);8>d?(d=Co(Math.pow(e,d)),s=s.R(d).add(Co(g))):s=(s=s.R(r)).add(Co(g))}return s};var x=De.createWebChannelTransport=function(){return new ol},ne=De.getStatEventTarget=function(){return Gr()},Se=De.ErrorCode=ft,At=De.EventType=kt,Kt=De.Event=yn,_r=De.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mr=(De.FetchXmlHttpFactory=uo,De.WebChannel=Gt),fr=De.XhrIo=Z,qr=De.Md5=Ho,xr=De.Integer=Fr;const wi="@firebase/firestore";class dr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");let Bt="10.11.0";const Mn=new Xe.Vy("@firebase/firestore");function Vr(){return Mn.logLevel}function St(i,...e){if(Mn.logLevel<=Xe.$b.DEBUG){const r=e.map(ni);Mn.debug(`Firestore (${Bt}): ${i}`,...r)}}function Tr(i,...e){if(Mn.logLevel<=Xe.$b.ERROR){const r=e.map(ni);Mn.error(`Firestore (${Bt}): ${i}`,...r)}}function Ei(i,...e){if(Mn.logLevel<=Xe.$b.WARN){const r=e.map(ni);Mn.warn(`Firestore (${Bt}): ${i}`,...r)}}function ni(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function hn(i="Unexpected state"){const e=`FIRESTORE (${Bt}) INTERNAL ASSERTION FAILED: `+i;throw Tr(e),new Error(e)}function bn(i,e){i||hn()}function un(i,e){return i}const Dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends J.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class qs{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(dr.UNAUTHENTICATED))}shutdown(){}}class Xs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class uu{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let l=this.i;const d=U=>this.i!==l?(l=this.i,r(U)):Promise.resolve();let g=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new ar,e.enqueueRetryable(()=>d(this.currentUser))};const b=()=>{const U=g;e.enqueueRetryable((0,ae.A)(function*(){yield U.promise,yield d(s.currentUser)}))},S=U=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(U=>S(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?S(U):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new ar)}},0),b()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(bn("string"==typeof s.accessToken),new qs(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bn(null===e||"string"==typeof e),new dr(e)}}class Yu{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fa{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new Yu(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Is{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class al{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=d=>{null!=d.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.R;return this.R=d.token,St("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?l(d):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(bn("string"==typeof r.token),this.R=r.token,new Is(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jc(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}class xa{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Jc(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[d]%62))}return s}}function jn(i,e){return i<e?-1:i>e?1:0}function pa(i,e,r){return i.length===e.length&&i.every((s,l)=>r(s,e[l]))}function fi(i){return i+"\0"}class Cr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Vt(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Vt(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Vt(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vt(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cr.fromMillis(Date.now())}static fromDate(e){return Cr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Cr(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jn(this.nanoseconds,e.nanoseconds):jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fn(e)}static min(){return new Fn(new Cr(0,0))}static max(){return new Fn(new Cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hi{constructor(e,r,s){void 0===r?r=0:r>e.length&&hn(),void 0===s?s=e.length-r:s>e.length-r&&hn(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===Hi.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let l=0;l<s;l++){const d=e.get(l),g=r.get(l);if(d<g)return-1;if(d>g)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class tr extends Hi{construct(e,r,s){return new tr(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new Vt(Dt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new tr(r)}static emptyPath(){return new tr([])}}const cu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xr extends Hi{construct(e,r,s){return new Xr(e,r,s)}static isValidIdentifier(e){return cu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xr(["__name__"])}static fromServerFormat(e){const r=[];let s="",l=0;const d=()=>{if(0===s.length)throw new Vt(Dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;l<e.length;){const b=e[l];if("\\"===b){if(l+1===e.length)throw new Vt(Dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const S=e[l+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new Vt(Dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=S,l+=2}else"`"===b?(g=!g,l++):"."!==b||g?(s+=b,l++):(d(),l++)}if(d(),g)throw new Vt(Dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xr(r)}static emptyPath(){return new Xr([])}}class fn{constructor(e){this.path=e}static fromPath(e){return new fn(tr.fromString(e))}static fromName(e){return new fn(tr.fromString(e).popFirst(5))}static empty(){return new fn(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return tr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fn(new tr(e.slice()))}}class fo{constructor(e,r,s,l){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=l}}function ga(i){return i.fields.find(e=>2===e.kind)}function ma(i){return i.fields.filter(e=>2!==e.kind)}fo.UNKNOWN_ID=-1;class os{constructor(e,r){this.fieldPath=e,this.kind=r}}class va{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new va(0,Es.min())}}function du(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=Fn.fromTimestamp(1e9===s?new Cr(r+1,0):new Cr(r,s));return new Es(l,fn.empty(),e)}function ed(i){return new Es(i.readTime,i.key,-1)}class Es{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Es(Fn.min(),fn.empty(),-1)}static max(){return new Es(Fn.max(),fn.empty(),-1)}}function Ju(i,e){let r=i.readTime.compareTo(e.readTime);return 0!==r?r:(r=fn.comparator(i.documentKey,e.documentKey),0!==r?r:jn(i.largestBatchId,e.largestBatchId))}const ch="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function y(i){return w.apply(this,arguments)}function w(){return w=(0,ae.A)(function*(i){if(i.code!==Dt.FAILED_PRECONDITION||i.message!==ch)throw i;St("LocalStore","Unexpectedly lost primary lease")}),w.apply(this,arguments)}class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new D((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof D?r:D.resolve(r)}catch(r){return D.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):D.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):D.reject(r)}static resolve(e){return new D((r,s)=>{r(e)})}static reject(e){return new D((r,s)=>{s(e)})}static waitFor(e){return new D((r,s)=>{let l=0,d=0,g=!1;e.forEach(b=>{++l,b.next(()=>{++d,g&&d===l&&r()},S=>s(S))}),g=!0,d===l&&r()})}static or(e){let r=D.resolve(!1);for(const s of e)r=r.next(l=>l?D.resolve(l):s());return r}static forEach(e,r){const s=[];return e.forEach((l,d)=>{s.push(r.call(this,l,d))}),this.waitFor(s)}static mapArray(e,r){return new D((s,l)=>{const d=e.length,g=new Array(d);let b=0;for(let S=0;S<d;S++){const U=S;r(e[U]).next(Q=>{g[U]=Q,++b,b===d&&s(g)},Q=>l(Q))}})}static doWhile(e,r){return new D((s,l)=>{const d=()=>{!0===e()?r().next(()=>{d()},l):s()};d()})}}class T{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new ar,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new de(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=pr(s.target.error);this.V.reject(new de(e,l))}}static open(e,r,s,l){try{return new T(r,e.transaction(l,s))}catch(d){throw new de(r,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(St("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Ht(r)}}class M{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===M.S((0,J.ZQ)())&&Tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return St("SimpleDb","Removing database:",e),yt(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,J.zW)())return!1;if(M.C())return!0;const e=(0,J.ZQ)(),r=M.S(e),s=0<r&&r<10,l=M.v(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var r=this;return(0,ae.A)(function*(){return r.db||(St("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=g=>{s(g.target.result)},d.onblocked=()=>{l(new de(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const b=g.target.error;l("VersionError"===b.name?new Vt(Dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new Vt(Dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new de(e,b))},d.onupgradeneeded=g=>{St("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.p.N(g.target.result,d.transaction,g.oldVersion,r.version).next(()=>{St("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.L&&(r.db.onversionchange=s=>r.L(s)),r.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,l){var d=this;return(0,ae.A)(function*(){const g="readonly"===r;let b=0;for(;;){++b;try{d.db=yield d.O(e);const S=T.open(d.db,e,g?"readonly":"readwrite",s),U=l(S).next(Q=>(S.g(),Q)).catch(Q=>(S.abort(Q),D.reject(Q))).toPromise();return U.catch(()=>{}),yield S.m,U}catch(S){const U=S,Q="FirebaseError"!==U.name&&b<3;if(St("SimpleDb","Transaction failed with error:",U.message,"Retrying:",Q),d.close(),!Q)return Promise.reject(U)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Y{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return yt(this.k.delete())}}class de extends Vt{constructor(e,r){super(Dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function at(i){return"IndexedDbTransactionError"===i.name}class Ht{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(St("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),yt(s)}add(e){return St("SimpleDb","ADD",this.store.name,e,e),yt(this.store.add(e))}get(e){return yt(this.store.get(e)).next(r=>(void 0===r&&(r=null),St("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return St("SimpleDb","DELETE",this.store.name,e),yt(this.store.delete(e))}count(){return St("SimpleDb","COUNT",this.store.name),yt(this.store.count())}W(e,r){const s=this.options(e,r),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const d=l.getAll(s.range);return new D((g,b)=>{d.onerror=S=>{b(S.target.error)},d.onsuccess=S=>{g(S.target.result)}})}{const d=this.cursor(s),g=[];return this.G(d,(b,S)=>{g.push(S)}).next(()=>g)}}j(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new D((l,d)=>{s.onerror=g=>{d(g.target.error)},s.onsuccess=g=>{l(g.target.result)}})}H(e,r){St("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.J=!1;const l=this.cursor(s);return this.G(l,(d,g,b)=>b.delete())}Y(e,r){let s;r?s=e:(s={},r=e);const l=this.cursor(s);return this.G(l,r)}Z(e){const r=this.cursor({});return new D((s,l)=>{r.onerror=d=>{const g=pr(d.target.error);l(g)},r.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(b=>{b?g.continue():s()}):s()}})}G(e,r){const s=[];return new D((l,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const b=g.target.result;if(!b)return void l();const S=new Y(b),U=r(b.primaryKey,b.value,S);if(U instanceof D){const Q=U.catch(ve=>(S.done(),D.reject(ve)));s.push(Q)}S.isDone?l():null===S.$?b.continue():b.continue(S.$)}}).next(()=>D.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function yt(i){return new D((e,r)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=pr(s.target.error);r(l)}})}let Cn=!1;function pr(i){const e=M.S((0,J.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new Vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cn||(Cn=!0,setTimeout(()=>{throw s},0)),s}}return i}class pi{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;St("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ae.A)(function*(){r.task=null;try{St("IndexBackfiller",`Documents written: ${yield r.X.te()}`)}catch(s){at(s)?St("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield y(s)}yield r.ee(6e4)}))}}class zr{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,ae.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.ne(s,e))})()}ne(e,r){const s=new Set;let l=r,d=!0;return D.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return St("IndexBackfiller",`Processing collection: ${g}`),this.re(e,g,l).next(b=>{l-=b,s.add(g)});d=!1})).next(()=>r-l)}re(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,s).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ie(l,d)).next(b=>(St("IndexBackfiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,r,b))).next(()=>g.size)}))}ie(e,r){let s=e;return r.changes.forEach((l,d)=>{const g=ed(d);Ju(g,s)>0&&(s=g)}),new Es(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Jr=(()=>{class i{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return i._e=-1,i})();function Wo(i){return null==i}function ks(i){return 0===i&&1/i==-1/0}function Na(i){return"number"==typeof i&&Number.isInteger(i)&&!ks(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Gi(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=ec(e)),e=ll(i.get(r),e);return ec(e)}function ll(i,e){let r=e;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function ec(i){return i+"\x01\x01"}function po(i){const e=i.length;if(bn(e>=2),2===e)return bn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),tr.emptyPath();const r=e-2,s=[];let l="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>r)&&hn(),i.charAt(g+1)){case"\x01":const b=i.substring(d,g);let S;0===l.length?S=b:(l+=b,S=l,l=""),s.push(S);break;case"\x10":l+=i.substring(d,g),l+="\0";break;case"\x11":l+=i.substring(d,g+1);break;default:hn()}d=g+2}return new tr(s)}const td=["userId","batchId"];function hu(i,e){return[i,Gi(e)]}function Qs(i,e,r){return[i,Gi(e),r]}const nd={},Ff=["prefixPath","collectionGroup","readTime","documentId"],rd=["prefixPath","collectionGroup","documentId"],id=["collectionGroup","readTime","prefixPath","documentId"],Vf=["canonicalId","targetId"],di=["targetId","path"],tc=["path","targetId"],Oa=["collectionId","parent"],Xi=["indexId","uid"],dh=["uid","sequenceNumber"],nc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fu=["indexId","uid","orderedDocumentKey"],Cs=["userId","collectionPath","documentId"],hh=["userId","collectionPath","largestBatchId"],od=["userId","collectionGroup","largestBatchId"],Lf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_a=[...Lf,"documentOverlays"],rc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Uf=rc,ic=[...Uf,"indexConfiguration","indexState","indexEntries"],fh=ic;class Ml extends kf{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function Ri(i,e){const r=un(i);return M.M(r.ae,e)}function oc(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function ss(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function ul(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Tn{constructor(e,r){this.comparator=e,this.root=r||go.EMPTY}insert(e,r){return new Tn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,go.BLACK,null,null))}remove(e){return new Tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,go.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pl(this.root,e,this.comparator,!0)}}class Pl{constructor(e,r,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?s(e.key,r):1,r&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class go{constructor(e,r,s,l,d){this.key=e,this.value=r,this.color=null!=s?s:go.RED,this.left=null!=l?l:go.EMPTY,this.right=null!=d?d:go.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,l,d){return new go(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,r,s),null):0===d?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return go.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return go.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,go.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,go.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hn();const e=this.left.check();if(e!==this.right.check())throw hn();return e+(this.isRed()?0:1)}}go.EMPTY=null,go.RED=!0,go.BLACK=!1,go.EMPTY=new class{constructor(){this.size=0}get key(){throw hn()}get value(){throw hn()}get color(){throw hn()}get left(){throw hn()}get right(){throw hn()}copy(e,r,s,l,d){return this}insert(e,r,s){return new go(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ri{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Bf(this.data.getIterator())}getIteratorFrom(e){return new Bf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof ri)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ri(this.comparator);return r.data=e,r}}class Bf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cl(i){return i.hasNext()?i.getNext():void 0}class xo{constructor(e){this.fields=e,e.sort(Xr.comparator)}static empty(){return new xo([])}unionWith(e){let r=new ri(Xr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new xo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class dl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class io{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new dl("Invalid base64 string: "+d):d}}(e);return new io(r)}static fromUint8Array(e){const r=function(l){let d="";for(let g=0;g<l.length;++g)d+=String.fromCharCode(l[g]);return d}(e);return new io(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}io.EMPTY_BYTE_STRING=new io("");const ph=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(i){if(bn(!!i),"string"==typeof i){let e=0;const r=ph.exec(i);if(bn(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:zi(i.seconds),nanos:zi(i.nanos)}}function zi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function wt(i){return"string"==typeof i?io.fromBase64String(i):io.fromUint8Array(i)}function Nr(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function sc(i){const e=i.mapValue.fields.__previous_value__;return Nr(e)?sc(e):e}function hl(i){const e=ka(i.mapValue.fields.__local_write_time__.timestampValue);return new Cr(e.seconds,e.nanos)}class ai{constructor(e,r,s,l,d,g,b,S,U){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=b,this.longPollingOptions=S,this.useFetchStreams=U}}class Ys{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ys("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ys&&e.projectId===this.projectId&&e.database===this.database}}const Ko={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qo={nullValue:"NULL_VALUE"};function Zs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Nr(i)?4:uc(i)?9007199254740991:10:hn()}function as(i,e){if(i===e)return!0;const r=Zs(i);if(r!==Zs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hl(i).isEqual(hl(e));case 3:return function(l,d){if("string"==typeof l.timestampValue&&"string"==typeof d.timestampValue&&l.timestampValue.length===d.timestampValue.length)return l.timestampValue===d.timestampValue;const g=ka(l.timestampValue),b=ka(d.timestampValue);return g.seconds===b.seconds&&g.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,wt(i.bytesValue).isEqual(wt(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,d){return zi(l.geoPointValue.latitude)===zi(d.geoPointValue.latitude)&&zi(l.geoPointValue.longitude)===zi(d.geoPointValue.longitude)}(i,e);case 2:return function(l,d){if("integerValue"in l&&"integerValue"in d)return zi(l.integerValue)===zi(d.integerValue);if("doubleValue"in l&&"doubleValue"in d){const g=zi(l.doubleValue),b=zi(d.doubleValue);return g===b?ks(g)===ks(b):isNaN(g)&&isNaN(b)}return!1}(i,e);case 9:return pa(i.arrayValue.values||[],e.arrayValue.values||[],as);case 10:return function(l,d){const g=l.mapValue.fields||{},b=d.mapValue.fields||{};if(oc(g)!==oc(b))return!1;for(const S in g)if(g.hasOwnProperty(S)&&(void 0===b[S]||!as(g[S],b[S])))return!1;return!0}(i,e);default:return hn()}var d}function ac(i,e){return void 0!==(i.values||[]).find(r=>as(r,e))}function fl(i,e){if(i===e)return 0;const r=Zs(i),s=Zs(e);if(r!==s)return jn(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return jn(i.booleanValue,e.booleanValue);case 2:return function(d,g){const b=zi(d.integerValue||d.doubleValue),S=zi(g.integerValue||g.doubleValue);return b<S?-1:b>S?1:b===S?0:isNaN(b)?isNaN(S)?0:-1:1}(i,e);case 3:return sd(i.timestampValue,e.timestampValue);case 4:return sd(hl(i),hl(e));case 5:return jn(i.stringValue,e.stringValue);case 6:return function(d,g){const b=wt(d),S=wt(g);return b.compareTo(S)}(i.bytesValue,e.bytesValue);case 7:return function(d,g){const b=d.split("/"),S=g.split("/");for(let U=0;U<b.length&&U<S.length;U++){const Q=jn(b[U],S[U]);if(0!==Q)return Q}return jn(b.length,S.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,g){const b=jn(zi(d.latitude),zi(g.latitude));return 0!==b?b:jn(zi(d.longitude),zi(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,g){const b=d.values||[],S=g.values||[];for(let U=0;U<b.length&&U<S.length;++U){const Q=fl(b[U],S[U]);if(Q)return Q}return jn(b.length,S.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,g){if(d===Ko.mapValue&&g===Ko.mapValue)return 0;if(d===Ko.mapValue)return 1;if(g===Ko.mapValue)return-1;const b=d.fields||{},S=Object.keys(b),U=g.fields||{},Q=Object.keys(U);S.sort(),Q.sort();for(let ve=0;ve<S.length&&ve<Q.length;++ve){const Ke=jn(S[ve],Q[ve]);if(0!==Ke)return Ke;const Et=fl(b[S[ve]],U[Q[ve]]);if(0!==Et)return Et}return jn(S.length,Q.length)}(i.mapValue,e.mapValue);default:throw hn()}}function sd(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return jn(i,e);const r=ka(i),s=ka(e),l=jn(r.seconds,s.seconds);return 0!==l?l:jn(r.nanos,s.nanos)}function Qi(i){return Js(i)}function Js(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=ka(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?wt(i.bytesValue).toBase64():"referenceValue"in i?fn.fromName(i.referenceValue).toString():"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",l=!0;for(const d of r.values||[])l?l=!1:s+=",",s+=Js(d);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const g of s)d?d=!1:l+=",",l+=`${g}:${Js(r.fields[g])}`;return l+"}"}(i.mapValue):hn()}function oo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ea(i){return!!i&&"integerValue"in i}function lc(i){return!!i&&"arrayValue"in i}function gh(i){return!!i&&"nullValue"in i}function ad(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ld(i){return!!i&&"mapValue"in i}function xl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ss(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=xl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=xl(i.arrayValue.values[r]);return e}return Object.assign({},i)}function uc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function mh(i){return"nullValue"in i?qo:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?oo(Ys.empty(),fn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:hn()}function Nl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?oo(Ys.empty(),fn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ko:hn()}function $f(i,e){const r=fl(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function vh(i,e){const r=fl(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class so{constructor(e){this.value=e}static empty(){return new so({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!ld(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(r)}setAll(e){let r=Xr.emptyPath(),s={},l=[];e.forEach((g,b)=>{if(!r.isImmediateParentOf(b)){const S=this.getFieldsMap(r);this.applyChanges(S,s,l),s={},l=[],r=b.popLast()}g?s[b.lastSegment()]=xl(g):l.push(b.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,l)}delete(e){const r=this.field(e.popLast());ld(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=r.mapValue.fields[e.get(s)];ld(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,s){ss(r,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new so(xl(this.value))}}function _h(i){const e=[];return ss(i.fields,(r,s)=>{const l=new Xr([r]);if(ld(s)){const d=_h(s.mapValue).fields;if(0===d.length)e.push(l);else for(const g of d)e.push(l.child(g))}else e.push(l)}),new xo(e)}class Ci{constructor(e,r,s,l,d,g,b){this.key=e,this.documentType=r,this.version=s,this.readTime=l,this.createTime=d,this.data=g,this.documentState=b}static newInvalidDocument(e){return new Ci(e,0,Fn.min(),Fn.min(),Fn.min(),so.empty(),0)}static newFoundDocument(e,r,s,l){return new Ci(e,1,r,Fn.min(),s,l,0)}static newNoDocument(e,r){return new Ci(e,2,r,Fn.min(),Fn.min(),so.empty(),0)}static newUnknownDocument(e,r){return new Ci(e,3,r,Fn.min(),Fn.min(),so.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Fn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=so.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=so.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fa{constructor(e,r){this.position=e,this.inclusive=r}}function yh(i,e,r){let s=0;for(let l=0;l<i.position.length;l++){const d=e[l],g=i.position[l];if(s=d.field.isKeyField()?fn.comparator(fn.fromName(g.referenceValue),r.key):fl(g,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function ud(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!as(i.position[r],e.position[r]))return!1;return!0}class Ol{constructor(e,r="asc"){this.field=e,this.dir=r}}function No(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class pl{}class Hn extends pl{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new vu(e,r,s):"array-contains"===r?new Ch(e,s):"in"===r?new gd(e,s):"not-in"===r?new Dh(e,s):"array-contains-any"===r?new yu(e,s):new Hn(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new fd(e,s):new _u(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(fl(r,this.value)):null!==r&&Zs(this.value)===Zs(r)&&this.matchesComparison(fl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends pl{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new li(e,r)}matches(e){return gu(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function gu(i){return"and"===i.op}function cd(i){return"or"===i.op}function Ih(i){return Eh(i)&&gu(i)}function Eh(i){for(const e of i.filters)if(e instanceof li)return!1;return!0}function dd(i){if(i instanceof Hn)return i.field.canonicalString()+i.op.toString()+Qi(i.value);if(Ih(i))return i.filters.map(e=>dd(e)).join(",");{const e=i.filters.map(r=>dd(r)).join(",");return`${i.op}(${e})`}}function mu(i,e){return i instanceof Hn?(s=i,(l=e)instanceof Hn&&s.op===l.op&&s.field.isEqual(l.field)&&as(s.value,l.value)):i instanceof li?function(s,l){return l instanceof li&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((d,g,b)=>d&&mu(g,l.filters[b]),!0)}(i,e):void hn();var s,l}function ta(i,e){const r=i.filters.concat(e);return li.create(r,i.op)}function hd(i){return i instanceof Hn?`${(r=i).field.canonicalString()} ${r.op} ${Qi(r.value)}`:i instanceof li?function(r){return r.op.toString()+" {"+r.getFilters().map(hd).join(" ,")+"}"}(i):"Filter";var r}class vu extends Hn{constructor(e,r,s){super(e,r,s),this.key=fn.fromName(s.referenceValue)}matches(e){const r=fn.comparator(e.key,this.key);return this.matchesComparison(r)}}class fd extends Hn{constructor(e,r){super(e,"in",r),this.keys=pd(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class _u extends Hn{constructor(e,r){super(e,"not-in",r),this.keys=pd(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function pd(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>fn.fromName(s.referenceValue))}class Ch extends Hn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return lc(r)&&ac(r.arrayValue,this.value)}}class gd extends Hn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&ac(this.value.arrayValue,r)}}class Dh extends Hn{constructor(e,r){super(e,"not-in",r)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!ac(this.value.arrayValue,r)}}class yu extends Hn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!lc(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>ac(this.value.arrayValue,s))}}class md{constructor(e,r=null,s=[],l=[],d=null,g=null,b=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=g,this.endAt=b,this.ce=null}}function cc(i,e=null,r=[],s=[],l=null,d=null,g=null){return new md(i,e,r,s,l,d,g)}function ya(i){const e=un(i);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>dd(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),Wo(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Qi(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Qi(s)).join(",")),e.ce=r}return e.ce}function gl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!No(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!mu(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ud(i.startAt,e.startAt)&&ud(i.endAt,e.endAt)}function dc(i){return fn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function hc(i,e){return i.filters.filter(r=>r instanceof Hn&&r.field.isEqual(e))}function Ng(i,e,r){let s=qo,l=!0;for(const d of hc(i,e)){let g=qo,b=!0;switch(d.op){case"<":case"<=":g=mh(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,b=!1;break;case"!=":case"not-in":g=qo}$f({value:s,inclusive:l},{value:g,inclusive:b})<0&&(s=g,l=b)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=r.position[d];$f({value:s,inclusive:l},{value:g,inclusive:r.inclusive})<0&&(s=g,l=r.inclusive);break}return{value:s,inclusive:l}}function Og(i,e,r){let s=Ko,l=!0;for(const d of hc(i,e)){let g=Ko,b=!0;switch(d.op){case">=":case">":g=Nl(d.value),b=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,b=!1;break;case"!=":case"not-in":g=Ko}vh({value:s,inclusive:l},{value:g,inclusive:b})>0&&(s=g,l=b)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=r.position[d];vh({value:s,inclusive:l},{value:g,inclusive:r.inclusive})>0&&(s=g,l=r.inclusive);break}return{value:s,inclusive:l}}class na{constructor(e,r=null,s=[],l=[],d=null,g="F",b=null,S=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=g,this.startAt=b,this.endAt=S,this.le=null,this.he=null,this.Pe=null}}function Iu(i,e,r,s,l,d,g,b){return new na(i,e,r,s,l,d,g,b)}function Eu(i){return new na(i)}function kl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function fc(i){return null!==i.collectionGroup}function ml(i){const e=un(i);if(null===e.le){e.le=[];const r=new Set;for(const d of e.explicitOrderBy)e.le.push(d),r.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(g){let b=new ri(Xr.comparator);return g.filters.forEach(S=>{S.getFlattenedFilters().forEach(U=>{U.isInequality()&&(b=b.add(U.field))})}),b})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.le.push(new Ol(d,s))}),r.has(Xr.keyField().canonicalString())||e.le.push(new Ol(Xr.keyField(),s))}return e.le}function ls(i){const e=un(i);return e.he||(e.he=function Va(i,e){if("F"===i.limitType)return cc(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new Ol(l.field,"desc"===l.dir?"asc":"desc"));const r=i.endAt?new Fa(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Fa(i.startAt.position,i.startAt.inclusive):null;return cc(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}(e,ml(i))),e.he}function vd(i,e){const r=i.filters.concat([e]);return new na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function _d(i,e,r){return new na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Oo(i,e){return gl(ls(i),ls(e))&&i.limitType===e.limitType}function jf(i){return`${ya(ls(i))}|lt:${i.limitType}`}function ra(i){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(l=>hd(l)).join(", ")}]`),Wo(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(l=>{return`${(g=l).field.canonicalString()} (${g.dir})`;var g}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(l=>Qi(l)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(l=>Qi(l)).join(",")),`Target(${s})`}(ls(i))}; limitType=${i.limitType})`}function Fl(i,e){return e.isFoundDocument()&&function(s,l){const d=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):fn.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(i,e)&&function(s,l){for(const d of ml(s))if(!d.field.isKeyField()&&null===l.data.field(d.field))return!1;return!0}(i,e)&&function(s,l){for(const d of s.filters)if(!d.matches(l))return!1;return!0}(i,e)&&(l=e,!((s=i).startAt&&!function(g,b,S){const U=yh(g,b,S);return g.inclusive?U<=0:U<0}(s.startAt,ml(s),l)||s.endAt&&!function(g,b,S){const U=yh(g,b,S);return g.inclusive?U>=0:U>0}(s.endAt,ml(s),l)));var s,l}function Ah(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Vl(i){return(e,r)=>{let s=!1;for(const l of ml(i)){const d=Th(l,e,r);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function Th(i,e,r){const s=i.field.isKeyField()?fn.comparator(e.key,r.key):function(d,g,b){const S=g.data.field(d),U=b.data.field(d);return null!==S&&null!==U?fl(S,U):hn()}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return hn()}}class La{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,r]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[r]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(r,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return ul(this.inner)}size(){return this.innerSize}}const yd=new Tn(fn.comparator);function Xo(){return yd}const wh=new Tn(fn.comparator);function Cu(...i){let e=wh;for(const r of i)e=e.insert(r.key,r);return e}function Hf(i){let e=wh;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function Ds(){return Ll()}function Ua(){return Ll()}function Ll(){return new La(i=>i.toString(),(i,e)=>i.isEqual(e))}const Gf=new Tn(fn.comparator),zf=new ri(fn.comparator);function gr(...i){let e=zf;for(const r of i)e=e.add(r);return e}const vl=new ri(jn);function Yi(){return vl}function Wf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ks(e)?"-0":e}}function Du(i){return{integerValue:""+i}}function Id(i,e){return Na(e)?Du(e):Wf(i,e)}class Ed{constructor(){this._=void 0}}function Kf(i,e,r){return i instanceof Ul?function(l,d){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return d&&Nr(d)&&(d=sc(d)),d&&(g.fields.__previous_value__=d),{mapValue:g}}(r,e):i instanceof Ba?gc(i,e):i instanceof Fs?Xf(i,e):function(l,d){const g=qf(l,d),b=Qf(g)+Qf(l.Ie);return ea(g)&&ea(l.Ie)?Du(b):Wf(l.serializer,b)}(i,e)}function pc(i,e,r){return i instanceof Ba?gc(i,e):i instanceof Fs?Xf(i,e):r}function qf(i,e){return i instanceof Bl?ea(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class Ul extends Ed{}class Ba extends Ed{constructor(e){super(),this.elements=e}}function gc(i,e){const r=bh(e);for(const s of i.elements)r.some(l=>as(l,s))||r.push(s);return{arrayValue:{values:r}}}class Fs extends Ed{constructor(e){super(),this.elements=e}}function Xf(i,e){let r=bh(e);for(const s of i.elements)r=r.filter(l=>!as(l,s));return{arrayValue:{values:r}}}class Bl extends Ed{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function Qf(i){return zi(i.integerValue||i.doubleValue)}function bh(i){return lc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class mc{constructor(e,r){this.field=e,this.transform=r}}class Zf{constructor(e,r){this.version=e,this.transformResults=r}}class Di{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Au{}function Sh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new $l(i.key,Di.none()):new $a(i.key,i.data,Di.none());{const r=i.data,s=so.empty();let l=new ri(Xr.comparator);for(let d of e.fields)if(!l.has(d)){let g=r.field(d);null===g&&d.length>1&&(d=d.popLast(),g=r.field(d)),null===g?s.delete(d):s.set(d,g),l=l.add(d)}return new Do(i.key,s,new xo(l.toArray()),Di.none())}}function Qo(i,e,r){i instanceof $a?function(l,d,g){const b=l.value.clone(),S=ja(l.fieldTransforms,d,g.transformResults);b.setAll(S),d.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(i,e,r):i instanceof Do?function(l,d,g){if(!vc(l.precondition,d))return void d.convertToUnknownDocument(g.version);const b=ja(l.fieldTransforms,d,g.transformResults),S=d.data;S.setAll(yc(l)),S.setAll(b),d.convertToFoundDocument(g.version,S).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Cd(i,e,r,s){return i instanceof $a?function(d,g,b,S){if(!vc(d.precondition,g))return b;const U=d.value.clone(),Q=Jf(d.fieldTransforms,S,g);return U.setAll(Q),g.convertToFoundDocument(g.version,U).setHasLocalMutations(),null}(i,e,r,s):i instanceof Do?function(d,g,b,S){if(!vc(d.precondition,g))return b;const U=Jf(d.fieldTransforms,S,g),Q=g.data;return Q.setAll(yc(d)),Q.setAll(U),g.convertToFoundDocument(g.version,Q).setHasLocalMutations(),null===b?null:b.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(ve=>ve.field))}(i,e,r,s):(b=r,vc(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):b);var g,b}function us(i,e){let r=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),d=qf(s.transform,l||null);null!=d&&(null===r&&(r=so.empty()),r.set(s.field,d))}return r||null}function _c(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&pa(s,l,(d,g)=>function Yf(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(s=i.transform)instanceof Ba&&l instanceof Ba||s instanceof Fs&&l instanceof Fs?pa(s.elements,l.elements,as):s instanceof Bl&&l instanceof Bl?as(s.Ie,l.Ie):s instanceof Ul&&l instanceof Ul);var s,l}(d,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,l}class $a extends Au{constructor(e,r,s,l=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Do extends Au{constructor(e,r,s,l,d=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function yc(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function ja(i,e,r){const s=new Map;bn(i.length===r.length);for(let l=0;l<r.length;l++){const d=i[l],g=d.transform,b=e.data.field(d.field);s.set(d.field,pc(g,b,r[l]))}return s}function Jf(i,e,r){const s=new Map;for(const l of i){const d=l.transform,g=r.data.field(l.field);s.set(l.field,Kf(d,g,e))}return s}class $l extends Au{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dd extends Au{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ha{constructor(e,r,s,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&Qo(d,e,s[l])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Cd(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Cd(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Ua();return this.mutations.forEach(l=>{const d=e.get(l.key),g=d.overlayedDocument;let b=this.applyToLocalView(g,d.mutatedFields);b=r.has(l.key)?null:b;const S=Sh(g,b);null!==S&&s.set(l.key,S),g.isValidDocument()||g.convertToNoDocument(Fn.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),gr())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(r,s)=>_c(r,s))&&pa(this.baseMutations,e.baseMutations,(r,s)=>_c(r,s))}}class Rh{constructor(e,r,s,l){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(e,r,s){bn(e.mutations.length===s.length);let l=function(){return Gf}();const d=e.mutations;for(let g=0;g<d.length;g++)l=l.insert(d[g].key,s[g].version);return new Rh(e,r,s,l)}}class ep{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ov{constructor(e,r){this.count=e,this.unchangedNames=r}}var Zi,lr;function _l(i){switch(i){default:return hn();case Dt.CANCELLED:case Dt.UNKNOWN:case Dt.DEADLINE_EXCEEDED:case Dt.RESOURCE_EXHAUSTED:case Dt.INTERNAL:case Dt.UNAVAILABLE:case Dt.UNAUTHENTICATED:return!1;case Dt.INVALID_ARGUMENT:case Dt.NOT_FOUND:case Dt.ALREADY_EXISTS:case Dt.PERMISSION_DENIED:case Dt.FAILED_PRECONDITION:case Dt.ABORTED:case Dt.OUT_OF_RANGE:case Dt.UNIMPLEMENTED:case Dt.DATA_LOSS:return!0}}function Ic(i){if(void 0===i)return Tr("GRPC error has no .code"),Dt.UNKNOWN;switch(i){case Zi.OK:return Dt.OK;case Zi.CANCELLED:return Dt.CANCELLED;case Zi.UNKNOWN:return Dt.UNKNOWN;case Zi.DEADLINE_EXCEEDED:return Dt.DEADLINE_EXCEEDED;case Zi.RESOURCE_EXHAUSTED:return Dt.RESOURCE_EXHAUSTED;case Zi.INTERNAL:return Dt.INTERNAL;case Zi.UNAVAILABLE:return Dt.UNAVAILABLE;case Zi.UNAUTHENTICATED:return Dt.UNAUTHENTICATED;case Zi.INVALID_ARGUMENT:return Dt.INVALID_ARGUMENT;case Zi.NOT_FOUND:return Dt.NOT_FOUND;case Zi.ALREADY_EXISTS:return Dt.ALREADY_EXISTS;case Zi.PERMISSION_DENIED:return Dt.PERMISSION_DENIED;case Zi.FAILED_PRECONDITION:return Dt.FAILED_PRECONDITION;case Zi.ABORTED:return Dt.ABORTED;case Zi.OUT_OF_RANGE:return Dt.OUT_OF_RANGE;case Zi.UNIMPLEMENTED:return Dt.UNIMPLEMENTED;case Zi.DATA_LOSS:return Dt.DATA_LOSS;default:return hn()}}(lr=Zi||(Zi={}))[lr.OK=0]="OK",lr[lr.CANCELLED=1]="CANCELLED",lr[lr.UNKNOWN=2]="UNKNOWN",lr[lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lr[lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lr[lr.NOT_FOUND=5]="NOT_FOUND",lr[lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",lr[lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",lr[lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",lr[lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lr[lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lr[lr.ABORTED=10]="ABORTED",lr[lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",lr[lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",lr[lr.INTERNAL=13]="INTERNAL",lr[lr.UNAVAILABLE=14]="UNAVAILABLE",lr[lr.DATA_LOSS=15]="DATA_LOSS";function Vs(){return new TextEncoder}const cs=new xr([4294967295,4294967295],0);function Mh(i){const e=Vs().encode(i),r=new qr;return r.update(e),new Uint8Array(r.digest())}function Ec(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new xr([r,s],0),new xr([l,d],0)]}class jl{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Hl(`Invalid padding: ${r}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Hl(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Hl(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=xr.fromNumber(this.Te)}de(e,r,s){let l=e.add(r.multiply(xr.fromNumber(s)));return 1===l.compare(cs)&&(l=new xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=Mh(e),[s,l]=Ec(r);for(let d=0;d<this.hashCount;d++){const g=this.de(s,l,d);if(!this.Ae(g))return!1}return!0}static create(e,r,s){const l=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),g=new jl(d,l,r);return s.forEach(b=>g.insert(b)),g}insert(e){if(0===this.Te)return;const r=Mh(e),[s,l]=Ec(r);for(let d=0;d<this.hashCount;d++){const g=this.de(s,l,d);this.Re(g)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tu{constructor(e,r,s,l,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const l=new Map;return l.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Tu(Fn.min(),l,new Tn(jn),Xo(),gr())}}class wu{constructor(e,r,s,l,d){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new wu(s,r,gr(),gr(),gr())}}class Gl{constructor(e,r,s,l){this.Ve=e,this.removedTargetIds=r,this.key=s,this.me=l}}class Cc{constructor(e,r){this.targetId=e,this.fe=r}}class v{constructor(e,r,s=io.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=l}}class f{constructor(){this.ge=0,this.pe=F(),this.ye=io.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=gr(),r=gr(),s=gr();return this.pe.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:hn()}}),new wu(this.ye,this.we,e,r,s)}Fe(){this.Se=!1,this.pe=F()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,bn(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class p{constructor(e){this.Be=e,this.ke=new Map,this.qe=Xo(),this.Qe=I(),this.Ke=new Tn(jn)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const s=this.ze(r);switch(e.state){case 0:this.je(r)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(r);break;case 3:this.je(r)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),s.Ce(e.resumeToken));break;default:hn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((s,l)=>{this.je(l)&&r(l)})}Je(e){const r=e.targetId,s=e.fe.count,l=this.Ye(r);if(l){const d=l.target;if(dc(d))if(0===s){const g=new fn(d.path);this.We(r,g,Ci.newNoDocument(g,Fn.min()))}else bn(1===s);else{const g=this.Ze(r);if(g!==s){const b=this.Xe(e),S=b?this.et(b,e,g):1;0!==S&&(this.He(r),this.Ke=this.Ke.insert(r,2===S?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:d=0}=r;let g,b;try{g=wt(s).toUint8Array()}catch(S){if(S instanceof dl)return Ei("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw S}try{b=new jl(g,l,d)}catch(S){return Ei(S instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",S),null}return 0===b.Te?null:b}et(e,r,s){return r.fe.count===s-this.rt(e,r.targetId)?0:2}rt(e,r){const s=this.Be.getRemoteKeysForTarget(r);let l=0;return s.forEach(d=>{const g=this.Be.nt(),b=`projects/${g.projectId}/databases/${g.database}/documents/${d.path.canonicalString()}`;e.mightContain(b)||(this.We(r,d,null),l++)}),l}it(e){const r=new Map;this.ke.forEach((d,g)=>{const b=this.Ye(g);if(b){if(d.current&&dc(b.target)){const S=new fn(b.target.path);null!==this.qe.get(S)||this.st(g,S)||this.We(g,S,Ci.newNoDocument(S,e))}d.De&&(r.set(g,d.ve()),d.Fe())}});let s=gr();this.Qe.forEach((d,g)=>{let b=!0;g.forEachWhile(S=>{const U=this.Ye(S);return!U||"TargetPurposeLimboResolution"===U.purpose||(b=!1,!1)}),b&&(s=s.add(d))}),this.qe.forEach((d,g)=>g.setReadTime(e));const l=new Tu(e,r,this.Ke,this.qe,s);return this.qe=Xo(),this.Qe=I(),this.Ke=new Tn(jn),l}Ue(e,r){if(!this.je(e))return;const s=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,s),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,r)?l.Me(r,1):l.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),s&&(this.qe=this.qe.insert(r,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new f,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new ri(jn),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||St("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Be._t(e)}He(e){this.ke.set(e,new f),this.Be.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Be.getRemoteKeysForTarget(e).has(r)}}function I(){return new Tn(fn.comparator)}function F(){return new Tn(fn.comparator)}const X={asc:"ASCENDING",desc:"DESCENDING"},Be={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nt={and:"AND",or:"OR"};class Nt{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function mn(i,e){return i.useProto3Json||Wo(e)?e:{value:e}}function An(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gn(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function gi(i,e){return An(i,e.toTimestamp())}function Zr(i){return bn(!!i),Fn.fromTimestamp(function(r){const s=ka(r);return new Cr(s.seconds,s.nanos)}(i))}function zl(i,e){return Td(i,e).canonicalString()}function Td(i,e){const r=(l=i,new tr(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?r:r.child(e)}function Dc(i){const e=tr.fromString(i);return bn(_I(e)),e}function bu(i,e){return zl(i.databaseId,e.path)}function Ls(i,e){const r=Dc(e);if(r.get(1)!==i.databaseId.projectId)throw new Vt(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Vt(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new fn(Rd(r))}function wd(i,e){return zl(i.databaseId,e)}function bd(i){const e=Dc(i);return 4===e.length?tr.emptyPath():Rd(e)}function Sd(i){return new tr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Rd(i){return bn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ph(i,e,r){return{name:bu(i,e),fields:r.value.mapValue.fields}}function tp(i,e,r){const s=Ls(i,e.name),l=Zr(e.updateTime),d=e.createTime?Zr(e.createTime):Fn.min(),g=new so({mapValue:{fields:e.fields}}),b=Ci.newFoundDocument(s,l,d,g);return r&&b.setHasCommittedMutations(),r?b.setHasCommittedMutations():b}function Pd(i,e){let r;if(e instanceof $a)r={update:Ph(i,e.key,e.value)};else if(e instanceof $l)r={delete:bu(i,e.key)};else if(e instanceof Do)r={update:Ph(i,e.key,e.data),updateMask:vI(e.fieldMask)};else{if(!(e instanceof Dd))return hn();r={verify:bu(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(d,g){const b=g.transform;if(b instanceof Ul)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Ba)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Fs)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Bl)return{fieldPath:g.field.canonicalString(),increment:b.Ie};throw hn()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:gi(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:hn()),r;var d}function xd(i,e){const r=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?Di.updateTime(Zr(d.updateTime)):void 0!==d.exists?Di.exists(d.exists):Di.none():Di.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(g,b){let S=null;"setToServerValue"in b?(bn("REQUEST_TIME"===b.setToServerValue),S=new Ul):"appendMissingElements"in b?S=new Ba(b.appendMissingElements.values||[]):"removeAllFromArray"in b?S=new Fs(b.removeAllFromArray.values||[]):"increment"in b?S=new Bl(g,b.increment):hn();const U=Xr.fromServerFormat(b.fieldPath);return new mc(U,S)}(i,l)):[];var d;if(e.update){const l=Ls(i,e.update.name),d=new so({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new xo((e.updateMask.fieldPaths||[]).map(Q=>Xr.fromServerFormat(Q)));return new Do(l,d,g,r,s)}return new $a(l,d,r,s)}if(e.delete){const l=Ls(i,e.delete);return new $l(l,r)}if(e.verify){const l=Ls(i,e.verify);return new Dd(l,r)}return hn()}function kg(i,e){return{documents:[wd(i,e.path)]}}function rp(i,e){const r={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=wd(i,l);const d=function(U){if(0!==U.length)return Lv(li.create(U,"and"))}(e.filters);d&&(r.structuredQuery.where=d);const g=function(U){if(0!==U.length)return U.map(Q=>{return{field:Ac((Ke=Q).field),direction:gI(Ke.dir)};var Ke})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const b=mn(i,e.limit);return null!==b&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt={before:(U=e.startAt).inclusive,values:U.position}),e.endAt&&(r.structuredQuery.endAt=function(U){return{before:!U.inclusive,values:U.position}}(e.endAt)),{ut:r,parent:l};var U}function Fg(i){let e=bd(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){bn(1===s);const Q=r.from[0];Q.allDescendants?l=Q.collectionId:e=e.child(Q.collectionId)}let d=[];r.where&&(d=function(ve){const Ke=Fv(ve);return Ke instanceof li&&Ih(Ke)?Ke.getFilters():[Ke]}(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(Ke=>{return new Ol(Tc((rn=Ke).field),function(cn){switch(cn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(rn.direction));var rn}));let b=null;r.limit&&(b=function(ve){let Ke;return Ke="object"==typeof ve?ve.value:ve,Wo(Ke)?null:Ke}(r.limit));let S=null;var ve;r.startAt&&(S=new Fa((ve=r.startAt).values||[],!!ve.before));let U=null;return r.endAt&&(U=function(ve){return new Fa(ve.values||[],!ve.before)}(r.endAt)),Iu(e,l,g,d,b,"F",S,U)}function Fv(i){return void 0!==i.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Tc(r.unaryFilter.field);return Hn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Tc(r.unaryFilter.field);return Hn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Tc(r.unaryFilter.field);return Hn.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Tc(r.unaryFilter.field);return Hn.create(g,"!=",{nullValue:"NULL_VALUE"});default:return hn()}}(i):void 0!==i.fieldFilter?Hn.create(Tc((r=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hn()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==i.compositeFilter?function(r){return li.create(r.compositeFilter.filters.map(s=>Fv(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return hn()}}(r.compositeFilter.op))}(i):hn();var r}function gI(i){return X[i]}function mI(i){return Be[i]}function Vv(i){return nt[i]}function Ac(i){return{fieldPath:i.canonicalString()}}function Tc(i){return Xr.fromServerFormat(i.fieldPath)}function Lv(i){return i instanceof Hn?function(r){if("=="===r.op){if(ad(r.value))return{unaryFilter:{field:Ac(r.field),op:"IS_NAN"}};if(gh(r.value))return{unaryFilter:{field:Ac(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(ad(r.value))return{unaryFilter:{field:Ac(r.field),op:"IS_NOT_NAN"}};if(gh(r.value))return{unaryFilter:{field:Ac(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ac(r.field),op:mI(r.op),value:r.value}}}(i):i instanceof li?function(r){const s=r.getFilters().map(l=>Lv(l));return 1===s.length?s[0]:{compositeFilter:{op:Vv(r.op),filters:s}}}(i):hn()}function vI(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function _I(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Wl{constructor(e,r,s,l,d=Fn.min(),g=Fn.min(),b=io.EMPTY_BYTE_STRING,S=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=b,this.expectedCount=S}withSequenceNumber(e){return new Wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Vg{constructor(e){this.ct=e}}function Uv(i,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Ga(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:bu(d=i.ct,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:An(d,g.version.toTimestamp()),createTime:An(d,g.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Su(e.version)};else{if(!e.isUnknownDocument())return hn();s.unknownDocument={path:r.path.toArray(),version:Su(e.version)}}var d,g;return s}function Ga(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Su(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wc(i){const e=new Cr(i.seconds,i.nanoseconds);return Fn.fromTimestamp(e)}function Ru(i,e){const r=(e.baseMutations||[]).map(d=>xd(i.ct,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>xd(i.ct,d)),l=Cr.fromMillis(e.localWriteTimeMs);return new Ha(e.batchId,l,r,s)}function bc(i){const e=wc(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?wc(i.lastLimboFreeSnapshotVersion):Fn.min();let s;return s=void 0!==i.query.documents?(bn(1===(d=i.query).documents.length),ls(Eu(bd(d.documents[0])))):function(d){return ls(Fg(d))}(i.query),new Wl(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,r,io.fromBase64String(i.resumeToken));var d}function yI(i,e){const r=Su(e.snapshotVersion),s=Su(e.lastLimboFreeSnapshotVersion);let l;l=dc(e.target)?kg(i.ct,e.target):rp(i.ct,e.target).ut;const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ya(e.target),readTime:r,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Bv(i){const e=Fg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?_d(e,e.limit,"L"):e}function Ug(i,e){return new ep(e.largestBatchId,xd(i.ct,e.overlayMutation))}function $v(i,e){const r=e.path.lastSegment();return[i,Gi(e.path.popLast()),r]}function jv(i,e,r,s){return{indexId:i,uid:e,sequenceNumber:r,readTime:Su(s.readTime),documentKey:Gi(s.documentKey.path),largestBatchId:s.largestBatchId}}class eC{getBundleMetadata(e,r){return II(e).get(r).next(s=>{if(s)return{id:(d=s).bundleId,createTime:wc(d.createTime),version:d.version};var d})}saveBundleMetadata(e,r){return II(e).put({bundleId:(l=r).id,createTime:Su(Zr(l.createTime)),version:l.version});var l}getNamedQuery(e,r){return xh(e).get(r).next(s=>{if(s)return{name:(d=s).name,query:Bv(d.bundledQuery),readTime:wc(d.readTime)};var d})}saveNamedQuery(e,r){return xh(e).put({name:(l=r).name,readTime:Su(Zr(l.readTime)),bundledQuery:l.bundledQuery});var l}}function II(i){return Ri(i,"bundles")}function xh(i){return Ri(i,"namedQueries")}class ip{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new ip(e,r.uid||"")}getOverlay(e,r){return Sc(e).get($v(this.userId,r)).next(s=>s?Ug(this.serializer,s):null)}getOverlays(e,r){const s=Ds();return D.forEach(r,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,r,s){const l=[];return s.forEach((d,g)=>{const b=new ep(r,g);l.push(this.ht(e,b))}),D.waitFor(l)}removeOverlaysForBatchId(e,r,s){const l=new Set;r.forEach(g=>l.add(Gi(g.getCollectionPath())));const d=[];return l.forEach(g=>{const b=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);d.push(Sc(e).H("collectionPathOverlayIndex",b))}),D.waitFor(d)}getOverlaysForCollection(e,r,s){const l=Ds(),d=Gi(r),g=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Sc(e).W("collectionPathOverlayIndex",g).next(b=>{for(const S of b){const U=Ug(this.serializer,S);l.set(U.getKey(),U)}return l})}getOverlaysForCollectionGroup(e,r,s,l){const d=Ds();let g;const b=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Sc(e).Y({index:"collectionGroupOverlayIndex",range:b},(S,U,Q)=>{const ve=Ug(this.serializer,U);d.size()<l||ve.largestBatchId===g?(d.set(ve.getKey(),ve),g=ve.largestBatchId):Q.done()}).next(()=>d)}ht(e,r){return Sc(e).put(function(l,d,g){const[b,S,U]=$v(d,g.mutation.key);return{userId:d,collectionPath:S,documentId:U,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:Pd(l.ct,g.mutation)}}(this.serializer,this.userId,r))}}function Sc(i){return Ri(i,"documentOverlays")}class Kl{constructor(){}Pt(e,r){this.It(e,r),r.Tt()}It(e,r){if("nullValue"in e)this.Et(r,5);else if("booleanValue"in e)this.Et(r,10),r.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(r,15),r.dt(zi(e.integerValue));else if("doubleValue"in e){const s=zi(e.doubleValue);isNaN(s)?this.Et(r,13):(this.Et(r,15),ks(s)?r.dt(0):r.dt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Et(r,20),"string"==typeof s&&(s=ka(s)),r.At(`${s.seconds||""}`),r.dt(s.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,r),this.Vt(r);else if("bytesValue"in e)this.Et(r,30),r.ft(wt(e.bytesValue)),this.Vt(r);else if("referenceValue"in e)this.gt(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(r,45),r.dt(s.latitude||0),r.dt(s.longitude||0)}else"mapValue"in e?uc(e)?this.Et(r,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,r),this.Vt(r)):"arrayValue"in e?(this.wt(e.arrayValue,r),this.Vt(r)):hn()}Rt(e,r){this.Et(r,25),this.St(e,r)}St(e,r){r.At(e)}yt(e,r){const s=e.fields||{};this.Et(r,55);for(const l of Object.keys(s))this.Rt(l,r),this.It(s[l],r)}wt(e,r){const s=e.values||[];this.Et(r,50);for(const l of s)this.It(l,r)}gt(e,r){this.Et(r,37),fn.fromName(e).path.forEach(s=>{this.Et(r,60),this.St(s,r)})}Et(e,r){e.dt(r)}Vt(e){e.dt(2)}}function Nd(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Nh(i){const e=64-function(s){let l=0;for(let d=0;d<8;++d){const g=Nd(255&s[d]);if(l+=g,8!==g)break}return l}(i);return Math.ceil(e/8)}Kl.bt=new Kl;class op{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ct(s.value),s=r.next();this.vt()}Ft(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Mt(s.value),s=r.next();this.xt()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=r.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=r.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Lt(e){const r=this.Bt(e),s=Nh(r);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=255&r[l]}qt(e){const r=this.Bt(e),s=Nh(r);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=r.length-s;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(d){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,d,!1),new Uint8Array(g.buffer)}(e),s=!!(128&r[0]);r[0]^=s?255:128;for(let l=1;l<r.length;++l)r[l]^=s?255:0;return r}Ct(e){const r=255&e;0===r?(this.Kt(0),this.Kt(255)):255===r?(this.Kt(255),this.Kt(0)):this.Kt(r)}Mt(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class Od{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Oh{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class yl{constructor(){this.Gt=new op,this.zt=new Od(this.Gt),this.jt=new Oh(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ql{constructor(e,r,s,l){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ql(this.indexId,this.documentKey,this.arrayValue,s)}}function za(i,e){let r=i.indexId-e.indexId;return 0!==r?r:(r=kd(i.arrayValue,e.arrayValue),0!==r?r:(r=kd(i.directionalValue,e.directionalValue),0!==r?r:fn.comparator(i.documentKey,e.documentKey)))}function kd(i,e){for(let r=0;r<i.length&&r<e.length;++r){const s=i[r]-e[r];if(0!==s)return s}return i.length-e.length}class EI{constructor(e){this.Yt=new ri((r,s)=>Xr.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(bn(e.collectionGroup===this.collectionId),this.en)return!1;const r=ga(e);if(void 0!==r&&!this.nn(r))return!1;const s=ma(e);let l=new Set,d=0,g=0;for(;d<s.length&&this.nn(s[d]);++d)l=l.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Yt.size>0){const b=this.Yt.getIterator().getNext();if(!l.has(b.field.canonicalString())){const S=s[d];if(!this.rn(b,S)||!this.sn(this.Zt[g++],S))return!1}++d}for(;d<s.length;++d)if(g>=this.Zt.length||!this.sn(this.Zt[g++],s[d]))return!1;return!0}on(){if(this.en)return null;let e=new ri(Xr.comparator);const r=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new os(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new os(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new os(s.field,"asc"===s.dir?0:1)));return new fo(fo.UNKNOWN_ID,this.collectionId,r,va.empty())}nn(e){for(const r of this.Xt)if(this.rn(r,e))return!0;return!1}rn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function sp(i){var e,r;if(bn(i instanceof Hn||i instanceof li),i instanceof Hn){if(i instanceof gd){const l=(null===(r=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(d=>Hn.create(i.field,"==",d)))||[];return li.create(l,"or")}return i}const s=i.filters.map(l=>sp(l));return li.create(s,i.op)}function kh(i){if(0===i.getFilters().length)return[];const e=$g(sp(i));return bn(Hv(e)),Bg(e)||ap(e)?[e]:e.getFilters()}function Bg(i){return i instanceof Hn}function ap(i){return i instanceof li&&Ih(i)}function Hv(i){return Bg(i)||ap(i)||function(r){if(r instanceof li&&cd(r)){for(const s of r.getFilters())if(!Bg(s)&&!ap(s))return!1;return!0}return!1}(i)}function $g(i){if(bn(i instanceof Hn||i instanceof li),i instanceof Hn)return i;if(1===i.filters.length)return $g(i.filters[0]);const e=i.filters.map(s=>$g(s));let r=li.create(e,i.op);return r=lp(r),Hv(r)?r:(bn(r instanceof li),bn(gu(r)),bn(r.filters.length>1),r.filters.reduce((s,l)=>Fh(s,l)))}function Fh(i,e){let r;return bn(i instanceof Hn||i instanceof li),bn(e instanceof Hn||e instanceof li),r=i instanceof Hn?e instanceof Hn?li.create([i,e],"and"):jg(i,e):e instanceof Hn?jg(e,i):function(l,d){if(bn(l.filters.length>0&&d.filters.length>0),gu(l)&&gu(d))return ta(l,d.getFilters());const g=cd(l)?l:d,b=cd(l)?d:l,S=g.filters.map(U=>Fh(U,b));return li.create(S,"or")}(i,e),lp(r)}function jg(i,e){if(gu(e))return ta(e,i.getFilters());{const r=e.filters.map(s=>Fh(i,s));return li.create(r,"or")}}function lp(i){if(bn(i instanceof Hn||i instanceof li),i instanceof Hn)return i;const e=i.getFilters();if(1===e.length)return lp(e[0]);if(Eh(i))return i;const r=e.map(l=>lp(l)),s=[];return r.forEach(l=>{l instanceof Hn?s.push(l):l instanceof li&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:li.create(s,i.op)}class CI{constructor(){this._n=new Rc}addToCollectionParentIndex(e,r){return this._n.add(r),D.resolve()}getCollectionParents(e,r){return D.resolve(this._n.getEntries(r))}addFieldIndex(e,r){return D.resolve()}deleteFieldIndex(e,r){return D.resolve()}deleteAllFieldIndexes(e){return D.resolve()}createTargetIndexes(e,r){return D.resolve()}getDocumentsMatchingTarget(e,r){return D.resolve(null)}getIndexType(e,r){return D.resolve(0)}getFieldIndexes(e,r){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,r){return D.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,r){return D.resolve(Es.min())}updateCollectionGroup(e,r,s){return D.resolve()}updateIndexEntries(e,r){return D.resolve()}}class Rc{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r]||new ri(tr.comparator),d=!l.has(s);return this.index[r]=l.add(s),d}has(e){const r=e.lastSegment(),s=e.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(e){return(this.index[e]||new ri(tr.comparator)).toArray()}}const Vh=new Uint8Array(0);class Hg{constructor(e,r){this.databaseId=r,this.an=new Rc,this.un=new La(s=>ya(s),(s,l)=>gl(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.an.has(r)){const s=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.an.add(r)});const d={collectionId:s,parent:Gi(l)};return Gv(e).put(d)}return D.resolve()}getCollectionParents(e,r){const s=[],l=IDBKeyRange.bound([r,""],[fi(r),""],!1,!0);return Gv(e).W(l).next(d=>{for(const g of d){if(g.collectionId!==r)break;s.push(po(g.parent))}return s})}addFieldIndex(e,r){const s=up(e),l={indexId:(b=r).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var b;delete l.indexId;const d=s.add(l);if(r.indexState){const g=Il(e);return d.next(b=>{g.put(jv(b,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return d.next()}deleteFieldIndex(e,r){const s=up(e),l=Il(e),d=Lh(e);return s.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=up(e),s=Lh(e),l=Il(e);return r.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,r){return D.forEach(this.cn(r),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const d=new EI(s).on();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,r){const s=Lh(e);let l=!0;const d=new Map;return D.forEach(this.cn(r),g=>this.ln(e,g).next(b=>{l&&(l=!!b),d.set(g,b)})).next(()=>{if(l){let g=gr();const b=[];return D.forEach(d,(S,U)=>{var Xn;St("IndexedDbIndexManager",`Using index ${Xn=S,`id=${Xn.indexId}|cg=${Xn.collectionGroup}|f=${Xn.fields.map(Vn=>`${Vn.fieldPath}:${Vn.kind}`).join(",")}`} to execute ${ya(r)}`);const Q=function(Xn,Vn){const jr=ga(Vn);if(void 0===jr)return null;for(const Lr of hc(Xn,jr.fieldPath))switch(Lr.op){case"array-contains-any":return Lr.value.arrayValue.values||[];case"array-contains":return[Lr.value]}return null}(U,S),ve=function(Xn,Vn){const jr=new Map;for(const Lr of ma(Vn))for(const ii of hc(Xn,Lr.fieldPath))switch(ii.op){case"==":case"in":jr.set(Lr.fieldPath.canonicalString(),ii.value);break;case"not-in":case"!=":return jr.set(Lr.fieldPath.canonicalString(),ii.value),Array.from(jr.values())}return null}(U,S),Ke=function(Xn,Vn){const jr=[];let Lr=!0;for(const ii of ma(Vn)){const Fo=0===ii.kind?Ng(Xn,ii.fieldPath,Xn.startAt):Og(Xn,ii.fieldPath,Xn.startAt);jr.push(Fo.value),Lr&&(Lr=Fo.inclusive)}return new Fa(jr,Lr)}(U,S),Et=function(Xn,Vn){const jr=[];let Lr=!0;for(const ii of ma(Vn)){const Fo=0===ii.kind?Og(Xn,ii.fieldPath,Xn.endAt):Ng(Xn,ii.fieldPath,Xn.endAt);jr.push(Fo.value),Lr&&(Lr=Fo.inclusive)}return new Fa(jr,Lr)}(U,S),rn=this.hn(S,U,Ke),In=this.hn(S,U,Et),cn=this.Pn(S,U,ve),Qn=this.In(S.indexId,Q,rn,Ke.inclusive,In,Et.inclusive,cn);return D.forEach(Qn,or=>s.j(or,r.limit).next(Xn=>{Xn.forEach(Vn=>{const jr=fn.fromSegments(Vn.documentKey);g.has(jr)||(g=g.add(jr),b.push(jr))})}))}).next(()=>b)}return D.resolve(null)})}cn(e){let r=this.un.get(e);return r||(r=0===e.filters.length?[e]:kh(li.create(e.filters,"and")).map(s=>cc(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,r),r)}In(e,r,s,l,d,g,b){const S=(null!=r?r.length:1)*Math.max(s.length,d.length),U=S/(null!=r?r.length:1),Q=[];for(let ve=0;ve<S;++ve){const Ke=r?this.Tn(r[ve/U]):Vh,Et=this.En(e,Ke,s[ve%U],l),rn=this.dn(e,Ke,d[ve%U],g),In=b.map(cn=>this.En(e,Ke,cn,!0));Q.push(...this.createRange(Et,rn,In))}return Q}En(e,r,s,l){const d=new ql(e,fn.empty(),r,s);return l?d:d.Jt()}dn(e,r,s,l){const d=new ql(e,fn.empty(),r,s);return l?d.Jt():d}ln(e,r){const s=new EI(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let g=null;for(const b of d)s.tn(b)&&(!g||b.fields.length>g.fields.length)&&(g=b);return g})}getIndexType(e,r){let s=2;const l=this.cn(r);return D.forEach(l,d=>this.ln(e,d).next(g=>{g?0!==s&&g.fields.length<function(S){let U=new ri(Xr.comparator),Q=!1;for(const ve of S.filters)for(const Ke of ve.getFlattenedFilters())Ke.field.isKeyField()||("array-contains"===Ke.op||"array-contains-any"===Ke.op?Q=!0:U=U.add(Ke.field));for(const ve of S.orderBy)ve.field.isKeyField()||(U=U.add(ve.field));return U.size+(Q?1:0)}(d)&&(s=1):s=0})).next(()=>null!==r.limit&&l.length>1&&2===s?1:s)}An(e,r){const s=new yl;for(const l of ma(e)){const d=r.data.field(l.fieldPath);if(null==d)return null;const g=s.Ht(l.kind);Kl.bt.Pt(d,g)}return s.Wt()}Tn(e){const r=new yl;return Kl.bt.Pt(e,r.Ht(0)),r.Wt()}Rn(e,r){const s=new yl;return Kl.bt.Pt(oo(this.databaseId,r),s.Ht(function(d){const g=ma(d);return 0===g.length?0:g[g.length-1].kind}(e))),s.Wt()}Pn(e,r,s){if(null===s)return[];let l=[];l.push(new yl);let d=0;for(const g of ma(e)){const b=s[d++];for(const S of l)if(this.Vn(r,g.fieldPath)&&lc(b))l=this.mn(l,g,b);else{const U=S.Ht(g.kind);Kl.bt.Pt(b,U)}}return this.fn(l)}hn(e,r,s){return this.Pn(e,r,s.position)}fn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Wt();return r}mn(e,r,s){const l=[...e],d=[];for(const g of s.arrayValue.values||[])for(const b of l){const S=new yl;S.seed(b.Wt()),Kl.bt.Pt(g,S.Ht(r.kind)),d.push(S)}return d}Vn(e,r){return!!e.filters.find(s=>s instanceof Hn&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=up(e),l=Il(e);return(r?s.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.W()).next(d=>{const g=[];return D.forEach(d,b=>l.get([b.indexId,this.uid]).next(S=>{g.push(function(Q,ve){const Ke=ve?new va(ve.sequenceNumber,new Es(wc(ve.readTime),new fn(po(ve.documentKey)),ve.largestBatchId)):va.empty(),Et=Q.fields.map(([rn,In])=>new os(Xr.fromServerFormat(rn),In));return new fo(Q.indexId,Q.collectionGroup,Et,Ke)}(b,S))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:jn(s.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const l=up(e),d=Il(e);return this.gn(e).next(g=>l.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(b=>D.forEach(b,S=>d.put(jv(S.indexId,this.uid,g,s)))))}updateIndexEntries(e,r){const s=new Map;return D.forEach(r,(l,d)=>{const g=s.get(l.collectionGroup);return(g?D.resolve(g):this.getFieldIndexes(e,l.collectionGroup)).next(b=>(s.set(l.collectionGroup,b),D.forEach(b,S=>this.pn(e,l,S).next(U=>{const Q=this.yn(d,S);return U.isEqual(Q)?D.resolve():this.wn(e,d,S,U,Q)}))))})}Sn(e,r,s,l){return Lh(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,r.key),documentKey:r.key.path.toArray()})}bn(e,r,s,l){return Lh(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,r.key),r.key.path.toArray()])}pn(e,r,s){const l=Lh(e);let d=new ri(za);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,r)])},(g,b)=>{d=d.add(new ql(s.indexId,r,b.arrayValue,b.directionalValue))}).next(()=>d)}yn(e,r){let s=new ri(za);const l=this.An(r,e);if(null==l)return s;const d=ga(r);if(null!=d){const g=e.data.field(d.fieldPath);if(lc(g))for(const b of g.arrayValue.values||[])s=s.add(new ql(r.indexId,e.key,this.Tn(b),l))}else s=s.add(new ql(r.indexId,e.key,Vh,l));return s}wn(e,r,s,l,d){St("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const g=[];return function(S,U,Q,ve,Ke){const Et=S.getIterator(),rn=U.getIterator();let In=cl(Et),cn=cl(rn);for(;In||cn;){let Qn=!1,or=!1;if(In&&cn){const Xn=Q(In,cn);Xn<0?or=!0:Xn>0&&(Qn=!0)}else null!=In?or=!0:Qn=!0;Qn?(ve(cn),cn=cl(rn)):or?(Ke(In),In=cl(Et)):(In=cl(Et),cn=cl(rn))}}(l,d,za,b=>{g.push(this.Sn(e,r,s,b))},b=>{g.push(this.bn(e,r,s,b))}),D.waitFor(g)}gn(e){let r=1;return Il(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((g,b)=>za(g,b)).filter((g,b,S)=>!b||0!==za(g,S[b-1]));const l=[];l.push(e);for(const g of s){const b=za(g,e),S=za(g,r);if(0===b)l[0]=e.Jt();else if(b>0&&S<0)l.push(g),l.push(g.Jt());else if(S>0)break}l.push(r);const d=[];for(let g=0;g<l.length;g+=2){if(this.Dn(l[g],l[g+1]))return[];d.push(IDBKeyRange.bound([l[g].indexId,this.uid,l[g].arrayValue,l[g].directionalValue,Vh,[]],[l[g+1].indexId,this.uid,l[g+1].arrayValue,l[g+1].directionalValue,Vh,[]]))}return d}Dn(e,r){return za(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(zv)}getMinOffset(e,r){return D.mapArray(this.cn(r),s=>this.ln(e,s).next(l=>l||hn())).next(zv)}}function Gv(i){return Ri(i,"collectionParents")}function Lh(i){return Ri(i,"indexEntries")}function up(i){return Ri(i,"indexConfiguration")}function Il(i){return Ri(i,"indexState")}function zv(i){bn(0!==i.length);let e=i[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Ju(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new Es(e.readTime,e.documentKey,r)}const Uh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ko{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ko(e,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Wv(i,e,r){const s=i.store("mutations"),l=i.store("documentMutations"),d=[],g=IDBKeyRange.only(r.batchId);let b=0;const S=s.Y({range:g},(Q,ve,Ke)=>(b++,Ke.delete()));d.push(S.next(()=>{bn(1===b)}));const U=[];for(const Q of r.mutations){const ve=Qs(e,Q.key.path,r.batchId);d.push(l.delete(ve)),U.push(Q.key)}return D.waitFor(d).next(()=>U)}function Bh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw hn();e=i.noDocument}return JSON.stringify(e).length}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class Fd{constructor(e,r,s,l){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,r,s,l){bn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Fd(d,r,s,l)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wa(e).Y({index:"userMutationsIndex",range:s},(l,d,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(e,r,s,l){const d=Mc(e),g=Wa(e);return g.add({}).next(b=>{bn("number"==typeof b);const S=new Ha(b,r,s,l),U=function(Et,rn,In){const cn=In.baseMutations.map(or=>Pd(Et.ct,or)),Qn=In.mutations.map(or=>Pd(Et.ct,or));return{userId:rn,batchId:In.batchId,localWriteTimeMs:In.localWriteTime.toMillis(),baseMutations:cn,mutations:Qn}}(this.serializer,this.userId,S),Q=[];let ve=new ri((Ke,Et)=>jn(Ke.canonicalString(),Et.canonicalString()));for(const Ke of l){const Et=Qs(this.userId,Ke.key.path,b);ve=ve.add(Ke.key.path.popLast()),Q.push(g.put(U)),Q.push(d.put(Et,nd))}return ve.forEach(Ke=>{Q.push(this.indexManager.addToCollectionParentIndex(e,Ke))}),e.addOnCommittedListener(()=>{this.Cn[b]=S.keys()}),D.waitFor(Q).next(()=>S)})}lookupMutationBatch(e,r){return Wa(e).get(r).next(s=>s?(bn(s.userId===this.userId),Ru(this.serializer,s)):null)}vn(e,r){return this.Cn[r]?D.resolve(this.Cn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const l=s.keys();return this.Cn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Wa(e).Y({index:"userMutationsIndex",range:l},(g,b,S)=>{b.userId===this.userId&&(bn(b.batchId>=s),d=Ru(this.serializer,b)),S.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Wa(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(l,d,g)=>{s=d.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wa(e).W("userMutationsIndex",r).next(s=>s.map(l=>Ru(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=hu(this.userId,r.path),l=IDBKeyRange.lowerBound(s),d=[];return Mc(e).Y({range:l},(g,b,S)=>{const[U,Q,ve]=g,Ke=po(Q);if(U===this.userId&&r.path.isEqual(Ke))return Wa(e).get(ve).next(Et=>{if(!Et)throw hn();bn(Et.userId===this.userId),d.push(Ru(this.serializer,Et))});S.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new ri(jn);const l=[];return r.forEach(d=>{const g=hu(this.userId,d.path),b=IDBKeyRange.lowerBound(g),S=Mc(e).Y({range:b},(U,Q,ve)=>{const[Ke,Et,rn]=U,In=po(Et);Ke===this.userId&&d.path.isEqual(In)?s=s.add(rn):ve.done()});l.push(S)}),D.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1,d=hu(this.userId,s),g=IDBKeyRange.lowerBound(d);let b=new ri(jn);return Mc(e).Y({range:g},(S,U,Q)=>{const[ve,Ke,Et]=S,rn=po(Ke);ve===this.userId&&s.isPrefixOf(rn)?rn.length===l&&(b=b.add(Et)):Q.done()}).next(()=>this.Fn(e,b))}Fn(e,r){const s=[],l=[];return r.forEach(d=>{l.push(Wa(e).get(d).next(g=>{if(null===g)throw hn();bn(g.userId===this.userId),s.push(Ru(this.serializer,g))}))}),D.waitFor(l).next(()=>s)}removeMutationBatch(e,r){return Wv(e.ae,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Mn(r.batchId)}),D.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return D.resolve();const s=IDBKeyRange.lowerBound(function(g){return[g]}(this.userId)),l=[];return Mc(e).Y({range:s},(d,g,b)=>{if(d[0]===this.userId){const S=po(d[1]);l.push(S)}else b.done()}).next(()=>{bn(0===l.length)})})}containsKey(e,r){return $h(e,this.userId,r)}xn(e){return Gg(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $h(i,e,r){const s=hu(e,r.path),l=s[1],d=IDBKeyRange.lowerBound(s);let g=!1;return Mc(i).Y({range:d,J:!0},(b,S,U)=>{const[Q,ve,Ke]=b;Q===e&&ve===l&&(g=!0),U.done()}).next(()=>g)}function Wa(i){return Ri(i,"mutations")}function Mc(i){return Ri(i,"documentMutations")}function Gg(i){return Ri(i,"mutationQueues")}class Mu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Mu(0)}static Ln(){return new Mu(-1)}}class cp{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Mu(r.highestTargetId);return r.highestTargetId=s.next(),this.kn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>Fn.fromTimestamp(new Cr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.kn(e,l)))}addTargetData(e,r){return this.qn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(r,s),this.kn(e,s))))}updateTargetData(e,r){return this.qn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Pu(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(bn(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,r,s){let l=0;const d=[];return Pu(e).Y((g,b)=>{const S=bc(b);S.sequenceNumber<=r&&null===s.get(S.targetId)&&(l++,d.push(this.removeTargetData(e,S)))}).next(()=>D.waitFor(d)).next(()=>l)}forEachTarget(e,r){return Pu(e).Y((s,l)=>{const d=bc(l);r(d)})}Bn(e){return Pc(e).get("targetGlobalKey").next(r=>(bn(null!==r),r))}kn(e,r){return Pc(e).put("targetGlobalKey",r)}qn(e,r){return Pu(e).put(yI(this.serializer,r))}Qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=ya(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Pu(e).Y({range:l,index:"queryTargetsIndex"},(g,b,S)=>{const U=bc(b);gl(r,U.target)&&(d=U,S.done())}).next(()=>d)}addMatchingKeys(e,r,s){const l=[],d=xu(e);return r.forEach(g=>{const b=Gi(g.path);l.push(d.put({targetId:s,path:b})),l.push(this.referenceDelegate.addReference(e,s,g))}),D.waitFor(l)}removeMatchingKeys(e,r,s){const l=xu(e);return D.forEach(r,d=>{const g=Gi(d.path);return D.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,r){const s=xu(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=xu(e);let d=gr();return l.Y({range:s,J:!0},(g,b,S)=>{const U=po(g[1]),Q=new fn(U);d=d.add(Q)}).next(()=>d)}containsKey(e,r){const s=Gi(r.path),l=IDBKeyRange.bound([s],[fi(s)],!1,!0);let d=0;return xu(e).Y({index:"documentTargetsIndex",J:!0,range:l},([g,b],S,U)=>{0!==g&&(d++,U.done())}).next(()=>d>0)}_t(e,r){return Pu(e).get(r).next(s=>s?bc(s):null)}}function Pu(i){return Ri(i,"targets")}function Pc(i){return Ri(i,"targetGlobal")}function xu(i){return Ri(i,"targetDocuments")}function Kv([i,e],[r,s]){const l=jn(i,r);return 0===l?jn(e,s):l}class tC{constructor(e){this.Kn=e,this.buffer=new ri(Kv),this.$n=0}Un(){return++this.$n}Wn(e){const r=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Kv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class jh{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var r=this;St("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ae.A)(function*(){r.Gn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){at(s)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield y(s)}yield r.zn(3e5)}))}}class zg{constructor(e,r){this.jn=e,this.params=r}calculateTargetCount(e,r){return this.jn.Hn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return D.resolve(Jr._e);const s=new tC(r);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.jn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),D.resolve(Uh)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uh):this.Yn(e,r))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,r){let s,l,d,g,b,S,U;const Q=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ve=>(ve>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ve}`),l=this.params.maximumSequenceNumbersToCollect):l=ve,g=Date.now(),this.nthSequenceNumber(e,l))).next(ve=>(s=ve,b=Date.now(),this.removeTargets(e,s,r))).next(ve=>(d=ve,S=Date.now(),this.removeOrphanedDocuments(e,s))).next(ve=>(U=Date.now(),Vr()<=Xe.$b.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-Q}ms\n\tDetermined least recently used ${l} in `+(b-g)+`ms\n\tRemoved ${d} targets in `+(S-b)+`ms\n\tRemoved ${ve} documents in `+(U-S)+`ms\nTotal Duration: ${U-Q}ms`),D.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:ve})))}}class qv{constructor(e,r){this.db=e,this.garbageCollector=function Wg(i,e){return new zg(i,e)}(this,r)}Hn(e){const r=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(l=>s+l))}Zn(e){let r=0;return this.Jn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Jn(e,r){return this.Xn(e,(s,l)=>r(l))}addReference(e,r,s){return Hh(e,s)}removeReference(e,r,s){return Hh(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return Hh(e,r)}er(e,r){return function(l,d){let g=!1;return Gg(l).Z(b=>$h(l,b,d).next(S=>(S&&(g=!0),D.resolve(!S)))).next(()=>g)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Xn(e,(g,b)=>{if(b<=r){const S=this.er(e,g).next(U=>{if(!U)return d++,s.getEntry(e,g).next(()=>(s.removeEntry(g,Fn.min()),xu(e).delete([0,Gi(g.path)])))});l.push(S)}}).next(()=>D.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return Hh(e,r)}Xn(e,r){const s=xu(e);let l,d=Jr._e;return s.Y({index:"documentTargetsIndex"},([g,b],{path:S,sequenceNumber:U})=>{0===g?(d!==Jr._e&&r(new fn(po(l)),d),d=U,l=S):d=Jr._e}).next(()=>{d!==Jr._e&&r(new fn(po(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hh(i,e){return xu(i).put((l=i.currentSequenceNumber,{targetId:0,path:Gi(e.path),sequenceNumber:l}));var l}class Kg{constructor(){this.changes=new La(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ci.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?D.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DI{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return xc(e).put(s)}removeEntry(e,r,s){return xc(e).delete(function(d,g){const b=d.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],Ga(g),b[b.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.tr(e,s)))}getEntry(e,r){let s=Ci.newInvalidDocument(r);return xc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ia(r))},(l,d)=>{s=this.nr(r,d)}).next(()=>s)}rr(e,r){let s={size:0,document:Ci.newInvalidDocument(r)};return xc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ia(r))},(l,d)=>{s={document:this.nr(r,d),size:Bh(d)}}).next(()=>s)}getEntries(e,r){let s=Xo();return this.ir(e,r,(l,d)=>{const g=this.nr(l,d);s=s.insert(l,g)}).next(()=>s)}sr(e,r){let s=Xo(),l=new Tn(fn.comparator);return this.ir(e,r,(d,g)=>{const b=this.nr(d,g);s=s.insert(d,b),l=l.insert(d,Bh(g))}).next(()=>({documents:s,_r:l}))}ir(e,r,s){if(r.isEmpty())return D.resolve();let l=new ri(Yv);r.forEach(S=>l=l.add(S));const d=IDBKeyRange.bound(Ia(l.first()),Ia(l.last())),g=l.getIterator();let b=g.getNext();return xc(e).Y({index:"documentKeyIndex",range:d},(S,U,Q)=>{const ve=fn.fromSegments([...U.prefixPath,U.collectionGroup,U.documentId]);for(;b&&Yv(b,ve)<0;)s(b,null),b=g.getNext();b&&b.isEqual(ve)&&(s(b,U),b=g.hasNext()?g.getNext():null),b?Q.U(Ia(b)):Q.done()}).next(()=>{for(;b;)s(b,null),b=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(e,r,s,l,d){const g=r.path,b=[g.popLast().toArray(),g.lastSegment(),Ga(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],S=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xc(e).W(IDBKeyRange.bound(b,S,!0)).next(U=>{null==d||d.incrementDocumentReadCount(U.length);let Q=Xo();for(const ve of U){const Ke=this.nr(fn.fromSegments(ve.prefixPath.concat(ve.collectionGroup,ve.documentId)),ve);Ke.isFoundDocument()&&(Fl(r,Ke)||l.has(Ke.key))&&(Q=Q.insert(Ke.key,Ke))}return Q})}getAllFromCollectionGroup(e,r,s,l){let d=Xo();const g=Vd(r,s),b=Vd(r,Es.max());return xc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,b,!0)},(S,U,Q)=>{const ve=this.nr(fn.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);d=d.insert(ve.key,ve),d.size===l&&Q.done()}).next(()=>d)}newChangeBuffer(e){return new AI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Qv(e).get("remoteDocumentGlobalKey").next(r=>(bn(!!r),r))}tr(e,r){return Qv(e).put("remoteDocumentGlobalKey",r)}nr(e,r){if(r){const s=function Lg(i,e){let r;if(e.document)r=tp(i.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=fn.fromSegments(e.noDocument.path),l=wc(e.noDocument.readTime);r=Ci.newNoDocument(s,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return hn();{const s=fn.fromSegments(e.unknownDocument.path),l=wc(e.unknownDocument.version);r=Ci.newUnknownDocument(s,l)}}return e.readTime&&r.setReadTime(function(l){const d=new Cr(l[0],l[1]);return Fn.fromTimestamp(d)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Fn.min()))return s}return Ci.newInvalidDocument(e)}}function Xv(i){return new DI(i)}class AI extends Kg{constructor(e,r){super(),this.ar=e,this.trackRemovals=r,this.ur=new La(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const r=[];let s=0,l=new ri((d,g)=>jn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const b=this.ur.get(d);if(r.push(this.ar.removeEntry(e,d,b.readTime)),g.isValidDocument()){const S=Uv(this.ar.serializer,g);l=l.add(d.path.popLast());const U=Bh(S);s+=U-b.size,r.push(this.ar.addEntry(e,d,S))}else if(s-=b.size,this.trackRemovals){const S=Uv(this.ar.serializer,g.convertToNoDocument(Fn.min()));r.push(this.ar.addEntry(e,d,S))}}),l.forEach(d=>{r.push(this.ar.indexManager.addToCollectionParentIndex(e,d))}),r.push(this.ar.updateMetadata(e,s)),D.waitFor(r)}getFromCache(e,r){return this.ar.rr(e,r).next(s=>(this.ur.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this.ar.sr(e,r).next(({documents:s,_r:l})=>(l.forEach((d,g)=>{this.ur.set(d,{size:g,readTime:s.get(d).readTime})}),s))}}function Qv(i){return Ri(i,"remoteDocumentGlobal")}function xc(i){return Ri(i,"remoteDocumentsV14")}function Ia(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Vd(i,e){const r=e.documentKey.path.toArray();return[i,Ga(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Yv(i,e){const r=i.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<r.length-2&&d<s.length-2;++d)if(l=jn(r[d],s[d]),l)return l;return l=jn(r.length,s.length),l||(l=jn(r[r.length-2],s[s.length-2]),l||jn(r[r.length-1],s[s.length-1]))}class nC{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class TI{constructor(e,r,s,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(null!==s&&Cd(s.mutation,l,xo.empty(),Cr.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,gr()).next(()=>s))}getLocalViewOfDocuments(e,r,s=gr()){const l=Ds();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,s).next(d=>{let g=Cu();return d.forEach((b,S)=>{g=g.insert(b,S.overlayedDocument)}),g}))}getOverlayedDocuments(e,r){const s=Ds();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,gr()))}populateOverlays(e,r,s){const l=[];return s.forEach(d=>{r.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((g,b)=>{r.set(g,b)})})}computeViews(e,r,s,l){let d=Xo();const g=Ll(),b=Ll();return r.forEach((S,U)=>{const Q=s.get(U.key);l.has(U.key)&&(void 0===Q||Q.mutation instanceof Do)?d=d.insert(U.key,U):void 0!==Q?(g.set(U.key,Q.mutation.getFieldMask()),Cd(Q.mutation,U,Q.mutation.getFieldMask(),Cr.now())):g.set(U.key,xo.empty())}),this.recalculateAndSaveOverlays(e,d).next(S=>(S.forEach((U,Q)=>g.set(U,Q)),r.forEach((U,Q)=>{var ve;return b.set(U,new nC(Q,null!==(ve=g.get(U))&&void 0!==ve?ve:null))}),b))}recalculateAndSaveOverlays(e,r){const s=Ll();let l=new Tn((g,b)=>g-b),d=gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(g=>{for(const b of g)b.keys().forEach(S=>{const U=r.get(S);if(null===U)return;let Q=s.get(S)||xo.empty();Q=b.applyToLocalView(U,Q),s.set(S,Q);const ve=(l.get(b.batchId)||gr()).add(S);l=l.insert(b.batchId,ve)})}).next(()=>{const g=[],b=l.getReverseIterator();for(;b.hasNext();){const S=b.getNext(),U=S.key,Q=S.value,ve=Ua();Q.forEach(Ke=>{if(!d.has(Ke)){const Et=Sh(r.get(Ke),s.get(Ke));null!==Et&&ve.set(Ke,Et),d=d.add(Ke)}}),g.push(this.documentOverlayCache.saveOverlays(e,U,ve))}return D.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,l){return fn.isDocumentKey((g=r).path)&&null===g.collectionGroup&&0===g.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):fc(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,l):this.getDocumentsMatchingCollectionQuery(e,r,s,l);var g}getNextDocuments(e,r,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,l).next(d=>{const g=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,l-d.size):D.resolve(Ds());let b=-1,S=d;return g.next(U=>D.forEach(U,(Q,ve)=>(b<ve.largestBatchId&&(b=ve.largestBatchId),d.get(Q)?D.resolve():this.remoteDocumentCache.getEntry(e,Q).next(Ke=>{S=S.insert(Q,Ke)}))).next(()=>this.populateOverlays(e,U,d)).next(()=>this.computeViews(e,S,U,gr())).next(Q=>({batchId:b,changes:Hf(Q)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new fn(r)).next(s=>{let l=Cu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,s,l){const d=r.collectionGroup;let g=Cu();return this.indexManager.getCollectionParents(e,d).next(b=>D.forEach(b,S=>{const U=(ve=r,Ke=S.child(d),new na(Ke,null,ve.explicitOrderBy.slice(),ve.filters.slice(),ve.limit,ve.limitType,ve.startAt,ve.endAt));var ve,Ke;return this.getDocumentsMatchingCollectionQuery(e,U,s,l).next(Q=>{Q.forEach((ve,Ke)=>{g=g.insert(ve,Ke)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,s,l){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(g=>(d=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,d,l))).next(g=>{d.forEach((S,U)=>{const Q=U.getKey();null===g.get(Q)&&(g=g.insert(Q,Ci.newInvalidDocument(Q)))});let b=Cu();return g.forEach((S,U)=>{const Q=d.get(S);void 0!==Q&&Cd(Q.mutation,U,xo.empty(),Cr.now()),Fl(r,U)&&(b=b.insert(S,U))}),b})}}class rC{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,r){return D.resolve(this.cr.get(r))}saveBundleMetadata(e,r){return this.cr.set(r.id,{id:(l=r).id,version:l.version,createTime:Zr(l.createTime)}),D.resolve();var l}getNamedQuery(e,r){return D.resolve(this.lr.get(r))}saveNamedQuery(e,r){return this.lr.set(r.name,{name:(l=r).name,query:Bv(l.bundledQuery),readTime:Zr(l.readTime)}),D.resolve();var l}}class iC{constructor(){this.overlays=new Tn(fn.comparator),this.hr=new Map}getOverlay(e,r){return D.resolve(this.overlays.get(r))}getOverlays(e,r){const s=Ds();return D.forEach(r,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((l,d)=>{this.ht(e,r,d)}),D.resolve()}removeOverlaysForBatchId(e,r,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.hr.delete(s)),D.resolve()}getOverlaysForCollection(e,r,s){const l=Ds(),d=r.length+1,g=new fn(r.child("")),b=this.overlays.getIteratorFrom(g);for(;b.hasNext();){const S=b.getNext().value,U=S.getKey();if(!r.isPrefixOf(U.path))break;U.path.length===d&&S.largestBatchId>s&&l.set(S.getKey(),S)}return D.resolve(l)}getOverlaysForCollectionGroup(e,r,s,l){let d=new Tn((U,Q)=>U-Q);const g=this.overlays.getIterator();for(;g.hasNext();){const U=g.getNext().value;if(U.getKey().getCollectionGroup()===r&&U.largestBatchId>s){let Q=d.get(U.largestBatchId);null===Q&&(Q=Ds(),d=d.insert(U.largestBatchId,Q)),Q.set(U.getKey(),U)}}const b=Ds(),S=d.getIterator();for(;S.hasNext()&&(S.getNext().value.forEach((U,Q)=>b.set(U,Q)),!(b.size()>=l)););return D.resolve(b)}ht(e,r,s){const l=this.overlays.get(s.key);if(null!==l){const g=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new ep(r,s));let d=this.hr.get(r);void 0===d&&(d=gr(),this.hr.set(r,d)),this.hr.set(r,d.add(s.key))}}class Zv{constructor(){this.Pr=new ri(Ao.Ir),this.Tr=new ri(Ao.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,r){const s=new Ao(e,r);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Ar(new Ao(e,r))}Rr(e,r){e.forEach(s=>this.removeReference(s,r))}Vr(e){const r=new fn(new tr([])),s=new Ao(r,e),l=new Ao(r,e+1),d=[];return this.Tr.forEachInRange([s,l],g=>{this.Ar(g),d.push(g.key)}),d}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const r=new fn(new tr([])),s=new Ao(r,e),l=new Ao(r,e+1);let d=gr();return this.Tr.forEachInRange([s,l],g=>{d=d.add(g.key)}),d}containsKey(e){const r=new Ao(e,0),s=this.Pr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Ao{constructor(e,r){this.key=e,this.pr=r}static Ir(e,r){return fn.comparator(e.key,r.key)||jn(e.pr,r.pr)}static Er(e,r){return jn(e.pr,r.pr)||fn.comparator(e.key,r.key)}}class wI{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new ri(Ao.Ir)}checkEmpty(e){return D.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,l){const d=this.yr;this.yr++;const g=new Ha(d,r,s,l);this.mutationQueue.push(g);for(const b of l)this.wr=this.wr.add(new Ao(b.key,d)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return D.resolve(g)}lookupMutationBatch(e,r){return D.resolve(this.Sr(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.br(r+1),d=l<0?0:l;return D.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Ao(r,0),l=new Ao(r,Number.POSITIVE_INFINITY),d=[];return this.wr.forEachInRange([s,l],g=>{const b=this.Sr(g.pr);d.push(b)}),D.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new ri(jn);return r.forEach(l=>{const d=new Ao(l,0),g=new Ao(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([d,g],b=>{s=s.add(b.pr)})}),D.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,l=s.length+1;let d=s;fn.isDocumentKey(d)||(d=d.child(""));const g=new Ao(new fn(d),0);let b=new ri(jn);return this.wr.forEachWhile(S=>{const U=S.key.path;return!!s.isPrefixOf(U)&&(U.length===l&&(b=b.add(S.pr)),!0)},g),D.resolve(this.Dr(b))}Dr(e){const r=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){bn(0===this.Cr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return D.forEach(r.mutations,l=>{const d=new Ao(l.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,r){const s=new Ao(r,0),l=this.wr.firstAfterOrEqual(s);return D.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return D.resolve()}Cr(e,r){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const r=this.br(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class bI{constructor(e){this.vr=e,this.docs=new Tn(fn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,l=this.docs.get(s),d=l?l.size:0,g=this.vr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return D.resolve(s?s.document.mutableCopy():Ci.newInvalidDocument(r))}getEntries(e,r){let s=Xo();return r.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():Ci.newInvalidDocument(l))}),D.resolve(s)}getDocumentsMatchingQuery(e,r,s,l){let d=Xo();const g=r.path,b=new fn(g.child("")),S=this.docs.getIteratorFrom(b);for(;S.hasNext();){const{key:U,value:{document:Q}}=S.getNext();if(!g.isPrefixOf(U.path))break;U.path.length>g.length+1||Ju(ed(Q),s)<=0||(l.has(Q.key)||Fl(r,Q))&&(d=d.insert(Q.key,Q.mutableCopy()))}return D.resolve(d)}getAllFromCollectionGroup(e,r,s,l){hn()}Fr(e,r){return D.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new SI(this)}getSize(e){return D.resolve(this.size)}}class SI extends Kg{constructor(e){super(),this.ar=e}applyChanges(e){const r=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?r.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),D.waitFor(r)}getFromCache(e,r){return this.ar.getEntry(e,r)}getAllFromCache(e,r){return this.ar.getEntries(e,r)}}class RI{constructor(e){this.persistence=e,this.Mr=new La(r=>ya(r),gl),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Zv,this.targetCount=0,this.Lr=Mu.Nn()}forEachTarget(e,r){return this.Mr.forEach((s,l)=>r(l)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Or&&(this.Or=r),D.resolve()}qn(e){this.Mr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Lr=new Mu(r),this.highestTargetId=r),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,r){return this.qn(r),this.targetCount+=1,D.resolve()}updateTargetData(e,r){return this.qn(r),D.resolve()}removeTargetData(e,r){return this.Mr.delete(r.target),this.Nr.Vr(r.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,r,s){let l=0;const d=[];return this.Mr.forEach((g,b)=>{b.sequenceNumber<=r&&null===s.get(b.targetId)&&(this.Mr.delete(g),d.push(this.removeMatchingKeysForTargetId(e,b.targetId)),l++)}),D.waitFor(d).next(()=>l)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,r){const s=this.Mr.get(r)||null;return D.resolve(s)}addMatchingKeys(e,r,s){return this.Nr.dr(r,s),D.resolve()}removeMatchingKeys(e,r,s){this.Nr.Rr(r,s);const l=this.persistence.referenceDelegate,d=[];return l&&r.forEach(g=>{d.push(l.markPotentiallyOrphaned(e,g))}),D.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Nr.Vr(r),D.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Nr.gr(r);return D.resolve(s)}containsKey(e,r){return D.resolve(this.Nr.containsKey(r))}}class Gh{constructor(e,r){this.Br={},this.overlays={},this.kr=new Jr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new RI(this),this.indexManager=new CI,this.remoteDocumentCache=new bI(s=>this.referenceDelegate.Kr(s)),this.serializer=new Vg(r),this.$r=new rC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new iC,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new wI(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,r,s){St("MemoryPersistence","Starting transaction:",e);const l=new Xl(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(d=>this.referenceDelegate.Wr(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Gr(e,r){return D.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class Xl extends kf{constructor(e){super(),this.currentSequenceNumber=e}}class Nu{constructor(e){this.persistence=e,this.zr=new Zv,this.jr=null}static Hr(e){return new Nu(e)}get Jr(){if(this.jr)return this.jr;throw hn()}addReference(e,r,s){return this.zr.addReference(s,r),this.Jr.delete(s.toString()),D.resolve()}removeReference(e,r,s){return this.zr.removeReference(s,r),this.Jr.add(s.toString()),D.resolve()}markPotentiallyOrphaned(e,r){return this.Jr.add(r.toString()),D.resolve()}removeTarget(e,r){this.zr.Vr(r.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(d=>this.Jr.add(d.toString()))}).next(()=>s.removeTargetData(e,r))}Ur(){this.jr=new Set}Wr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Jr,s=>{const l=fn.fromPath(s);return this.Yr(e,l).next(d=>{d||r.removeEntry(l,Fn.min())})}).next(()=>(this.jr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Yr(e,r).next(s=>{s?this.Jr.delete(r.toString()):this.Jr.add(r.toString())})}Kr(e){return 0}Yr(e,r){return D.or([()=>D.resolve(this.zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Gr(e,r)])}}class Jv{constructor(e){this.serializer=e}N(e,r,s,l){const d=new T("createOrUpgrade",r);var S;s<1&&l>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",td,{unique:!0}),S.createObjectStore("documentMutations"),qg(e),function(S){S.createObjectStore("remoteDocuments")}(e));let g=D.resolve();return s<3&&l>=3&&(0!==s&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),qg(e)),g=g.next(()=>function(S){const U=S.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fn.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",Q)}(d))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(S,U){return U.store("mutations").W().next(Q=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",td,{unique:!0});const ve=U.store("mutations"),Ke=Q.map(Et=>ve.put(Et));return D.waitFor(Ke)})}(e,d))),g=g.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(g=g.next(()=>this.Xr(d))),s<6&&l>=6&&(g=g.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.ei(d)))),s<7&&l>=7&&(g=g.next(()=>this.ti(d))),s<8&&l>=8&&(g=g.next(()=>this.ni(e,d))),s<9&&l>=9&&(g=g.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(g=g.next(()=>this.ri(d))),s<11&&l>=11&&(g=g.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(g=g.next(()=>{!function(S){const U=S.createObjectStore("documentOverlays",{keyPath:Cs});U.createIndex("collectionPathOverlayIndex",hh,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",od,{unique:!1})}(e)})),s<13&&l>=13&&(g=g.next(()=>function(S){const U=S.createObjectStore("remoteDocumentsV14",{keyPath:Ff});U.createIndex("documentKeyIndex",rd),U.createIndex("collectionGroupIndex",id)}(e)).next(()=>this.ii(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(g=g.next(()=>this.si(e,d))),s<15&&l>=15&&(g=g.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:Xi}).createIndex("sequenceNumberIndex",dh,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:nc}).createIndex("documentKeyIndex",fu,{unique:!1})}(e))),s<16&&l>=16&&(g=g.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),g}ei(e){let r=0;return e.store("remoteDocuments").Y((s,l)=>{r+=Bh(l)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.W().next(l=>D.forEach(l,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",g).next(b=>D.forEach(b,S=>{bn(S.userId===d.userId);const U=Ru(this.serializer,S);return Wv(e,d.userId,U).next(()=>{})}))}))}ti(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.Y((g,b)=>{const S=new tr(g),U=[0,Gi(S)];d.push(r.get(U).next(Q=>Q?D.resolve():r.put({targetId:0,path:Gi(S),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>D.waitFor(d))})}ni(e,r){e.createObjectStore("collectionParents",{keyPath:Oa});const s=r.store("collectionParents"),l=new Rc,d=g=>{if(l.add(g)){const b=g.lastSegment(),S=g.popLast();return s.put({collectionId:b,parent:Gi(S)})}};return r.store("remoteDocuments").Y({J:!0},(g,b)=>{const S=new tr(g);return d(S.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([g,b,S],U)=>{const Q=po(b);return d(Q.popLast())}))}ri(e){const r=e.store("targets");return r.Y((s,l)=>{const d=bc(l),g=yI(this.serializer,d);return r.put(g)})}ii(e,r){const s=r.store("remoteDocuments"),l=[];return s.Y((d,g)=>{const b=r.store("remoteDocumentsV14"),S=(ve=g,ve.document?new fn(tr.fromString(ve.document.name).popFirst(5)):ve.noDocument?fn.fromSegments(ve.noDocument.path):ve.unknownDocument?fn.fromSegments(ve.unknownDocument.path):hn()).path.toArray(),U={prefixPath:S.slice(0,S.length-2),collectionGroup:S[S.length-2],documentId:S[S.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};var ve;l.push(b.put(U))}).next(()=>D.waitFor(l))}si(e,r){const s=r.store("mutations"),l=Xv(this.serializer),d=new Gh(Nu.Hr,this.serializer.ct);return s.W().next(g=>{const b=new Map;return g.forEach(S=>{var U;let Q=null!==(U=b.get(S.userId))&&void 0!==U?U:gr();Ru(this.serializer,S).keys().forEach(ve=>Q=Q.add(ve)),b.set(S.userId,Q)}),D.forEach(b,(S,U)=>{const Q=new dr(U),ve=ip.lt(this.serializer,Q),Ke=d.getIndexManager(Q),Et=Fd.lt(Q,this.serializer,Ke,d.referenceDelegate);return new TI(l,Et,ve,Ke).recalculateAndSaveOverlaysForDocumentKeys(new Ml(r,Jr._e),S).next()})})}}function qg(i){i.createObjectStore("targetDocuments",{keyPath:di}).createIndex("documentTargetsIndex",tc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vf,{unique:!0}),i.createObjectStore("targetGlobal")}const e_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class t_{constructor(e,r,s,l,d,g,b,S,U,Q,ve=16){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.oi=d,this.window=g,this.document=b,this._i=U,this.ai=Q,this.ui=ve,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ke=>Promise.resolve(),!t_.D())throw new Vt(Dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qv(this,l),this.Ti=r+"main",this.serializer=new Vg(S),this.Ei=new M(this.Ti,this.ui,new Jv(this.serializer)),this.Qr=new cp(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Xv(this.serializer),this.$r=new eC,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===Q&&Tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Vt(Dt.FAILED_PRECONDITION,e_);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Jr(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var r=this;return this.Ii=function(){var s=(0,ae.A)(function*(l){if(r.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(function(){var r=(0,ae.A)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,ae.A)(function*(){r.started&&(yield r.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ld(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(r=>{r||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(r=>this.isPrimary&&!r?this.yi(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(at(e))return St("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return dp(e).get("owner").next(r=>D.resolve(this.Si(r)))}bi(e){return Ld(e).delete(this.clientId)}Di(){var e=this;return(0,ae.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Ri(s,"clientMetadata");return l.W().next(d=>{const g=e.vi(d,18e5),b=d.filter(S=>-1===g.indexOf(S));return D.forEach(b,S=>l.delete(S.clientId)).next(()=>b)})}).catch(()=>[]);if(e.di)for(const s of r)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?D.resolve(!0):dp(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)){if(this.Si(r)&&this.networkEnabled)return!0;if(!this.Si(r)){if(!r.allowTabSynchronization)throw new Vt(Dt.FAILED_PRECONDITION,e_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ld(e).W().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(r=>(this.isPrimary!==r&&St("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,ae.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Ml(r,Jr._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,r){return e.filter(s=>this.Ci(s.updateTimeMs,r)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ld(e).W().next(r=>this.vi(r,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,r){return Fd.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hg(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ip.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,r,s){St("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",d=16===(S=this.ui)?fh:15===S?ic:14===S?Uf:13===S?rc:12===S?_a:11===S?Lf:void hn();var S;let g;return this.Ei.runTransaction(e,l,d,b=>(g=new Ml(b,this.kr?this.kr.next():Jr._e),"readwrite-primary"===r?this.gi(g).next(S=>!!S||this.pi(g)).next(S=>{if(!S)throw Tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Vt(Dt.FAILED_PRECONDITION,ch);return s(g)}).next(S=>this.wi(g).next(()=>S)):this.ki(g).next(()=>s(g)))).then(b=>(g.raiseOnCommittedEvent(),b))}ki(e){return dp(e).get("owner").next(r=>{if(null!==r&&this.Ci(r.leaseTimestampMs,5e3)&&!this.Mi(r.ownerId)&&!this.Si(r)&&!(this.ai||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Vt(Dt.FAILED_PRECONDITION,e_)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dp(e).put("owner",r)}static D(){return M.D()}yi(e){const r=dp(e);return r.get("owner").next(s=>this.Si(s)?(St("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):D.resolve())}Ci(e,r){const s=Date.now();return!(e<s-r||e>s&&(Tr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const r=/(?:Version|Mobile)\/1[456]/;(0,J.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var r;try{const s=null!==(null===(r=this.di)||void 0===r?void 0:r.getItem(this.Fi(e)));return St("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Tr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Tr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dp(i){return Ri(i,"owner")}function Ld(i){return Ri(i,"clientMetadata")}function Wh(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class n_{constructor(e,r,s,l){this.targetId=e,this.fromCache=r,this.qi=s,this.Qi=l}static Ki(e,r){let s=gr(),l=gr();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new n_(e,r.fromCache,s,l)}}class oC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Xg{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,J.nr)()?8:M.v((0,J.ZQ)())>0?6:4}initialize(e,r){this.zi=e,this.indexManager=r,this.$i=!0}getDocumentsMatchingQuery(e,r,s,l){const d={result:null};return this.ji(e,r).next(g=>{d.result=g}).next(()=>{if(!d.result)return this.Hi(e,r,l,s).next(g=>{d.result=g})}).next(()=>{if(d.result)return;const g=new oC;return this.Ji(e,r,g).next(b=>{if(d.result=b,this.Ui)return this.Yi(e,r,g,b.size)})}).next(()=>d.result)}Yi(e,r,s,l){return s.documentReadCount<this.Wi?(Vr()<=Xe.$b.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",ra(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),D.resolve()):(Vr()<=Xe.$b.DEBUG&&St("QueryEngine","Query:",ra(r),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(Vr()<=Xe.$b.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",ra(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(r))):D.resolve())}ji(e,r){if(kl(r))return D.resolve(null);let s=ls(r);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==r.limit&&1===l&&(r=_d(r,null,"F"),s=ls(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const g=gr(...d);return this.zi.getDocuments(e,g).next(b=>this.indexManager.getMinOffset(e,s).next(S=>{const U=this.Zi(r,b);return this.Xi(r,U,g,S.readTime)?this.ji(e,_d(r,null,"F")):this.es(e,U,r,S)}))})))}Hi(e,r,s,l){return kl(r)||l.isEqual(Fn.min())?D.resolve(null):this.zi.getDocuments(e,s).next(d=>{const g=this.Zi(r,d);return this.Xi(r,g,s,l)?D.resolve(null):(Vr()<=Xe.$b.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ra(r)),this.es(e,g,r,du(l,-1)).next(b=>b))})}Zi(e,r){let s=new ri(Vl(e));return r.forEach((l,d)=>{Fl(e,d)&&(s=s.add(d))}),s}Xi(e,r,s,l){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Ji(e,r,s){return Vr()<=Xe.$b.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",ra(r)),this.zi.getDocumentsMatchingQuery(e,r,Es.min(),s)}es(e,r,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(d=>(r.forEach(g=>{d=d.insert(g.key,g)}),d))}}class MI{constructor(e,r,s,l){this.persistence=e,this.ts=r,this.serializer=l,this.ns=new Tn(jn),this.rs=new La(d=>ya(d),gl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TI(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ns))}}function r_(i,e,r,s){return new MI(i,e,r,s)}function i_(i,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,ae.A)(function*(i,e){const r=un(i);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let l;return r.mutationQueue.getAllMutationBatches(s).next(d=>(l=d,r._s(e),r.mutationQueue.getAllMutationBatches(s))).next(d=>{const g=[],b=[];let S=gr();for(const U of l){g.push(U.batchId);for(const Q of U.mutations)S=S.add(Q.key)}for(const U of d){b.push(U.batchId);for(const Q of U.mutations)S=S.add(Q.key)}return r.localDocuments.getDocuments(s,S).next(U=>({us:U,removedBatchIds:g,addedBatchIds:b}))})})}),Qg.apply(this,arguments)}function Yg(i){const e=un(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Qr.getLastRemoteSnapshotVersion(r))}function s_(i,e,r){let s=gr(),l=gr();return r.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let g=Xo();return r.forEach((b,S)=>{const U=d.get(b);S.isFoundDocument()!==U.isFoundDocument()&&(l=l.add(b)),S.isNoDocument()&&S.version.isEqual(Fn.min())?(e.removeEntry(b,S.readTime),g=g.insert(b,S)):!U.isValidDocument()||S.version.compareTo(U.version)>0||0===S.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(S),g=g.insert(b,S)):St("LocalStore","Ignoring outdated watch update for ",b,". Current version:",U.version," Watch version:",S.version)}),{cs:g,ls:l}})}function xI(i,e){const r=un(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Nc(i,e){const r=un(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.Qr.getTargetData(s,e).next(d=>d?(l=d,D.resolve(l)):r.Qr.allocateTargetId(s).next(g=>(l=new Wl(e,g,"TargetPurposeListen",s.currentSequenceNumber),r.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.ns=r.ns.insert(s.targetId,s),r.rs.set(e,s.targetId)),s})}function Ql(i,e,r){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,ae.A)(function*(i,e,r){const s=un(i),l=s.ns.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!at(g))throw g;St("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)}),Zg.apply(this,arguments)}function Ud(i,e,r){const s=un(i);let l=Fn.min(),d=gr();return s.persistence.runTransaction("Execute query","readwrite",g=>function(S,U,Q){const ve=un(S),Ke=ve.rs.get(Q);return void 0!==Ke?D.resolve(ve.ns.get(Ke)):ve.Qr.getTargetData(U,Q)}(s,g,ls(e)).next(b=>{if(b)return l=b.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(g,b.targetId).next(S=>{d=S})}).next(()=>s.ts.getDocumentsMatchingQuery(g,e,r?l:Fn.min(),r?d:gr())).next(b=>(l_(s,Ah(e),b),{documents:b,hs:d})))}function a_(i,e){const r=un(i),s=un(r.Qr),l=r.ns.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(g=>g?g.target:null))}function Oc(i,e){const r=un(i),s=r.ss.get(e)||Fn.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.os.getAllFromCollectionGroup(l,e,du(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(l_(r,e,l),l))}function l_(i,e,r){let s=i.ss.get(e)||Fn.min();r.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.ss.set(e,s)}function hp(){return hp=(0,ae.A)(function*(i,e,r,s){const l=un(i);let d=gr(),g=Xo();for(const U of r){const Q=e.Ps(U.metadata.name);U.document&&(d=d.add(Q));const ve=e.Is(U);ve.setReadTime(e.Ts(U.metadata.readTime)),g=g.insert(Q,ve)}const b=l.os.newChangeBuffer({trackRemovals:!0}),S=yield Nc(l,(Q=s,ls(Eu(tr.fromString(`__bundle__/docs/${Q}`)))));var Q;return l.persistence.runTransaction("Apply bundle documents","readwrite",U=>s_(U,b,g).next(Q=>(b.apply(U),Q)).next(Q=>l.Qr.removeMatchingKeysForTargetId(U,S.targetId).next(()=>l.Qr.addMatchingKeys(U,d,S.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(U,Q.cs,Q.ls)).next(()=>Q.cs)))}),hp.apply(this,arguments)}function u_(i,e){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,ae.A)(function*(i,e,r=gr()){const s=yield Nc(i,ls(Bv(e.bundledQuery))),l=un(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const g=Zr(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.$r.saveNamedQuery(d,e);const b=s.withResumeToken(io.EMPTY_BYTE_STRING,g);return l.ns=l.ns.insert(b.targetId,b),l.Qr.updateTargetData(d,b).next(()=>l.Qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.Qr.addMatchingKeys(d,r,s.targetId)).next(()=>l.$r.saveNamedQuery(d,e))})}),Jg.apply(this,arguments)}function c_(i,e){return`firestore_clients_${i}_${e}`}function d_(i,e,r){let s=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function em(i,e){return`firestore_targets_${i}_${e}`}class Kh{constructor(e,r,s,l){this.user=e,this.batchId=r,this.state=s,this.error=l}static Es(e,r,s){const l=JSON.parse(s);let d,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(d=new Vt(l.error.code,l.error.message))),g?new Kh(e,r,l.state,d):(Tr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fp{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Es(e,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Vt(s.error.code,s.error.message))),d?new fp(e,s.state,l):(Tr("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tm{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Es(e,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=Yi();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=Na(s.activeTargetIds[g]),d=d.add(s.activeTargetIds[g]);return l?new tm(e,d):(Tr("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class kc{constructor(e,r){this.clientId=e,this.onlineState=r}static Es(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new kc(r.clientId,r.onlineState):(Tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class nm{constructor(){this.activeTargetIds=Yi()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rm{constructor(e,r,s,l,d){this.window=e,this.oi=r,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Tn(jn),this.started=!1,this.ys=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ws=c_(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new nm),this.bs=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ae.A)(function*(){const r=yield e.syncEngine.Bi();for(const l of r){if(l===e.Vs)continue;const d=e.getItem(c_(e.persistenceKey,l));if(d){const g=tm.Es(l,d);g&&(e.ps=e.ps.insert(g.clientId,g))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let r=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,r,s){this.Ls(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(em(this.persistenceKey,e));if(s){const l=fp.Es(e,s);l&&(r=l.state)}}return this.ks.As(e),this.Ms(),r}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(em(this.persistenceKey,e))}updateQueryState(e,r,s){this.qs(e,r,s)}handleUserChange(e,r,s){r.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return St("SharedClientState","READ",e,r),r}setItem(e,r){St("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){St("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(St("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,ae.A)(function*(){if(r.started){if(null!==s.key)if(r.bs.test(s.key)){if(null==s.newValue){const l=r.$s(s.key);return r.Us(l,null)}{const l=r.Ws(s.key,s.newValue);if(l)return r.Us(l.clientId,l)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const l=r.Gs(s.key,s.newValue);if(l)return r.zs(l)}}else if(r.Cs.test(s.key)){if(null!==s.newValue){const l=r.js(s.key,s.newValue);if(l)return r.Hs(l)}}else if(s.key===r.vs){if(null!==s.newValue){const l=r.xs(s.newValue);if(l)return r.Os(l)}}else if(s.key===r.Ss){const l=function(g){let b=Jr._e;if(null!=g)try{const S=JSON.parse(g);bn("number"==typeof S),b=S}catch(S){Tr("SharedClientState","Failed to read sequence number from WebStorage",S)}return b}(s.newValue);l!==Jr._e&&r.sequenceNumberHandler(l)}else if(s.key===r.Fs){const l=r.Js(s.newValue);yield Promise.all(l.map(d=>r.syncEngine.Ys(d)))}}else r.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,r,s){const l=new Kh(this.currentUser,e,r,s),d=d_(this.persistenceKey,this.currentUser,e);this.setItem(d,l.ds())}Bs(e){const r=d_(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,r,s){const l=em(this.persistenceKey,e),d=new fp(e,r,s);this.setItem(l,d.ds())}Ks(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Fs,r)}$s(e){const r=this.bs.exec(e);return r?r[1]:null}Ws(e,r){const s=this.$s(e);return tm.Es(s,r)}Gs(e,r){const s=this.Ds.exec(e),l=Number(s[1]);return Kh.Es(new dr(void 0!==s[2]?s[2]:null),l,r)}js(e,r){const s=this.Cs.exec(e),l=Number(s[1]);return fp.Es(l,r)}xs(e){return kc.Es(e)}Js(e){return JSON.parse(e)}zs(e){var r=this;return(0,ae.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Zs(e.batchId,e.state,e.error);St("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,r){const s=r?this.ps.insert(e,r):this.ps.remove(e),l=this.Ns(this.ps),d=this.Ns(s),g=[],b=[];return d.forEach(S=>{l.has(S)||g.push(S)}),l.forEach(S=>{d.has(S)||b.push(S)}),this.syncEngine.eo(g,b).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let r=Yi();return e.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class h_{constructor(){this.no=new nm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,r,s){this.ro[e]=r}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new nm,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class f_{io(e){}shutdown(){}}class p_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pp=null;function im(){return null===pp?pp=268435456+Math.round(2147483648*Math.random()):pp++,"0x"+pp.toString(16)}const OI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kI{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const ds="WebChannelConnection";class om extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+r.host,this.po=`projects/${l}/databases/${d}`,this.yo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${d}`}get wo(){return!1}So(r,s,l,d,g){const b=im(),S=this.bo(r,s.toUriEncodedString());St("RestConnection",`Sending RPC '${r}' ${b}:`,S,l);const U={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(U,d,g),this.Co(r,S,U,l).then(Q=>(St("RestConnection",`Received RPC '${r}' ${b}: `,Q),Q),Q=>{throw Ei("RestConnection",`RPC '${r}' ${b} failed with error: `,Q,"url: ",S,"request:",l),Q})}vo(r,s,l,d,g,b){return this.So(r,s,l,d,g)}Do(r,s,l){r["X-Goog-Api-Client"]="gl-js/ fire/"+Bt,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,g)=>r[g]=d),l&&l.headers.forEach((d,g)=>r[g]=d)}bo(r,s){return`${this.fo}/v1/${s}:${OI[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,r,s,l){const d=im();return new Promise((g,b)=>{const S=new fr;S.setWithCredentials(!0),S.listenOnce(At.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case Se.NO_ERROR:const Q=S.getResponseJson();St(ds,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(Q)),g(Q);break;case Se.TIMEOUT:St(ds,`RPC '${e}' ${d} timed out`),b(new Vt(Dt.DEADLINE_EXCEEDED,"Request time out"));break;case Se.HTTP_ERROR:const ve=S.getStatus();if(St(ds,`RPC '${e}' ${d} failed with status:`,ve,"response text:",S.getResponseText()),ve>0){let Ke=S.getResponseJson();Array.isArray(Ke)&&(Ke=Ke[0]);const Et=null==Ke?void 0:Ke.error;if(Et&&Et.status&&Et.message){const rn=function(cn){const Qn=cn.toLowerCase().replace(/_/g,"-");return Object.values(Dt).indexOf(Qn)>=0?Qn:Dt.UNKNOWN}(Et.status);b(new Vt(rn,Et.message))}else b(new Vt(Dt.UNKNOWN,"Server responded with status "+S.getStatus()))}else b(new Vt(Dt.UNAVAILABLE,"Connection failed."));break;default:hn()}}finally{St(ds,`RPC '${e}' ${d} completed.`)}});const U=JSON.stringify(l);St(ds,`RPC '${e}' ${d} sending request:`,l),S.send(r,"POST",U,s,15)})}Fo(e,r,s){const l=im(),d=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=x(),b=ne(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(S.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(S.useFetchStreams=!0),this.Do(S.initMessageHeaders,r,s),S.encodeInitMessageHeaders=!0;const Q=d.join("");St(ds,`Creating RPC '${e}' stream ${l}: ${Q}`,S);const ve=g.createWebChannel(Q,S);let Ke=!1,Et=!1;const rn=new kI({lo:cn=>{Et?St(ds,`Not sending because RPC '${e}' stream ${l} is closed:`,cn):(Ke||(St(ds,`Opening RPC '${e}' stream ${l} transport.`),ve.open(),Ke=!0),St(ds,`RPC '${e}' stream ${l} sending:`,cn),ve.send(cn))},ho:()=>ve.close()}),In=(cn,Qn,or)=>{cn.listen(Qn,Xn=>{try{or(Xn)}catch(Vn){setTimeout(()=>{throw Vn},0)}})};return In(ve,Mr.EventType.OPEN,()=>{Et||St(ds,`RPC '${e}' stream ${l} transport opened.`)}),In(ve,Mr.EventType.CLOSE,()=>{Et||(Et=!0,St(ds,`RPC '${e}' stream ${l} transport closed`),rn.Vo())}),In(ve,Mr.EventType.ERROR,cn=>{Et||(Et=!0,Ei(ds,`RPC '${e}' stream ${l} transport errored:`,cn),rn.Vo(new Vt(Dt.UNAVAILABLE,"The operation could not be completed")))}),In(ve,Mr.EventType.MESSAGE,cn=>{var Qn;if(!Et){const or=cn.data[0];bn(!!or);const Vn=or.error||(null===(Qn=or[0])||void 0===Qn?void 0:Qn.error);if(Vn){St(ds,`RPC '${e}' stream ${l} received error:`,Vn);const jr=Vn.status;let Lr=function(KE){const Yc=Zi[KE];if(void 0!==Yc)return Ic(Yc)}(jr),ii=Vn.message;void 0===Lr&&(Lr=Dt.INTERNAL,ii="Unknown error status: "+jr+" with message "+Vn.message),Et=!0,rn.Vo(new Vt(Lr,ii)),ve.close()}else St(ds,`RPC '${e}' stream ${l} received:`,or),rn.mo(or)}}),In(b,Kt.STAT_EVENT,cn=>{cn.stat===_r.PROXY?St(ds,`RPC '${e}' stream ${l} detected buffering proxy`):cn.stat===_r.NOPROXY&&St(ds,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{rn.Ro()},0),rn}}function FI(){return typeof window<"u"?window:null}function sm(){return typeof document<"u"?document:null}function Fc(i){return new Nt(i,!0)}class g_{constructor(e,r,s=1e3,l=1.5,d=6e4){this.oi=e,this.timerId=r,this.Mo=s,this.xo=l,this.Oo=d,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const r=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Bo),l=Math.max(0,r-s);l>0&&St("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.No} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class VI{constructor(e,r,s,l,d,g,b,S){this.oi=e,this.$o=s,this.Uo=l,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=b,this.listener=S,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new g_(e,r)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,ae.A)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,ae.A)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,r){var s=this;return(0,ae.A)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():r&&r.code===Dt.RESOURCE_EXHAUSTED?(Tr(r.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):r&&r.code===Dt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(r)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),r=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Wo===r&&this.o_(s,l)},s=>{e(()=>{const l=new Vt(Dt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(l)})})}o_(e,r){const s=this.s_(this.Wo);this.stream=this.a_(e,r),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(l=>{s(()=>this.__(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Yo(){var e=this;this.state=5,this.jo.qo((0,ae.A)(function*(){e.state=0,e.start()}))}__(e){return St("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return r=>{this.oi.enqueueAndForget(()=>this.Wo===e?r():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sC extends VI{constructor(e,r,s,l,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,l,g),this.serializer=d}a_(e,r){return this.connection.Fo("Listen",e,r)}onMessage(e){this.jo.reset();const r=function np(i,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:hn(),l=e.targetChange.targetIds||[],d=function(U,Q){return U.useProto3Json?(bn(void 0===Q||"string"==typeof Q),io.fromBase64String(Q||"")):(bn(void 0===Q||Q instanceof Buffer||Q instanceof Uint8Array),io.fromUint8Array(Q||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,b=g&&function(U){const Q=void 0===U.code?Dt.UNKNOWN:Ic(U.code);return new Vt(Q,U.message||"")}(g);r=new v(s,l,d,b||null)}else if("documentChange"in e){const s=e.documentChange,l=Ls(i,s.document.name),d=Zr(s.document.updateTime),g=s.document.createTime?Zr(s.document.createTime):Fn.min(),b=new so({mapValue:{fields:s.document.fields}}),S=Ci.newFoundDocument(l,d,g,b);r=new Gl(s.targetIds||[],s.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const s=e.documentDelete,l=Ls(i,s.document),d=s.readTime?Zr(s.readTime):Fn.min(),g=Ci.newNoDocument(l,d);r=new Gl([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,l=Ls(i,s.document);r=new Gl([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return hn();{const s=e.filter,{count:l=0,unchangedNames:d}=s,g=new Ov(l,d);r=new Cc(s.targetId,g)}}var U;return r}(this.serializer,e),s=function(d){if(!("targetChange"in d))return Fn.min();const g=d.targetChange;return g.targetIds&&g.targetIds.length?Fn.min():g.readTime?Zr(g.readTime):Fn.min()}(e);return this.listener.u_(r,s)}c_(e){const r={};r.database=Sd(this.serializer),r.addTarget=function(d,g){let b;const S=g.target;if(b=dc(S)?{documents:kg(d,S)}:{query:rp(d,S).ut},b.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){b.resumeToken=gn(d,g.resumeToken);const U=mn(d,g.expectedCount);null!==U&&(b.expectedCount=U)}else if(g.snapshotVersion.compareTo(Fn.min())>0){b.readTime=An(d,g.snapshotVersion.toTimestamp());const U=mn(d,g.expectedCount);null!==U&&(b.expectedCount=U)}return b}(this.serializer,e);const s=function pI(i,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hn()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.t_(r)}l_(e){const r={};r.database=Sd(this.serializer),r.removeTarget=e,this.t_(r)}}class aC extends VI{constructor(e,r,s,l,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,l,g),this.serializer=d,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,r){return this.connection.Fo("Write",e,r)}onMessage(e){if(bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const r=function kv(i,e){return i&&i.length>0?(bn(void 0!==e),i.map(r=>function(l,d){let g=Zr(l.updateTime?l.updateTime:d);return g.isEqual(Fn.min())&&(g=Zr(d)),new Zf(g,l.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=Zr(e.commitTime);return this.listener.T_(s,r)}return bn(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Sd(this.serializer),this.t_(e)}I_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Pd(this.serializer,s))};this.t_(r)}}class lC extends class{}{constructor(e,r,s,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=l,this.A_=!1}R_(){if(this.A_)throw new Vt(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,s,l){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.So(e,Td(r,s),l,d,g)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Vt(Dt.UNKNOWN,d.toString())})}vo(e,r,s,l,d){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.connection.vo(e,Td(r,s),l,g,b,d)).catch(g=>{throw"FirebaseError"===g.name?(g.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Vt(Dt.UNKNOWN,g.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class gp{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Tr(r),this.g_=!1):St("OnlineStateTracker",r)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class am{constructor(e,r,s,l,d){var g=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=d,this.M_.io(b=>{s.enqueueAndForget((0,ae.A)(function*(){var S;Ou(g)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(S=(0,ae.A)(function*(Q){const ve=un(Q);ve.v_.add(4),yield jd(ve),ve.x_.set("Unknown"),ve.v_.delete(4),yield $d(ve)}),function U(Q){return S.apply(this,arguments)})(g))}))}),this.x_=new gp(s,l)}}function $d(i){return mp.apply(this,arguments)}function mp(){return mp=(0,ae.A)(function*(i){if(Ou(i))for(const e of i.F_)yield e(!0)}),mp.apply(this,arguments)}function jd(i){return lm.apply(this,arguments)}function lm(){return lm=(0,ae.A)(function*(i){for(const e of i.F_)yield e(!1)}),lm.apply(this,arguments)}function qh(i,e){const r=un(i);r.C_.has(e.targetId)||(r.C_.set(e.targetId,e),m_(r)?vp(r):Ea(r).Jo()&&As(r,e))}function Ka(i,e){const r=un(i),s=Ea(r);r.C_.delete(e),s.Jo()&&Yl(r,e),0===r.C_.size&&(s.Jo()?s.Xo():Ou(r)&&r.x_.set("Unknown"))}function As(i,e){if(i.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fn.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ea(i).c_(e)}function Yl(i,e){i.O_.Oe(e),Ea(i).l_(e)}function vp(i){i.O_=new p({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.C_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ea(i).start(),i.x_.p_()}function m_(i){return Ou(i)&&!Ea(i).Ho()&&i.C_.size>0}function Ou(i){return 0===un(i).v_.size}function UI(i){i.O_=void 0}function uC(i){return _p.apply(this,arguments)}function _p(){return _p=(0,ae.A)(function*(i){i.C_.forEach((e,r)=>{As(i,e)})}),_p.apply(this,arguments)}function v_(i,e){return __.apply(this,arguments)}function __(){return __=(0,ae.A)(function*(i,e){UI(i),m_(i)?(i.x_.S_(e),vp(i)):i.x_.set("Unknown")}),__.apply(this,arguments)}function yp(i,e,r){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,ae.A)(function*(i,e,r){if(i.x_.set("Online"),e instanceof v&&2===e.state&&e.cause)try{yield(s=(0,ae.A)(function*(d,g){const b=g.cause;for(const S of g.targetIds)d.C_.has(S)&&(yield d.remoteSyncer.rejectListen(S,b),d.C_.delete(S),d.O_.removeTarget(S))}),function l(d,g){return s.apply(this,arguments)})(i,e)}catch(s){St("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Hd(i,s)}else if(e instanceof Gl?i.O_.$e(e):e instanceof Cc?i.O_.Je(e):i.O_.Ge(e),!r.isEqual(Fn.min()))try{const s=yield Yg(i.localStore);r.compareTo(s)>=0&&(yield function(d,g){const b=d.O_.it(g);return b.targetChanges.forEach((S,U)=>{if(S.resumeToken.approximateByteSize()>0){const Q=d.C_.get(U);Q&&d.C_.set(U,Q.withResumeToken(S.resumeToken,g))}}),b.targetMismatches.forEach((S,U)=>{const Q=d.C_.get(S);if(!Q)return;d.C_.set(S,Q.withResumeToken(io.EMPTY_BYTE_STRING,Q.snapshotVersion)),Yl(d,S);const ve=new Wl(Q.target,S,U,Q.sequenceNumber);As(d,ve)}),d.remoteSyncer.applyRemoteEvent(b)}(i,r))}catch(s){St("RemoteStore","Failed to raise snapshot:",s),yield Hd(i,s)}var s}),Xh.apply(this,arguments)}function Hd(i,e,r){return um.apply(this,arguments)}function um(){return um=(0,ae.A)(function*(i,e,r){if(!at(e))throw e;i.v_.add(1),yield jd(i),i.x_.set("Offline"),r||(r=()=>Yg(i.localStore)),i.asyncQueue.enqueueRetryable((0,ae.A)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield r(),i.v_.delete(1),yield $d(i)}))}),um.apply(this,arguments)}function Vc(i,e){return e().catch(r=>Hd(i,r,e))}function ku(i){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,ae.A)(function*(i){const e=un(i),r=Zl(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;cm(e);)try{const l=yield xI(e.localStore,s);if(null===l){0===e.D_.length&&r.Xo();break}s=l.batchId,Ep(e,l)}catch(l){yield Hd(e,l)}y_(e)&&I_(e)}),Ip.apply(this,arguments)}function cm(i){return Ou(i)&&i.D_.length<10}function Ep(i,e){i.D_.push(e);const r=Zl(i);r.Jo()&&r.P_&&r.I_(e.mutations)}function y_(i){return Ou(i)&&!Zl(i).Ho()&&i.D_.length>0}function I_(i){Zl(i).start()}function E_(i){return dm.apply(this,arguments)}function dm(){return dm=(0,ae.A)(function*(i){Zl(i).d_()}),dm.apply(this,arguments)}function BI(i){return hm.apply(this,arguments)}function hm(){return hm=(0,ae.A)(function*(i){const e=Zl(i);for(const r of i.D_)e.I_(r.mutations)}),hm.apply(this,arguments)}function C_(i,e,r){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,ae.A)(function*(i,e,r){const s=i.D_.shift(),l=Rh.from(s,e,r);yield Vc(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield ku(i)}),Lc.apply(this,arguments)}function Cp(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,ae.A)(function*(i,e){var r;e&&Zl(i).P_&&(yield(r=(0,ae.A)(function*(l,d){if(_l(b=d.code)&&b!==Dt.ABORTED){const g=l.D_.shift();Zl(l).Zo(),yield Vc(l,()=>l.remoteSyncer.rejectFailedWrite(g.batchId,d)),yield ku(l)}var b}),function s(l,d){return r.apply(this,arguments)})(i,e)),y_(i)&&I_(i)}),Qh.apply(this,arguments)}function D_(i,e){return fm.apply(this,arguments)}function fm(){return fm=(0,ae.A)(function*(i,e){const r=un(i);r.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const s=Ou(r);r.v_.add(3),yield jd(r),s&&r.x_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.v_.delete(3),yield $d(r)}),fm.apply(this,arguments)}function Yh(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,ae.A)(function*(i,e){const r=un(i);e?(r.v_.delete(2),yield $d(r)):e||(r.v_.add(2),yield jd(r),r.x_.set("Unknown"))}),Dp.apply(this,arguments)}function Ea(i){return i.N_||(i.N_=function(r,s,l){const d=un(r);return d.R_(),new sC(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{Po:uC.bind(null,i),To:v_.bind(null,i),u_:yp.bind(null,i)}),i.F_.push(function(){var e=(0,ae.A)(function*(r){r?(i.N_.Zo(),m_(i)?vp(i):i.x_.set("Unknown")):(yield i.N_.stop(),UI(i))});return function(r){return e.apply(this,arguments)}}())),i.N_}function Zl(i){return i.L_||(i.L_=function(r,s,l){const d=un(r);return d.R_(),new aC(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{Po:E_.bind(null,i),To:Cp.bind(null,i),E_:BI.bind(null,i),T_:C_.bind(null,i)}),i.F_.push(function(){var e=(0,ae.A)(function*(r){r?(i.L_.Zo(),yield ku(i)):(yield i.L_.stop(),i.D_.length>0&&(St("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(r){return e.apply(this,arguments)}}())),i.L_}class Ap{constructor(e,r,s,l,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,l,d){const g=Date.now()+s,b=new Ap(e,r,g,l,d);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vt(Dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gd(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),at(i))return new Vt(Dt.UNAVAILABLE,`${e}: ${i}`);throw i}class Zh{constructor(e){this.comparator=e?(r,s)=>e(r,s)||fn.comparator(r.key,s.key):(r,s)=>fn.comparator(r.key,s.key),this.keyedMap=Cu(),this.sortedSet=new Tn(this.comparator)}static emptySet(e){return new Zh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Zh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new Zh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Jh{constructor(){this.B_=new Tn(fn.comparator)}track(e){const r=e.doc.key,s=this.B_.get(r);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(r,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(r):1===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):hn():this.B_=this.B_.insert(r,e)}k_(){const e=[];return this.B_.inorderTraversal((r,s)=>{e.push(s)}),e}}class zd{constructor(e,r,s,l,d,g,b,S,U){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=b,this.excludesMetadataChanges=S,this.hasCachedResults=U}static fromInitialDocuments(e,r,s,l,d){const g=[];return r.forEach(b=>{g.push({type:0,doc:b})}),new zd(e,r,Zh.emptySet(r),g,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class A_{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class T_{constructor(){this.queries=new La(e=>jf(e),Oo),this.onlineState="Unknown",this.W_=new Set}}function Tp(i,e){return ef.apply(this,arguments)}function ef(){return ef=(0,ae.A)(function*(i,e){const r=un(i);let s=3;const l=e.query;let d=r.queries.get(l);d?!d.K_()&&e.U_()&&(s=2):(d=new A_,s=e.U_()?0:1);try{switch(s){case 0:d.q_=yield r.onListen(l,!0);break;case 1:d.q_=yield r.onListen(l,!1);break;case 2:yield r.onFirstRemoteStoreListen(l)}}catch(g){const b=Gd(g,`Initialization of query '${ra(e.query)}' failed`);return void e.onError(b)}r.queries.set(l,d),d.Q_.push(e),e.G_(r.onlineState),d.q_&&e.z_(d.q_)&&nf(r)}),ef.apply(this,arguments)}function wp(i,e){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,ae.A)(function*(i,e){const r=un(i),s=e.query;let l=3;const d=r.queries.get(s);if(d){const g=d.Q_.indexOf(e);g>=0&&(d.Q_.splice(g,1),0===d.Q_.length?l=e.U_()?0:1:!d.K_()&&e.U_()&&(l=2))}switch(l){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}),Wd.apply(this,arguments)}function tf(i,e){const r=un(i);let s=!1;for(const l of e){const g=r.queries.get(l.query);if(g){for(const b of g.Q_)b.z_(l)&&(s=!0);g.q_=l}}s&&nf(r)}function w_(i,e,r){const s=un(i),l=s.queries.get(e);if(l)for(const d of l.Q_)d.onError(r);s.queries.delete(e)}function nf(i){i.W_.forEach(e=>{e.next()})}var Uc,pm;(pm=Uc||(Uc={})).j_="default",pm.Cache="cache";class rf{constructor(e,r,s){this.query=e,this.H_=r,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=s||{}}z_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new zd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),r=!0):this.X_(e,this.onlineState)&&(this.ea(e),r=!0),this.Y_=e,r}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let r=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),r=!0),r}X_(e,r){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Uc.Cache}}class bp{constructor(e,r){this.na=e,this.byteLength=r}ra(){return"metadata"in this.na}}class b_{constructor(e){this.serializer=e}Ps(e){return Ls(this.serializer,e)}Is(e){return e.metadata.exists?tp(this.serializer,e.document,!1):Ci.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Zr(e)}}class S_{constructor(e,r,s){this.ia=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=R_(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++r;const s=tr.fromString(e.na.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}oa(e){const r=new Map,s=new b_(this.serializer);for(const l of e)if(l.metadata.queries){const d=s.Ps(l.metadata.name);for(const g of l.metadata.queries){const b=(r.get(g)||gr()).add(d);r.set(g,b)}}return r}complete(){var e=this;return(0,ae.A)(function*(){const r=yield function NI(i,e,r,s){return hp.apply(this,arguments)}(e.localStore,new b_(e.serializer),e.documents,e.ia.id),s=e.oa(e.documents);for(const l of e.queries)yield u_(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,_a:e.collectionGroups,aa:r}})()}}function R_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class M_{constructor(e){this.key=e}}class P_{constructor(e){this.key=e}}class gm{constructor(e,r){this.query=e,this.ua=r,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=gr(),this.mutatedKeys=gr(),this.ha=Vl(e),this.Pa=new Zh(this.ha)}get Ia(){return this.ua}Ta(e,r){const s=r?r.Ea:new Jh,l=r?r.Pa:this.Pa;let d=r?r.mutatedKeys:this.mutatedKeys,g=l,b=!1;const S="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,U="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Q,ve)=>{const Ke=l.get(Q),Et=Fl(this.query,ve)?ve:null,rn=!!Ke&&this.mutatedKeys.has(Ke.key),In=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let cn=!1;Ke&&Et?Ke.data.isEqual(Et.data)?rn!==In&&(s.track({type:3,doc:Et}),cn=!0):this.da(Ke,Et)||(s.track({type:2,doc:Et}),cn=!0,(S&&this.ha(Et,S)>0||U&&this.ha(Et,U)<0)&&(b=!0)):!Ke&&Et?(s.track({type:0,doc:Et}),cn=!0):Ke&&!Et&&(s.track({type:1,doc:Ke}),cn=!0,(S||U)&&(b=!0)),cn&&(Et?(g=g.add(Et),d=In?d.add(Q):d.delete(Q)):(g=g.delete(Q),d=d.delete(Q)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const Q="F"===this.query.limitType?g.last():g.first();g=g.delete(Q.key),d=d.delete(Q.key),s.track({type:1,doc:Q})}return{Pa:g,Ea:s,Xi:b,mutatedKeys:d}}da(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,l){const d=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const g=e.Ea.k_();g.sort((Q,ve)=>function(Et,rn){const In=cn=>{switch(cn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hn()}};return In(Et)-In(rn)}(Q.type,ve.type)||this.ha(Q.doc,ve.doc)),this.Aa(s),l=null!=l&&l;const b=r&&!l?this.Ra():[],S=0===this.la.size&&this.current&&!l?1:0,U=S!==this.ca;return this.ca=S,0!==g.length||U?{snapshot:new zd(this.query,e.Pa,d,g,e.mutatedKeys,0===S,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),Va:b}:{Va:b}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Jh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(r=>this.ua=this.ua.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.ua=this.ua.delete(r)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=gr(),this.Pa.forEach(s=>{this.ma(s.key)&&(this.la=this.la.add(s.key))});const r=[];return e.forEach(s=>{this.la.has(s)||r.push(new P_(s))}),this.la.forEach(s=>{e.has(s)||r.push(new M_(s))}),r}fa(e){this.ua=e.hs,this.la=gr();const r=this.Ta(e.documents);return this.applyChanges(r,!0)}ga(){return zd.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class x_{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class Sr{constructor(e){this.key=e,this.pa=!1}}class N_{constructor(e,r,s,l,d,g){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.ya={},this.wa=new La(b=>jf(b),Oo),this.Sa=new Map,this.ba=new Set,this.Da=new Tn(fn.comparator),this.Ca=new Map,this.va=new Zv,this.Fa={},this.Ma=new Map,this.xa=Mu.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function O_(i,e){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,ae.A)(function*(i,e,r=!0){const s=Pm(i);let l;const d=s.wa.get(e);return d?(s.sharedClientState.addLocalQueryTarget(d.targetId),l=d.view.ga()):l=yield F_(s,e,r,!0),l}),Fu.apply(this,arguments)}function k_(i,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,ae.A)(function*(i,e){const r=Pm(i);yield F_(r,e,!0,!1)}),Sp.apply(this,arguments)}function F_(i,e,r,s){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,ae.A)(function*(i,e,r,s){const l=yield Nc(i.localStore,ls(e)),d=l.targetId,g=r?i.sharedClientState.addLocalQueryTarget(d):"not-current";let b;return s&&(b=yield Vu(i,e,d,"current"===g,l.resumeToken)),i.isPrimaryClient&&r&&qh(i.remoteStore,l),b}),Kd.apply(this,arguments)}function Vu(i,e,r,s,l){return sf.apply(this,arguments)}function sf(){return sf=(0,ae.A)(function*(i,e,r,s,l){i.Na=(ve,Ke,Et)=>{return(rn=(0,ae.A)(function*(cn,Qn,or,Xn){let Vn=Qn.view.Ta(or);Vn.Xi&&(Vn=yield Ud(cn.localStore,Qn.query,!1).then(({documents:Fo})=>Qn.view.Ta(Fo,Vn)));const jr=Xn&&Xn.targetChanges.get(Qn.targetId),Lr=Xn&&null!=Xn.targetMismatches.get(Qn.targetId),ii=Qn.view.applyChanges(Vn,cn.isPrimaryClient,jr,Lr);return Dm(cn,Qn.targetId,ii.Va),ii.snapshot}),function In(cn,Qn,or,Xn){return rn.apply(this,arguments)})(i,ve,Ke,Et);var rn};const d=yield Ud(i.localStore,e,!0),g=new gm(e,d.hs),b=g.Ta(d.documents),S=wu.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState,l),U=g.applyChanges(b,i.isPrimaryClient,S);Dm(i,r,U.Va);const Q=new x_(e,r,g);return i.wa.set(e,Q),i.Sa.has(r)?i.Sa.get(r).push(e):i.Sa.set(r,[e]),U.snapshot}),sf.apply(this,arguments)}function af(i,e,r){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,ae.A)(function*(i,e,r){const s=un(i),l=s.wa.get(e),d=s.Sa.get(l.targetId);if(d.length>1)return s.Sa.set(l.targetId,d.filter(g=>!Oo(g,e))),void s.wa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Ql(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),r&&Ka(s.remoteStore,l.targetId),To(s,l.targetId)}).catch(y))):(To(s,l.targetId),yield Ql(s.localStore,l.targetId,!0))}),Rp.apply(this,arguments)}function mm(i,e){return lf.apply(this,arguments)}function lf(){return lf=(0,ae.A)(function*(i,e){const r=un(i),s=r.wa.get(e),l=r.Sa.get(s.targetId);r.isPrimaryClient&&1===l.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Ka(r.remoteStore,s.targetId))}),lf.apply(this,arguments)}function Mp(){return Mp=(0,ae.A)(function*(i,e,r){const s=Fp(i);try{const l=yield function(g,b){const S=un(g),U=Cr.now(),Q=b.reduce((Et,rn)=>Et.add(rn.key),gr());let ve,Ke;return S.persistence.runTransaction("Locally write mutations","readwrite",Et=>{let rn=Xo(),In=gr();return S.os.getEntries(Et,Q).next(cn=>{rn=cn,rn.forEach((Qn,or)=>{or.isValidDocument()||(In=In.add(Qn))})}).next(()=>S.localDocuments.getOverlayedDocuments(Et,rn)).next(cn=>{ve=cn;const Qn=[];for(const or of b){const Xn=us(or,ve.get(or.key).overlayedDocument);null!=Xn&&Qn.push(new Do(or.key,Xn,_h(Xn.value.mapValue),Di.exists(!0)))}return S.mutationQueue.addMutationBatch(Et,U,Qn,b)}).next(cn=>{Ke=cn;const Qn=cn.applyToLocalDocumentSet(ve,In);return S.documentOverlayCache.saveOverlays(Et,cn.batchId,Qn)})}).then(()=>({batchId:Ke.batchId,changes:Hf(ve)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(g,b,S){let U=g.Fa[g.currentUser.toKey()];U||(U=new Tn(jn)),U=U.insert(b,S),g.Fa[g.currentUser.toKey()]=U}(s,l.batchId,r),yield El(s,l.changes),yield ku(s.remoteStore)}catch(l){const d=Gd(l,"Failed to persist write");r.reject(d)}}),Mp.apply(this,arguments)}function Pp(i,e){return _m.apply(this,arguments)}function _m(){return _m=(0,ae.A)(function*(i,e){const r=un(i);try{const s=yield function o_(i,e){const r=un(i),s=e.snapshotVersion;let l=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=r.os.newChangeBuffer({trackRemovals:!0});l=r.ns;const b=[];e.targetChanges.forEach((Q,ve)=>{const Ke=l.get(ve);if(!Ke)return;b.push(r.Qr.removeMatchingKeys(d,Q.removedDocuments,ve).next(()=>r.Qr.addMatchingKeys(d,Q.addedDocuments,ve)));let Et=Ke.withSequenceNumber(d.currentSequenceNumber);var In,cn,Qn;null!==e.targetMismatches.get(ve)?Et=Et.withResumeToken(io.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):Q.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(Q.resumeToken,s)),l=l.insert(ve,Et),cn=Et,Qn=Q,(0===(In=Ke).resumeToken.approximateByteSize()||cn.snapshotVersion.toMicroseconds()-In.snapshotVersion.toMicroseconds()>=3e8||Qn.addedDocuments.size+Qn.modifiedDocuments.size+Qn.removedDocuments.size>0)&&b.push(r.Qr.updateTargetData(d,Et))});let S=Xo(),U=gr();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(d,Q))}),b.push(s_(d,g,e.documentUpdates).next(Q=>{S=Q.cs,U=Q.ls})),!s.isEqual(Fn.min())){const Q=r.Qr.getLastRemoteSnapshotVersion(d).next(ve=>r.Qr.setTargetsMetadata(d,d.currentSequenceNumber,s));b.push(Q)}return D.waitFor(b).next(()=>g.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,S,U)).next(()=>S)}).then(d=>(r.ns=l,d))}(r.localStore,e);e.targetChanges.forEach((l,d)=>{const g=r.Ca.get(d);g&&(bn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.pa=!0:l.modifiedDocuments.size>0?bn(g.pa):l.removedDocuments.size>0&&(bn(g.pa),g.pa=!1))}),yield El(r,s,e)}catch(s){yield y(s)}}),_m.apply(this,arguments)}function V_(i,e,r){const s=un(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.wa.forEach((d,g)=>{const b=g.view.G_(e);b.snapshot&&l.push(b.snapshot)}),function(g,b){const S=un(g);S.onlineState=b;let U=!1;S.queries.forEach((Q,ve)=>{for(const Ke of ve.Q_)Ke.G_(b)&&(U=!0)}),U&&nf(S)}(s.eventManager,e),l.length&&s.ya.u_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function $I(i,e,r){return xp.apply(this,arguments)}function xp(){return xp=(0,ae.A)(function*(i,e,r){const s=un(i);s.sharedClientState.updateQueryState(e,"rejected",r);const l=s.Ca.get(e),d=l&&l.key;if(d){let g=new Tn(fn.comparator);g=g.insert(d,Ci.newNoDocument(d,Fn.min()));const b=gr().add(d),S=new Tu(Fn.min(),new Map,new Tn(jn),g,b);yield Pp(s,S),s.Da=s.Da.remove(d),s.Ca.delete(e),uf(s)}else yield Ql(s.localStore,e,!1).then(()=>To(s,e,r)).catch(y)}),xp.apply(this,arguments)}function jI(i,e){return ym.apply(this,arguments)}function ym(){return ym=(0,ae.A)(function*(i,e){const r=un(i),s=e.batch.batchId;try{const l=yield function PI(i,e){const r=un(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=r.os.newChangeBuffer({trackRemovals:!0});return function(b,S,U,Q){const ve=U.batch,Ke=ve.keys();let Et=D.resolve();return Ke.forEach(rn=>{Et=Et.next(()=>Q.getEntry(S,rn)).next(In=>{const cn=U.docVersions.get(rn);bn(null!==cn),In.version.compareTo(cn)<0&&(ve.applyToRemoteDocument(In,U),In.isValidDocument()&&(In.setReadTime(U.commitVersion),Q.addEntry(In)))})}),Et.next(()=>b.mutationQueue.removeMutationBatch(S,ve))}(r,s,e,d).next(()=>d.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(b){let S=gr();for(let U=0;U<b.mutationResults.length;++U)b.mutationResults[U].transformResults.length>0&&(S=S.add(b.batch.mutations[U].key));return S}(e))).next(()=>r.localDocuments.getDocuments(s,l))})}(r.localStore,e);Cm(r,s,null),Em(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield El(r,l)}catch(l){yield y(l)}}),ym.apply(this,arguments)}function HI(i,e,r){return Im.apply(this,arguments)}function Im(){return Im=(0,ae.A)(function*(i,e,r){const s=un(i);try{const l=yield function(g,b){const S=un(g);return S.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let Q;return S.mutationQueue.lookupMutationBatch(U,b).next(ve=>(bn(null!==ve),Q=ve.keys(),S.mutationQueue.removeMutationBatch(U,ve))).next(()=>S.mutationQueue.performConsistencyCheck(U)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(U,Q,b)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,Q)).next(()=>S.localDocuments.getDocuments(U,Q))})}(s.localStore,e);Cm(s,e,r),Em(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield El(s,l)}catch(l){yield y(l)}}),Im.apply(this,arguments)}function Np(){return Np=(0,ae.A)(function*(i,e){const r=un(i);Ou(r.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(g){const b=un(g);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>b.mutationQueue.getHighestUnacknowledgedBatchId(S))}(r.localStore);if(-1===s)return void e.resolve();const l=r.Ma.get(s)||[];l.push(e),r.Ma.set(s,l)}catch(s){const l=Gd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Np.apply(this,arguments)}function Em(i,e){(i.Ma.get(e)||[]).forEach(r=>{r.resolve()}),i.Ma.delete(e)}function Cm(i,e,r){const s=un(i);let l=s.Fa[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(r?d.reject(r):d.resolve(),l=l.remove(e)),s.Fa[s.currentUser.toKey()]=l}}function To(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Sa.get(e))i.wa.delete(s),r&&i.ya.La(s,r);i.Sa.delete(e),i.isPrimaryClient&&i.va.Vr(e).forEach(s=>{i.va.containsKey(s)||U_(i,s)})}function U_(i,e){i.ba.delete(e.path.canonicalString());const r=i.Da.get(e);null!==r&&(Ka(i.remoteStore,r),i.Da=i.Da.remove(e),i.Ca.delete(r),uf(i))}function Dm(i,e,r){for(const s of r)s instanceof M_?(i.va.addReference(s.key,e),cC(i,s)):s instanceof P_?(St("SyncEngine","Document no longer in limbo: "+s.key),i.va.removeReference(s.key,e),i.va.containsKey(s.key)||U_(i,s.key)):hn()}function cC(i,e){const r=e.key,s=r.path.canonicalString();i.Da.get(r)||i.ba.has(s)||(St("SyncEngine","New document in limbo: "+r),i.ba.add(s),uf(i))}function uf(i){for(;i.ba.size>0&&i.Da.size<i.maxConcurrentLimboResolutions;){const e=i.ba.values().next().value;i.ba.delete(e);const r=new fn(tr.fromString(e)),s=i.xa.next();i.Ca.set(s,new Sr(r)),i.Da=i.Da.insert(r,s),qh(i.remoteStore,new Wl(ls(Eu(r.path)),s,"TargetPurposeLimboResolution",Jr._e))}}function El(i,e,r){return Am.apply(this,arguments)}function Am(){return Am=(0,ae.A)(function*(i,e,r){const s=un(i),l=[],d=[],g=[];var b;s.wa.isEmpty()||(s.wa.forEach((b,S)=>{g.push(s.Na(S,e,r).then(U=>{if((U||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(S.targetId,null!=U&&U.fromCache?"not-current":"current"),U){l.push(U);const Q=n_.Ki(S.targetId,U);d.push(Q)}}))}),yield Promise.all(g),s.ya.u_(l),yield(b=(0,ae.A)(function*(U,Q){const ve=un(U);try{yield ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ke=>D.forEach(Q,Et=>D.forEach(Et.qi,rn=>ve.persistence.referenceDelegate.addReference(Ke,Et.targetId,rn)).next(()=>D.forEach(Et.Qi,rn=>ve.persistence.referenceDelegate.removeReference(Ke,Et.targetId,rn)))))}catch(Ke){if(!at(Ke))throw Ke;St("LocalStore","Failed to update sequence numbers: "+Ke)}for(const Ke of Q){const Et=Ke.targetId;if(!Ke.fromCache){const rn=ve.ns.get(Et),cn=rn.withLastLimboFreeSnapshotVersion(rn.snapshotVersion);ve.ns=ve.ns.insert(Et,cn)}}}),function S(U,Q){return b.apply(this,arguments)})(s.localStore,d))}),Am.apply(this,arguments)}function GI(i,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,ae.A)(function*(i,e){const r=un(i);if(!r.currentUser.isEqual(e)){St("SyncEngine","User change. New user:",e.toKey());const s=yield i_(r.localStore,e);r.currentUser=e,(d=r).Ma.forEach(b=>{b.forEach(S=>{S.reject(new Vt(Dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Ma.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield El(r,s.us)}var d}),Tm.apply(this,arguments)}function B_(i,e){const r=un(i),s=r.Ca.get(e);if(s&&s.pa)return gr().add(s.key);{let l=gr();const d=r.Sa.get(e);if(!d)return l;for(const g of d){const b=r.wa.get(g);l=l.unionWith(b.view.Ia)}return l}}function zI(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,ae.A)(function*(i,e){const r=un(i),s=yield Ud(r.localStore,e.query,!0),l=e.view.fa(s);return r.isPrimaryClient&&Dm(r,e.targetId,l.Va),l}),wm.apply(this,arguments)}function bm(i,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,ae.A)(function*(i,e){const r=un(i);return Oc(r.localStore,e).then(s=>El(r,s))}),Sm.apply(this,arguments)}function WI(i,e,r,s){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,ae.A)(function*(i,e,r,s){const l=un(i),d=yield function(b,S){const U=un(b),Q=un(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",ve=>Q.vn(ve,S).next(Ke=>Ke?U.localDocuments.getDocuments(ve,Ke):D.resolve(null)))}(l.localStore,e);var S;null!==d?("pending"===r?yield ku(l.remoteStore):"acknowledged"===r||"rejected"===r?(Cm(l,e,s||null),Em(l,e),S=e,un(un(l.localStore).mutationQueue).Mn(S)):hn(),yield El(l,d)):St("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rm.apply(this,arguments)}function Mm(){return Mm=(0,ae.A)(function*(i,e){const r=un(i);if(Pm(r),Fp(r),!0===e&&!0!==r.Oa){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield qa(r,s.toArray());r.Oa=!0,yield Yh(r.remoteStore,!0);for(const d of l)qh(r.remoteStore,d)}else if(!1===e&&!1!==r.Oa){const s=[];let l=Promise.resolve();r.Sa.forEach((d,g)=>{r.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>(To(r,g),Ql(r.localStore,g,!0))),Ka(r.remoteStore,g)}),yield l,yield qa(r,s),function(g){const b=un(g);b.Ca.forEach((S,U)=>{Ka(b.remoteStore,U)}),b.va.mr(),b.Ca=new Map,b.Da=new Tn(fn.comparator)}(r),r.Oa=!1,yield Yh(r.remoteStore,!1)}}),Mm.apply(this,arguments)}function qa(i,e,r){return cf.apply(this,arguments)}function cf(){return cf=(0,ae.A)(function*(i,e,r){const s=un(i),l=[],d=[];for(const g of e){let b;const S=s.Sa.get(g);if(S&&0!==S.length){b=yield Nc(s.localStore,ls(S[0]));for(const U of S){const Q=s.wa.get(U),ve=yield zI(s,Q);ve.snapshot&&d.push(ve.snapshot)}}else{const U=yield a_(s.localStore,g);b=yield Nc(s.localStore,U),yield Vu(s,$_(U),g,!1,b.resumeToken)}l.push(b)}return s.ya.u_(d),l}),cf.apply(this,arguments)}function $_(i){return Iu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function qI(i){return r=un(i).localStore,un(un(r).persistence).Bi();var r}function j_(i,e,r,s){return Op.apply(this,arguments)}function Op(){return Op=(0,ae.A)(function*(i,e,r,s){const l=un(i);if(l.Oa)return void St("SyncEngine","Ignoring unexpected query state notification.");const d=l.Sa.get(e);if(d&&d.length>0)switch(r){case"current":case"not-current":{const g=yield Oc(l.localStore,Ah(d[0])),b=Tu.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,io.EMPTY_BYTE_STRING);yield El(l,g,b);break}case"rejected":yield Ql(l.localStore,e,!0),To(l,e,s);break;default:hn()}}),Op.apply(this,arguments)}function kp(i,e,r){return df.apply(this,arguments)}function df(){return df=(0,ae.A)(function*(i,e,r){const s=Pm(i);if(s.Oa){for(const l of e){if(s.Sa.has(l)&&s.sharedClientState.isActiveQueryTarget(l)){St("SyncEngine","Adding an already active target "+l);continue}const d=yield a_(s.localStore,l),g=yield Nc(s.localStore,d);yield Vu(s,$_(d),g.targetId,!1,g.resumeToken),qh(s.remoteStore,g)}for(const l of r)s.Sa.has(l)&&(yield Ql(s.localStore,l,!1).then(()=>{Ka(s.remoteStore,l),To(s,l)}).catch(y))}}),df.apply(this,arguments)}function Pm(i){const e=un(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$I.bind(null,e),e.ya.u_=tf.bind(null,e.eventManager),e.ya.La=w_.bind(null,e.eventManager),e}function Fp(i){const e=un(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HI.bind(null,e),e}class Bc{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,ae.A)(function*(){r.serializer=Fc(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return r_(this.persistence,new Xg,e.initialUser,this.serializer)}createPersistence(e){return new Gh(Nu.Hr,this.serializer)}createSharedClientState(e){return new h_}terminate(){var e=this;return(0,ae.A)(function*(){var r,s;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hf extends Bc{constructor(e,r,s){super(),this.ka=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,ae.A)(function*(){yield r().call(s,e),yield s.ka.initialize(s,e),yield Fp(s.ka.syncEngine),yield ku(s.ka.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return r_(this.persistence,new Xg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new jh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new zr(r,this.persistence);return new pi(e.asyncQueue,s)}createPersistence(e){const r=Wh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ko.withCacheSize(this.cacheSizeBytes):ko.DEFAULT;return new t_(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,FI(),sm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new h_}}class Cl extends hf{constructor(e,r){super(e,r,!1),this.ka=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,ae.A)(function*(){yield r().call(s,e);const l=s.ka.syncEngine;s.sharedClientState instanceof rm&&(s.sharedClientState.syncEngine={Zs:WI.bind(null,l),Xs:j_.bind(null,l),eo:kp.bind(null,l),Bi:qI.bind(null,l),Ys:bm.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var d=(0,ae.A)(function*(g){yield function KI(i,e){return Mm.apply(this,arguments)}(s.ka.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const r=FI();if(!rm.D(r))throw new Vt(Dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Wh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rm(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class qd{initialize(e,r){var s=this;return(0,ae.A)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>V_(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=GI.bind(null,s.syncEngine),yield Yh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new T_}createDatastore(e){const r=Fc(e.databaseInfo.databaseId),s=new om(e.databaseInfo);return new lC(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,l=this.datastore,d=e.asyncQueue,g=r=>V_(this.syncEngine,r,0),b=p_.D()?new p_:new f_,new am(s,l,d,g,b);var s,l,d,g,b}createSyncEngine(e,r){return function(l,d,g,b,S,U,Q){const ve=new N_(l,d,g,b,S,U);return Q&&(ve.Oa=!0),ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,ae.A)(function*(){var r,s;yield(s=(0,ae.A)(function*(d){const g=un(d);St("RemoteStore","RemoteStore shutting down."),g.v_.add(5),yield jd(g),g.M_.shutdown(),g.x_.set("Unknown")}),function l(d){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate()})()}}function G_(i,e=10240){let r=0;return{read:()=>(0,ae.A)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,ae.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Xd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class XI{constructor(e,r){this.Ka=e,this.serializer=r,this.metadata=new ar,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then(s=>{s&&s.ra()?this.metadata.resolve(s.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.na)}`))},s=>this.metadata.reject(s))}close(){return this.Ka.cancel()}getMetadata(){var e=this;return(0,ae.A)(function*(){return e.metadata.promise})()}Ba(){var e=this;return(0,ae.A)(function*(){return yield e.getMetadata(),e.Ua()})()}Ua(){var e=this;return(0,ae.A)(function*(){const r=yield e.Wa();if(null===r)return null;const s=e.$a.decode(r),l=Number(s);isNaN(l)&&e.Ga(`length string (${s}) is not valid number`);const d=yield e.za(l);return new bp(JSON.parse(d),r.length+l)})()}ja(){return this.buffer.findIndex(e=>123===e)}Wa(){var e=this;return(0,ae.A)(function*(){for(;e.ja()<0&&!(yield e.Ha()););if(0===e.buffer.length)return null;const r=e.ja();r<0&&e.Ga("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}za(e){var r=this;return(0,ae.A)(function*(){for(;r.buffer.length<e;)(yield r.Ha())&&r.Ga("Reached the end of bundle when more is expected.");const s=r.$a.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){var e=this;return(0,ae.A)(function*(){const r=yield e.Ka.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class ff{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,ae.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Vt(Dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(l=(0,ae.A)(function*(g,b){const S=un(g),U={documents:b.map(Et=>bu(S.serializer,Et))},Q=yield S.vo("BatchGetDocuments",S.serializer.databaseId,tr.emptyPath(),U,b.length),ve=new Map;Q.forEach(Et=>{const rn=function Md(i,e){return"found"in e?function(s,l){bn(!!l.found);const d=Ls(s,l.found.name),g=Zr(l.found.updateTime),b=l.found.createTime?Zr(l.found.createTime):Fn.min(),S=new so({mapValue:{fields:l.found.fields}});return Ci.newFoundDocument(d,g,b,S)}(i,e):"missing"in e?function(s,l){bn(!!l.missing),bn(!!l.readTime);const d=Ls(s,l.missing),g=Zr(l.readTime);return Ci.newNoDocument(d,g)}(i,e):hn()}(S.serializer,Et);ve.set(rn.key.toString(),rn)});const Ke=[];return b.forEach(Et=>{const rn=ve.get(Et.toString());bn(!!rn),Ke.push(rn)}),Ke}),function d(g,b){return l.apply(this,arguments)})(r.datastore,e);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new $l(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ae.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const d=fn.fromPath(l);e.mutations.push(new Dd(d,e.precondition(d)))}),yield(s=(0,ae.A)(function*(d,g){const b=un(d),S={writes:g.map(U=>Pd(b.serializer,U))};yield b.So("Commit",b.serializer.databaseId,tr.emptyPath(),S)}),function l(d,g){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw hn();r=Fn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new Vt(Dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Fn.min())?Di.exists(!1):Di.updateTime(r):Di.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Fn.min()))throw new Vt(Dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Di.updateTime(r)}return Di.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class z_{constructor(e,r,s,l,d){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=l,this.deferred=d,this.Ja=s.maxAttempts,this.jo=new g_(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){var e=this;this.jo.qo((0,ae.A)(function*(){const r=new ff(e.datastore),s=e.Xa(r);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.eu(d)}))}).catch(l=>{e.eu(l)})}))}Xa(e){try{const r=this.updateFunction(e);return!Wo(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!_l(r)}return!1}}class Qd{constructor(e,r,s,l){var d=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=l,this.user=dr.UNAUTHENTICATED,this.clientId=xa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,ae.A)(function*(b){St("FirestoreClient","Received user=",b.uid),yield d.authCredentialListener(b),d.user=b});return function(b){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(St("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Vt(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ae.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const l=Gd(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function Lu(i,e){return pf.apply(this,arguments)}function pf(){return pf=(0,ae.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const r=i.configuration;yield e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,ae.A)(function*(d){s.isEqual(d)||(yield i_(e.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),pf.apply(this,arguments)}function $c(i,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,ae.A)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield Nm(i);St("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,i.configuration),i.setCredentialChangeListener(s=>D_(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>D_(e.remoteStore,l)),i._onlineComponents=e}),Lp.apply(this,arguments)}function xm(i){return"FirebaseError"===i.name?i.code===Dt.FAILED_PRECONDITION||i.code===Dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Nm(i){return Om.apply(this,arguments)}function Om(){return Om=(0,ae.A)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){St("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lu(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!xm(r))throw r;Ei("Error using user provided cache. Falling back to memory cache: "+r),yield Lu(i,new Bc)}}else St("FirestoreClient","Using default OfflineComponentProvider"),yield Lu(i,new Bc);return i._offlineComponents}),Om.apply(this,arguments)}function Up(i){return km.apply(this,arguments)}function km(){return km=(0,ae.A)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(St("FirestoreClient","Using user provided OnlineComponentProvider"),yield $c(i,i._uninitializedComponentsProvider._online)):(St("FirestoreClient","Using default OnlineComponentProvider"),yield $c(i,new qd))),i._onlineComponents}),km.apply(this,arguments)}function Fm(i){return Nm(i).then(e=>e.persistence)}function Jl(i){return Nm(i).then(e=>e.localStore)}function W_(i){return Up(i).then(e=>e.remoteStore)}function K_(i){return Up(i).then(e=>e.syncEngine)}function Yd(i){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,ae.A)(function*(i){const e=yield Up(i),r=e.eventManager;return r.onListen=O_.bind(null,e.syncEngine),r.onUnlisten=af.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=k_.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=mm.bind(null,e.syncEngine),r}),Bp.apply(this,arguments)}function $p(i,e,r={}){const s=new ar;return i.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return function(d,g,b,S,U){const Q=new Xd({next:Ke=>{g.enqueueAndForget(()=>wp(d,ve));const Et=Ke.docs.has(b);!Et&&Ke.fromCache?U.reject(new Vt(Dt.UNAVAILABLE,"Failed to get document because the client is offline.")):Et&&Ke.fromCache&&S&&"server"===S.source?U.reject(new Vt(Dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Ke)},error:Ke=>U.reject(Ke)}),ve=new rf(Eu(b.path),Q,{includeMetadataChanges:!0,ta:!0});return Tp(d,ve)}(yield Yd(i),i.asyncQueue,e,r,s)})),s.promise}function Zd(i,e,r={}){const s=new ar;return i.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return function(d,g,b,S,U){const Q=new Xd({next:Ke=>{g.enqueueAndForget(()=>wp(d,ve)),Ke.fromCache&&"server"===S.source?U.reject(new Vt(Dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Ke)},error:Ke=>U.reject(Ke)}),ve=new rf(b,Q,{includeMetadataChanges:!0,ta:!0});return Tp(d,ve)}(yield Yd(i),i.asyncQueue,e,r,s)})),s.promise}function Hp(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Y_=new Map;function Z_(i,e,r){if(!r)throw new Vt(Dt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function tE(i,e,r,s){if(!0===e&&!0===s)throw new Vt(Dt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function J_(i){if(!fn.isDocumentKey(i))throw new Vt(Dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ey(i){if(fn.isDocumentKey(i))throw new Vt(Dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Vm(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":hn()}function $r(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Vt(Dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Vm(i);throw new Vt(Dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function nE(i,e){if(e<=0)throw new Vt(Dt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class ty{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Vt(Dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vt(Dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Hp(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new Vt(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new Vt(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new Vt(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,r,s,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ty({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Vt(Dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vt(Dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ty(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new sl;switch(s.type){case"firstParty":return new fa(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Vt(Dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Y_.get(r);s&&(St("ComponentProvider","Removing Datastore"),Y_.delete(r),s.terminate())}(this),Promise.resolve()}}class wo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class mi{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mi(this.firestore,e,this._key)}}class Ca extends wo{constructor(e,r,s){super(e,r,Eu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mi(this.firestore,null,new fn(e))}withConverter(e){return new Ca(this.firestore,e,this._path)}}function _f(i,e,...r){if(i=(0,J.Ku)(i),Z_("collection","path",e),i instanceof vf){const s=tr.fromString(e,...r);return ey(s),new Ca(i,null,s)}{if(!(i instanceof mi||i instanceof Ca))throw new Vt(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tr.fromString(e,...r));return ey(s),new Ca(i.firestore,null,s)}}function Uu(i,e,...r){if(i=(0,J.Ku)(i),1===arguments.length&&(e=xa.newId()),Z_("doc","path",e),i instanceof vf){const s=tr.fromString(e,...r);return J_(s),new mi(i,null,new fn(s))}{if(!(i instanceof mi||i instanceof Ca))throw new Vt(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tr.fromString(e,...r));return J_(s),new mi(i.firestore,i instanceof Ca?i.converter:null,new fn(s))}}function Lm(i,e){return i=(0,J.Ku)(i),e=(0,J.Ku)(e),(i instanceof mi||i instanceof Ca)&&(e instanceof mi||e instanceof Ca)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Um(i,e){return i=(0,J.Ku)(i),e=(0,J.Ku)(e),i instanceof wo&&e instanceof wo&&i.firestore===e.firestore&&Oo(i._query,e._query)&&i.converter===e.converter}class yf{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new g_(this,"async_queue_retry"),this.cu=()=>{const r=sm();r&&St("AsyncQueue","Visibility state changed to "+r.visibilityState),this.jo.Ko()};const e=sm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const r=sm();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const r=new ar;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return(0,ae.A)(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(r){if(!at(r))throw r;St("AsyncQueue","Operation failed with retryable error: "+r)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const r=this.nu.then(()=>(this._u=!0,e().catch(s=>{throw this.ou=s,this._u=!1,Tr("INTERNAL UNHANDLED ERROR: ",function(g){let b=g.message||"";return g.stack&&(b=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),b}(s)),s}).then(s=>(this._u=!1,s))));return this.nu=r,r}enqueueAfterDelay(e,r,s){this.lu(),this.uu.indexOf(e)>-1&&(r=0);const l=Ap.createAndSchedule(this,e,r,s,d=>this.Iu(d));return this.su.push(l),l}lu(){this.ou&&hn()}verifyOperationInProgress(){}Tu(){var e=this;return(0,ae.A)(function*(){let r;do{r=e.nu,yield r}while(r!==e.nu)})()}Eu(e){for(const r of this.su)if(r.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.su)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const r=this.su.indexOf(e);this.su.splice(r,1)}}function Gp(i){return function(r,s){if("object"!=typeof r||null===r)return!1;const l=r;for(const d of["next","error","complete"])if(d in l&&"function"==typeof l[d])return!0;return!1}(i)}class rE{constructor(){this._progressObserver={},this._taskCompletionResolver=new ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mi extends vf{constructor(e,r,s,l){super(e,r,s,l),this.type="firestore",this._queue=new yf,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oy(this),this._firestoreClient.terminate()}}function ro(i){return i._firestoreClient||oy(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function oy(i){var e,r,s;const l=i._freezeSettings(),d=(S=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ai(i._databaseId,S,i._persistenceKey,(Q=l).host,Q.ssl,Q.experimentalForceLongPolling,Q.experimentalAutoDetectLongPolling,Hp(Q.experimentalLongPollingOptions),Q.useFetchStreams));var S,Q;i._firestoreClient=new Qd(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(r=l.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function zp(i,e,r){const s=new ar;return i.asyncQueue.enqueue((0,ae.A)(function*(){try{yield Lu(i,r),yield $c(i,e),s.resolve()}catch(l){const d=l;if(!xm(d))throw d;Ei("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function qp(i){if(i._initialized||i._terminated)throw new Vt(Dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(io.fromBase64String(e))}catch(r){throw new Vt(Dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Dl(io.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class eu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Vt(Dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jc{constructor(e){this._methodName=e}}class Xp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Vt(Dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Vt(Dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jn(this._lat,e._lat)||jn(this._long,e._long)}}const Jd=/^__.*__$/;class $m{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new Do(e,this.data,this.fieldMask,r,this.fieldTransforms):new $a(e,this.data,r,this.fieldTransforms)}}class ay{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new Do(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function jm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hn()}}class Qp{constructor(e,r,s,l,d,g){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Ru(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Qp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.mu({path:s,gu:!1});return l.pu(e),l}yu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.mu({path:s,gu:!1});return l.Ru(),l}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return eg(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(jm(this.Vu)&&Jd.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class ly{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Fc(e)}Cu(e,r,s,l=!1){return new Qp({Vu:e,methodName:r,Du:s,path:Xr.emptyPath(),gu:!1,bu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eh(i){const e=i._freezeSettings(),r=Fc(i._databaseId);return new ly(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Yp(i,e,r,s,l,d={}){const g=i.Cu(d.merge||d.mergeFields?2:0,e,r,l);Ji("Data must be an object, but it was:",g,s);const b=cy(s,g);let S,U;if(d.merge)S=new xo(g.fieldMask),U=g.fieldTransforms;else if(d.mergeFields){const Q=[];for(const ve of d.mergeFields){const Ke=Df(e,ve,r);if(!g.contains(Ke))throw new Vt(Dt.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);tg(Q,Ke)||Q.push(Ke)}S=new xo(Q),U=g.fieldTransforms.filter(ve=>S.covers(ve.field))}else S=null,U=g.fieldTransforms;return new $m(new so(b),S,U)}class Bu extends jc{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bu}}function Hm(i,e,r){return new Qp({Vu:3,Du:e.settings.Du,methodName:i._methodName,gu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Gm extends jc{_toFieldTransform(e){return new mc(e.path,new Ul)}isEqual(e){return e instanceof Gm}}class zm extends jc{constructor(e,r){super(e),this.vu=r}_toFieldTransform(e){const r=Hm(this,e,!0),s=this.vu.map(d=>$u(d,r)),l=new Ba(s);return new mc(e.path,l)}isEqual(e){return e instanceof zm&&(0,J.bD)(this.vu,e.vu)}}class Wm extends jc{constructor(e,r){super(e),this.vu=r}_toFieldTransform(e){const r=Hm(this,e,!0),s=this.vu.map(d=>$u(d,r)),l=new Fs(s);return new mc(e.path,l)}isEqual(e){return e instanceof Wm&&(0,J.bD)(this.vu,e.vu)}}class Cf extends jc{constructor(e,r){super(e),this.Fu=r}_toFieldTransform(e){const r=new Bl(e.serializer,Id(e.serializer,this.Fu));return new mc(e.path,r)}isEqual(e){return e instanceof Cf&&this.Fu===e.Fu}}function uy(i,e,r,s){const l=i.Cu(1,e,r);Ji("Data must be an object, but it was:",l,s);const d=[],g=so.empty();ss(s,(S,U)=>{const Q=Jp(e,S,r);U=(0,J.Ku)(U);const ve=l.yu(Q);if(U instanceof Bu)d.push(Q);else{const Ke=$u(U,ve);null!=Ke&&(d.push(Q),g.set(Q,Ke))}});const b=new xo(d);return new ay(g,b,l.fieldTransforms)}function Zp(i,e,r,s,l,d){const g=i.Cu(1,e,r),b=[Df(e,s,r)],S=[l];if(d.length%2!=0)throw new Vt(Dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<d.length;Ke+=2)b.push(Df(e,d[Ke])),S.push(d[Ke+1]);const U=[],Q=so.empty();for(let Ke=b.length-1;Ke>=0;--Ke)if(!tg(U,b[Ke])){const Et=b[Ke];let rn=S[Ke];rn=(0,J.Ku)(rn);const In=g.yu(Et);if(rn instanceof Bu)U.push(Et);else{const cn=$u(rn,In);null!=cn&&(U.push(Et),Q.set(Et,cn))}}const ve=new xo(U);return new ay(Q,ve,g.fieldTransforms)}function Xa(i,e,r,s=!1){return $u(r,i.Cu(s?4:3,e))}function $u(i,e){if(cE(i=(0,J.Ku)(i)))return Ji("Unsupported field value:",e,i),cy(i,e);if(i instanceof jc)return function(s,l){if(!jm(l.Vu))throw l.Su(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Su(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(l);d&&l.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(s,l){const d=[];let g=0;for(const b of s){let S=$u(b,l.wu(g));null==S&&(S={nullValue:"NULL_VALUE"}),d.push(S),g++}return{arrayValue:{values:d}}}(i,e)}return function(s,l){if(null===(s=(0,J.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Id(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=Cr.fromDate(s);return{timestampValue:An(l.serializer,d)}}if(s instanceof Cr){const d=new Cr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:An(l.serializer,d)}}if(s instanceof Xp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dl)return{bytesValue:gn(l.serializer,s._byteString)};if(s instanceof mi){const d=l.databaseId,g=s.firestore._databaseId;if(!g.isEqual(d))throw l.Su(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:zl(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.Su(`Unsupported field value: ${Vm(s)}`)}(i,e)}function cy(i,e){const r={};return ul(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(i,(s,l)=>{const d=$u(l,e.fu(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function cE(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Cr||i instanceof Xp||i instanceof Dl||i instanceof mi||i instanceof jc)}function Ji(i,e,r){if(!cE(r)||"object"!=typeof(l=r)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Vm(r);throw e.Su("an object"===s?i+" a custom object":i+" "+s)}var l}function Df(i,e,r){if((e=(0,J.Ku)(e))instanceof eu)return e._internalPath;if("string"==typeof e)return Jp(i,e);throw eg("Field path arguments must be of type string or ",i,!1,void 0,r)}const Km=new RegExp("[~\\*/\\[\\]]");function Jp(i,e,r){if(e.search(Km)>=0)throw eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new eu(...e.split("."))._internalPath}catch{throw eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function eg(i,e,r,s,l){const d=s&&!s.isEmpty(),g=void 0!==l;let b=`Function ${e}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let S="";return(d||g)&&(S+=" (found",d&&(S+=` in field ${s}`),g&&(S+=` in document ${l}`),S+=")"),new Vt(Dt.INVALID_ARGUMENT,b+i+S)}function tg(i,e){return i.some(r=>r.isEqual(e))}class th{constructor(e,r,s,l,d){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new mi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Af("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class dy extends th{data(){return super.data()}}function Af(i,e){return"string"==typeof e?Jp(i,e):e instanceof eu?e._internalPath:e._delegate._internalPath}function hy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Vt(Dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qm{}class Qa extends qm{}function tu(i,e,...r){let s=[];e instanceof qm&&s.push(e),s=s.concat(r),function(d){const g=d.filter(S=>S instanceof Gc).length,b=d.filter(S=>S instanceof Hc).length;if(g>1||g>0&&b>0)throw new Vt(Dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Hc extends Qa{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Hc(e,r,s)}_apply(e){const r=this._parse(e);return Qm(e._query,r),new wo(e.firestore,e.converter,vd(e._query,r))}_parse(e){const r=eh(e.firestore);return function(d,g,b,S,U,Q,ve){let Ke;if(U.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new Vt(Dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){Tf(ve,Q);const Et=[];for(const rn of ve)Et.push(mE(S,d,rn));Ke={arrayValue:{values:Et}}}else Ke=mE(S,d,ve)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||Tf(ve,Q),Ke=Xa(b,"where",ve,"in"===Q||"not-in"===Q);return Hn.create(U,Q,Ke)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class Gc extends qm{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Gc(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:li.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(l,d){let g=l;const b=d.getFlattenedFilters();for(const S of b)Qm(g,S),g=vd(g,S)}(e._query,r),new wo(e.firestore,e.converter,vd(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zc extends Qa{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new zc(e,r)}_apply(e){const r=function(l,d,g){if(null!==l.startAt)throw new Vt(Dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Vt(Dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(d,g)}(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,function(l,d){const g=l.explicitOrderBy.concat([d]);return new na(l.path,l.collectionGroup,g,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,r))}}class Ya extends Qa{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Ya(e,r,s)}_apply(e){return new wo(e.firestore,e.converter,_d(e._query,this._limit,this._limitType))}}class ju extends Qa{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new ju(e,r,s)}_apply(e){const r=rh(e,this.type,this._docOrFields,this._inclusive);return new wo(e.firestore,e.converter,(d=r,new na((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,d,l.endAt)));var l,d}}class nh extends Qa{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new nh(e,r,s)}_apply(e){const r=rh(e,this.type,this._docOrFields,this._inclusive);return new wo(e.firestore,e.converter,(d=r,new na((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,d)));var l,d}}function rh(i,e,r,s){if(r[0]=(0,J.Ku)(r[0]),r[0]instanceof th)return function(d,g,b,S,U){if(!S)throw new Vt(Dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const Q=[];for(const ve of ml(d))if(ve.field.isKeyField())Q.push(oo(g,S.key));else{const Ke=S.data.field(ve.field);if(Nr(Ke))throw new Vt(Dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ke){const Et=ve.field.canonicalString();throw new Vt(Dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Et}' (used as the orderBy) does not exist.`)}Q.push(Ke)}return new Fa(Q,U)}(i._query,i.firestore._databaseId,e,r[0]._document,s);{const l=eh(i.firestore);return function(g,b,S,U,Q,ve){const Ke=g.explicitOrderBy;if(Q.length>Ke.length)throw new Vt(Dt.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Et=[];for(let rn=0;rn<Q.length;rn++){const In=Q[rn];if(Ke[rn].field.isKeyField()){if("string"!=typeof In)throw new Vt(Dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof In}`);if(!fc(g)&&-1!==In.indexOf("/"))throw new Vt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${In}' contains a slash.`);const cn=g.path.child(tr.fromString(In));if(!fn.isDocumentKey(cn))throw new Vt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${cn}' is not because it contains an odd number of segments.`);const Qn=new fn(cn);Et.push(oo(b,Qn))}else{const cn=Xa(S,U,In);Et.push(cn)}}return new Fa(Et,ve)}(i._query,i.firestore._databaseId,l,e,r,s)}}function mE(i,e,r){if("string"==typeof(r=(0,J.Ku)(r))){if(""===r)throw new Vt(Dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fc(e)&&-1!==r.indexOf("/"))throw new Vt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(tr.fromString(r));if(!fn.isDocumentKey(s))throw new Vt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return oo(i,new fn(s))}if(r instanceof mi)return oo(i,r._key);throw new Vt(Dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vm(r)}.`)}function Tf(i,e){if(!Array.isArray(i)||0===i.length)throw new Vt(Dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qm(i,e){const r=function(l,d){for(const g of l)for(const b of g.getFlattenedFilters())if(d.indexOf(b.op)>=0)return b.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Vt(Dt.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Zm{convertValue(e,r="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(wt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw hn()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return ss(e,(l,d)=>{s[l]=this.convertValue(d,r)}),s}convertGeoPoint(e){return new Xp(zi(e.latitude),zi(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=sc(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const r=ka(e);return new Cr(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=tr.fromString(e);bn(_I(s));const l=new Ys(s.get(1),s.get(3)),d=new fn(s.popFirst(5));return l.isEqual(r)||Tr(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function Wc(i,e,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,s}class wf extends Zm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new mi(this.firestore,null,r)}}class Kc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends th{constructor(e,r,s,l,d,g){super(e,r,s,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Af("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class bf extends nu{data(e={}){return super.data(e)}}class Za{constructor(e,r,s,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Kc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new bf(this._firestore,this._userDataWriter,s.key,s,new Kc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Vt(Dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,d){if(l._snapshot.oldDocs.isEmpty()){let g=0;return l._snapshot.docChanges.map(b=>({type:"added",doc:new bf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Kc(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:g++}))}{let g=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(b=>d||3!==b.type).map(b=>{const S=new bf(l._firestore,l._userDataWriter,b.doc.key,b.doc,new Kc(l._snapshot.mutatedKeys.has(b.doc.key),l._snapshot.fromCache),l.query.converter);let U=-1,Q=-1;return 0!==b.type&&(U=g.indexOf(b.doc.key),g=g.delete(b.doc.key)),1!==b.type&&(g=g.add(b.doc),Q=g.indexOf(b.doc.key)),{type:_E(b.type),doc:S,oldIndex:U,newIndex:Q}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function _E(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hn()}}function gy(i,e){return i instanceof nu&&e instanceof nu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Za&&e instanceof Za&&i._firestore===e._firestore&&Um(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class ru extends Zm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new mi(this.firestore,null,r)}}function tv(i,e,r){i=$r(i,mi);const s=$r(i.firestore,Mi),l=Wc(i.converter,e,r);return Gu(s,[Yp(eh(s),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,Di.none())])}function nv(i,e,r,...s){i=$r(i,mi);const l=$r(i.firestore,Mi),d=eh(l);let g;return g="string"==typeof(e=(0,J.Ku)(e))||e instanceof eu?Zp(d,"updateDoc",i._key,e,r,s):uy(d,"updateDoc",i._key,e),Gu(l,[g.toMutation(i._key,Di.exists(!0))])}function yy(i,...e){var r,s,l;i=(0,J.Ku)(i);let d={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof e[g]||Gp(e[g])||(d=e[g],g++);const b={includeMetadataChanges:d.includeMetadataChanges,source:d.source};if(Gp(e[g])){const ve=e[g];e[g]=null===(r=ve.next)||void 0===r?void 0:r.bind(ve),e[g+1]=null===(s=ve.error)||void 0===s?void 0:s.bind(ve),e[g+2]=null===(l=ve.complete)||void 0===l?void 0:l.bind(ve)}let S,U,Q;if(i instanceof mi)U=$r(i.firestore,Mi),Q=Eu(i._key.path),S={next:ve=>{e[g]&&e[g](rg(U,i,ve))},error:e[g+1],complete:e[g+2]};else{const ve=$r(i,wo);U=$r(ve.firestore,Mi),Q=ve._query;const Ke=new ru(U);S={next:Et=>{e[g]&&e[g](new Za(U,Ke,ve,Et))},error:e[g+1],complete:e[g+2]},hy(i._query)}return function(Ke,Et,rn,In){const cn=new Xd(In),Qn=new rf(Et,cn,rn);return Ke.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return Tp(yield Yd(Ke),Qn)})),()=>{cn.Qa(),Ke.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return wp(yield Yd(Ke),Qn)}))}}(ro(U),Q,b,S)}function Gu(i,e){return function(s,l){const d=new ar;return s.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return function vm(i,e,r){return Mp.apply(this,arguments)}(yield K_(s),l,d)})),d.promise}(ro(i),e)}function rg(i,e,r){const s=r.docs.get(e._key),l=new ru(i);return new nu(i,l,e._key,s,new Kc(r.hasPendingWrites,r.fromCache),e.converter)}const ME={maxAttempts:5};class ig{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=eh(e)}set(e,r,s){this._verifyNotCommitted();const l=iu(e,this._firestore),d=Wc(l.converter,r,s),g=Yp(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,Di.none())),this}update(e,r,s,...l){this._verifyNotCommitted();const d=iu(e,this._firestore);let g;return g="string"==typeof(r=(0,J.Ku)(r))||r instanceof eu?Zp(this._dataReader,"WriteBatch.update",d._key,r,s,l):uy(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(g.toMutation(d._key,Di.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=iu(e,this._firestore);return this._mutations=this._mutations.concat(new $l(r._key,Di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vt(Dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function iu(i,e){if((i=(0,J.Ku)(i)).firestore!==e)throw new Vt(Dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ty extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=eh(r)}get(r){const s=iu(r,this._firestore),l=new wf(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return hn();const g=d[0];if(g.isFoundDocument())return new th(this._firestore,l,g.key,g,s.converter);if(g.isNoDocument())return new th(this._firestore,l,s._key,null,s.converter);throw hn()})}set(r,s,l){const d=iu(r,this._firestore),g=Wc(d.converter,s,l),b=Yp(this._dataReader,"Transaction.set",d._key,g,null!==d.converter,l);return this._transaction.set(d._key,b),this}update(r,s,l,...d){const g=iu(r,this._firestore);let b;return b="string"==typeof(s=(0,J.Ku)(s))||s instanceof eu?Zp(this._dataReader,"Transaction.update",g._key,s,l,d):uy(this._dataReader,"Transaction.update",g._key,s),this._transaction.update(g._key,b),this}delete(r){const s=iu(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=iu(e,this._firestore),s=new ru(this._firestore);return super.get(e).then(l=>new nu(this._firestore,s,r._key,l._document,new Kc(!1,!1),r.converter))}}function xy(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Vt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function FE(){if(typeof Uint8Array>"u")throw new Vt("unimplemented","Uint8Arrays are not available in this environment.")}function VE(){if(!function xg(){return typeof atob<"u"}())throw new Vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){Bt=Ve.SDK_VERSION,(0,Ve._registerComponent)(new Ne.uA("firestore",(s,{instanceIdentifier:l,options:d})=>{const g=s.getProvider("app").getImmediate(),b=new Mi(new uu(s.getProvider("auth-internal")),new al(s.getProvider("app-check-internal")),function(U,Q){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new Vt(Dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ys(U.options.projectId,Q)}(g,l),g);return d=Object.assign({useFetchStreams:r},d),b._setSettings(d),b},"PUBLIC").setMultipleInstances(!0)),(0,Ve.registerVersion)(wi,"4.6.0",e),(0,Ve.registerVersion)(wi,"4.6.0","esm2017")}();class og{constructor(e){this._delegate=e}static fromBase64String(e){return VE(),new og(Dl.fromBase64String(e))}static fromUint8Array(e){return FE(),new og(Dl.fromUint8Array(e))}toBase64(){return VE(),this._delegate.toBase64()}toUint8Array(){return FE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ny(i){return function yC(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of e)if(s in r&&"function"==typeof r[s])return!0;return!1}(i,["next","error","complete"])}class IC{enableIndexedDbPersistence(e,r){return function iE(i,e){qp(i=$r(i,Mi));const r=ro(i);if(r._uninitializedComponentsProvider)throw new Vt(Dt.FAILED_PRECONDITION,"SDK cache is already specified.");Ei("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new qd;return zp(r,l,new hf(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function oE(i){qp(i=$r(i,Mi));const e=ro(i);if(e._uninitializedComponentsProvider)throw new Vt(Dt.FAILED_PRECONDITION,"SDK cache is already specified.");Ei("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=i._freezeSettings(),s=new qd;return zp(e,s,new Cl(s,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function If(i){if(i._initialized&&!i._terminated)throw new Vt(Dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ar;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ae.A)(function*(){try{yield(r=(0,ae.A)(function*(l){if(!M.D())return Promise.resolve();const d=l+"main";yield M.delete(d)}),function s(l){return r.apply(this,arguments)})(Wh(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class LE{constructor(e,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ys||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Ei("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,s={}){!function ny(i,e,r,s={}){var l;const d=(i=$r(i,vf))._getSettings(),g=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==g&&Ei("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},d),{host:g,ssl:!1})),s.mockUserToken){let b,S;if("string"==typeof s.mockUserToken)b=s.mockUserToken,S=dr.MOCK_USER;else{b=(0,J.Fy)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new Vt(Dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new dr(U)}i._authCredentials=new Xs(new qs(b,S))}}(this._delegate,e,r,s)}enableNetwork(){return function Wp(i){return function QI(i){return i.asyncQueue.enqueue((0,ae.A)(function*(){const e=yield Fm(i),r=yield W_(i);return e.setNetworkEnabled(!0),function(l){const d=un(l);return d.v_.delete(0),$d(d)}(r)}))}(ro(i=$r(i,Mi)))}(this._delegate)}disableNetwork(){return function Kp(i){return function YI(i){return i.asyncQueue.enqueue((0,ae.A)(function*(){const e=yield Fm(i),r=yield W_(i);return e.setNetworkEnabled(!1),(s=(0,ae.A)(function*(d){const g=un(d);g.v_.add(0),yield jd(g),g.x_.set("Offline")}),function l(d){return s.apply(this,arguments)})(r);var s}))}(ro(i=$r(i,Mi)))}(this._delegate)}enablePersistence(e){let r=!1,s=!1;return e&&(r=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,tE("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function sE(i){return function(r){const s=new ar;return r.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return function L_(i,e){return Np.apply(this,arguments)}(yield K_(r),s)})),s.promise}(ro(i=$r(i,Mi)))}(this._delegate)}onSnapshotsInSync(e){return function rv(i,e){return function gf(i,e){const r=new Xd(e);return i.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return l=yield Yd(i),d=r,un(l).W_.add(d),void d.next();var l,d})),()=>{r.Qa(),i.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return l=yield Yd(i),d=r,void un(l).W_.delete(d);var l,d}))}}(ro(i=$r(i,Mi)),Gp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new oh(this,_f(this._delegate,e))}catch(r){throw hs(r,"collection()","Firestore.collection()")}}doc(e){try{return new Ja(this,Uu(this._delegate,e))}catch(r){throw hs(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ts(this,function ry(i,e){if(i=$r(i,vf),Z_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Vt(Dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wo(i,null,(s=e,new na(tr.emptyPath(),s)));var s}(this._delegate,e))}catch(r){throw hs(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mC(i,e,r){i=$r(i,Mi);const s=Object.assign(Object.assign({},ME),r);return function(d){if(d.maxAttempts<1)throw new Vt(Dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,g,b){const S=new ar;return d.asyncQueue.enqueueAndForget((0,ae.A)(function*(){const U=yield function q_(i){return Up(i).then(e=>e.datastore)}(d);new z_(d.asyncQueue,U,b,g,S).Ya()})),S.promise}(ro(i),l=>e(new Ty(i,l)),s)}(this._delegate,r=>e(new qc(this,r)))}batch(){return ro(this._delegate),new ih(new ig(this._delegate,e=>Gu(this._delegate,e)))}loadBundle(e){return function aE(i,e){const r=ro(i=$r(i,Mi)),s=new rE;return function mf(i,e,r,s){const l=function(g,b){let S;return S="string"==typeof g?Vs().encode(g):g,Q=function(Q,ve){if(Q instanceof Uint8Array)return G_(Q,void 0);if(Q instanceof ArrayBuffer)return G_(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new XI(Q,b);var Q}(r,Fc(e));i.asyncQueue.enqueueAndForget((0,ae.A)(function*(){!function H_(i,e,r){const s=un(i);var l;(l=(0,ae.A)(function*(g,b,S){try{const U=yield b.getMetadata();if(yield function(rn,In){const cn=un(rn),Qn=Zr(In.createTime);return cn.persistence.runTransaction("hasNewerBundle","readonly",or=>cn.$r.getBundleMetadata(or,In.id)).then(or=>!!or&&or.createTime.compareTo(Qn)>=0)}(g.localStore,U))return yield b.close(),S._completeWith({taskState:"Success",documentsLoaded:(rn=U).totalDocuments,bytesLoaded:rn.totalBytes,totalDocuments:rn.totalDocuments,totalBytes:rn.totalBytes}),Promise.resolve(new Set);S._updateProgress(R_(U));const Q=new S_(U,g.localStore,b.serializer);let ve=yield b.Ba();for(;ve;){const Et=yield Q.sa(ve);Et&&S._updateProgress(Et),ve=yield b.Ba()}const Ke=yield Q.complete();return yield El(g,Ke.aa,void 0),yield function(rn,In){const cn=un(rn);return cn.persistence.runTransaction("Save bundle","readwrite",Qn=>cn.$r.saveBundleMetadata(Qn,In))}(g.localStore,U),S._completeWith(Ke.progress),Promise.resolve(Ke._a)}catch(U){return Ei("SyncEngine",`Loading bundle failed with ${U}`),S._failWith(U),Promise.resolve(new Set)}var rn}),function d(g,b,S){return l.apply(this,arguments)})(s,e,r).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield K_(i),l,s)}))}(r,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function lE(i,e){return function ZI(i,e){return i.asyncQueue.enqueue((0,ae.A)(function*(){return function(s,l){const d=un(s);return d.persistence.runTransaction("Get named query","readonly",g=>d.$r.getNamedQuery(g,l))}(yield Jl(i),e)}))}(ro(i=$r(i,Mi)),e).then(r=>r?new wo(i,null,r.query):null)}(this._delegate,e).then(r=>r?new Ts(this,r):null)}}class lv extends Zm{constructor(e){super(),this.firestore=e}convertBytes(e){return new og(new Dl(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Ja.forKey(r,this.firestore,null)}}class qc{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new lv(e)}get(e){const r=zu(e);return this._delegate.get(r).then(s=>new Sf(this._firestore,new nu(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(e,r,s){const l=zu(e);return s?(xy("Transaction.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const d=zu(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(e){const r=zu(e);return this._delegate.delete(r),this}}class ih{constructor(e){this._delegate=e}set(e,r,s){const l=zu(e);return s?(xy("WriteBatch.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(e,r,s,...l){const d=zu(e);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(e){const r=zu(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Xc{constructor(e,r,s){this._firestore=e,this._userDataWriter=r,this._delegate=s}fromFirestore(e,r){const s=new bf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rf(this._firestore,s),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const s=Xc.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let d=l.get(r);return d||(d=new Xc(e,new lv(e),r),l.set(r,d)),d}}Xc.INSTANCES=new WeakMap;class Ja{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new lv(e)}static forPath(e,r,s){if(e.length%2!=0)throw new Vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ja(r,new mi(r._delegate,s,new fn(e)))}static forKey(e,r,s){return new Ja(r,new mi(r._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new oh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new oh(this.firestore,_f(this._delegate,e))}catch(r){throw hs(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,J.Ku)(e))instanceof mi&&Lm(this._delegate,e)}set(e,r){r=xy("DocumentReference.set",r);try{return r?tv(this._delegate,e,r):tv(this._delegate,e)}catch(s){throw hs(s,"setDoc()","DocumentReference.set()")}}update(e,r,...s){try{return 1===arguments.length?nv(this._delegate,e):nv(this._delegate,e,r,...s)}catch(l){throw hs(l,"updateDoc()","DocumentReference.update()")}}delete(){return function IE(i){return Gu($r(i.firestore,Mi),[new $l(i._key,Di.none())])}(this._delegate)}onSnapshot(...e){const r=Oy(e),s=BE(e,l=>new Sf(this.firestore,new nu(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return yy(this._delegate,r,s)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function Jm(i){i=$r(i,mi);const e=$r(i.firestore,Mi),r=ro(e),s=new ru(e);return function X_(i,e){const r=new ar;return i.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return(s=(0,ae.A)(function*(d,g,b){try{const S=yield function(Q,ve){const Ke=un(Q);return Ke.persistence.runTransaction("read document","readonly",Et=>Ke.localDocuments.getDocument(Et,ve))}(d,g);S.isFoundDocument()?b.resolve(S):S.isNoDocument()?b.resolve(null):b.reject(new Vt(Dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const U=Gd(S,`Failed to get document '${g} from cache`);b.reject(U)}}),function l(d,g,b){return s.apply(this,arguments)})(yield Jl(i),e,r);var s})),r.promise}(r,i._key).then(l=>new nu(e,s,i._key,l,new Kc(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function vy(i){i=$r(i,mi);const e=$r(i.firestore,Mi);return $p(ro(e),i._key,{source:"server"}).then(r=>rg(e,i,r))}(this._delegate):function my(i){i=$r(i,mi);const e=$r(i.firestore,Mi);return $p(ro(e),i._key).then(r=>rg(e,i,r))}(this._delegate),r.then(s=>new Sf(this.firestore,new nu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ja(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function hs(i,e,r){return i.message=i.message.replace(e,r),i}function Oy(i){for(const e of i)if("object"==typeof e&&!Ny(e))return e;return{}}function BE(i,e){var r,s;let l;return l=Ny(i[0])?i[0]:Ny(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(e(d))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Sf{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return gy(this._delegate,e._delegate)}}class Rf extends Sf{data(e){const r=this._delegate.data(e);return this._delegate._converter||function sr(i,e){i||hn()}(void 0!==r),r}}class Ts{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new lv(e)}where(e,r,s){try{return new Ts(this.firestore,tu(this._delegate,function dE(i,e,r){const s=e,l=Af("where",i);return Hc._create(l,s,r)}(e,r,s)))}catch(l){throw hs(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Ts(this.firestore,tu(this._delegate,function Xm(i,e="asc"){const r=e,s=Af("orderBy",i);return zc._create(s,r)}(e,r)))}catch(s){throw hs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ts(this.firestore,tu(this._delegate,function ng(i){return nE("limit",i),Ya._create("limit",i,"F")}(e)))}catch(r){throw hs(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Ts(this.firestore,tu(this._delegate,function fy(i){return nE("limitToLast",i),Ya._create("limitToLast",i,"L")}(e)))}catch(r){throw hs(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ts(this.firestore,tu(this._delegate,function pE(...i){return ju._create("startAt",i,!0)}(...e)))}catch(r){throw hs(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ts(this.firestore,tu(this._delegate,function gE(...i){return ju._create("startAfter",i,!1)}(...e)))}catch(r){throw hs(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ts(this.firestore,tu(this._delegate,function py(...i){return nh._create("endBefore",i,!1)}(...e)))}catch(r){throw hs(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ts(this.firestore,tu(this._delegate,function Hu(...i){return nh._create("endAt",i,!0)}(...e)))}catch(r){throw hs(r,"endAt()","Query.endAt()")}}isEqual(e){return Um(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function _y(i){i=$r(i,wo);const e=$r(i.firestore,Mi),r=ro(e),s=new ru(e);return function Q_(i,e){const r=new ar;return i.asyncQueue.enqueueAndForget((0,ae.A)(function*(){return(s=(0,ae.A)(function*(d,g,b){try{const S=yield Ud(d,g,!0),U=new gm(g,S.hs),Q=U.Ta(S.documents),ve=U.applyChanges(Q,!1);b.resolve(ve.snapshot)}catch(S){const U=Gd(S,`Failed to execute query '${g} against cache`);b.reject(U)}}),function l(d,g,b){return s.apply(this,arguments)})(yield Jl(i),e,r);var s})),r.promise}(r,i._query).then(l=>new Za(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function ev(i){i=$r(i,wo);const e=$r(i.firestore,Mi),r=ro(e),s=new ru(e);return Zd(r,i._query,{source:"server"}).then(l=>new Za(e,s,i,l))}(this._delegate):function yE(i){i=$r(i,wo);const e=$r(i.firestore,Mi),r=ro(e),s=new ru(e);return hy(i._query),Zd(r,i._query).then(l=>new Za(e,s,i,l))}(this._delegate),r.then(s=>new ag(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const r=Oy(e),s=BE(e,l=>new ag(this.firestore,new Za(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return yy(this._delegate,r,s)}withConverter(e){return new Ts(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}class sg{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Rf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ag{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Ts(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new sg(this._firestore,r))}forEach(e,r){this._delegate.forEach(s=>{e.call(r,new Rf(this._firestore,s))})}isEqual(e){return gy(this._delegate,e._delegate)}}class oh extends Ts{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ja(this.firestore,e):null}doc(e){try{return new Ja(this.firestore,void 0===e?Uu(this._delegate):Uu(this._delegate,e))}catch(r){throw hs(r,"doc()","CollectionReference.doc()")}}add(e){return function EE(i,e){const r=$r(i.firestore,Mi),s=Uu(i),l=Wc(i.converter,e);return Gu(r,[Yp(eh(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,Di.exists(!1))]).then(()=>s)}(this._delegate,e).then(r=>new Ja(this.firestore,r))}isEqual(e){return Lm(this._delegate,e._delegate)}withConverter(e){return new oh(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function zu(i){return $r(i,mi)}class ky{constructor(...e){this._delegate=new eu(...e)}static documentId(){return new ky(Xr.keyField().canonicalString())}isEqual(e){return(e=(0,J.Ku)(e))instanceof eu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function PE(){return new Gm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Wu(e)}static delete(){const e=function vC(){return new Bu("deleteField")}();return e._methodName="FieldValue.delete",new Wu(e)}static arrayUnion(...e){const r=function wy(...i){return new zm("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new Wu(r)}static arrayRemove(...e){const r=function by(...i){return new Wm("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new Wu(r)}static increment(e){const r=function ov(i){return new Cf("increment",i)}(e);return r._methodName="FieldValue.increment",new Wu(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const EC={Firestore:LE,GeoPoint:Xp,Timestamp:Cr,Blob:og,Transaction:qc,WriteBatch:ih,DocumentReference:Ja,DocumentSnapshot:Sf,Query:Ts,QueryDocumentSnapshot:Rf,QuerySnapshot:ag,CollectionReference:oh,FieldPath:ky,FieldValue:Wu,setLogLevel:function UE(i){!function Ii(i){Mn.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Fy(i){(function $E(i,e){i.INTERNAL.registerComponent(new Ne.uA("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),l=r.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},EC)))})(i,(e,r)=>new LE(e,r,new IC)),i.registerVersion("@firebase/firestore-compat","0.3.29")}(vt.A);var uv=O(7935);function Vy(i,e){return function jE(i,e=ie.E){return new He.c(r=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},r)}):s=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(i,e)}function cv(i,e){return Vy(i,e).pipe((0,Me.T)(r=>({payload:r,type:"query"})))}class Ly{constructor(e,r){(0,u.A)(this,"ref",void 0),(0,u.A)(this,"afs",void 0),this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const s=this.ref.collection(e),{ref:l,query:d}=gv(s,r);return new fv(l,d,this.afs)}snapshotChanges(){return function lg(i,e){return Vy(i,e).pipe((0,le.Z)(void 0),xe(),(0,Me.T)(r=>{const[s,l]=r;return l.exists?null!=s&&s.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(j.U0)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Me.T)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,$e.H)(this.ref.get(e)).pipe(j.U0)}}function ug(i,e){return cv(i,e).pipe((0,le.Z)(void 0),xe(),(0,Me.T)(r=>{const[s,l]=r,d=l.payload.docChanges(),g=d.map(b=>({type:b.type,payload:b}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((b,S)=>{const U=d.find(ve=>ve.doc.ref.isEqual(b.ref)),Q=null==s?void 0:s.payload.docs.find(ve=>ve.ref.isEqual(b.ref));U&&JSON.stringify(U.doc.metadata)===JSON.stringify(b.metadata)||!U&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(b.metadata)||g.push({type:"modified",payload:{oldIndex:S,newIndex:S,type:"modified",doc:b}})}),g}))}function Uy(i,e,r){return ug(i,r).pipe((0,Ze.S)((s,l)=>function HE(i,e,r){return e.forEach(s=>{r.indexOf(s.type)>-1&&(i=function GE(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return dv(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return dv(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return dv(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),e),[]),(0,Fe.F)(),(0,Me.T)(s=>s.map(l=>({type:l.type,payload:l}))))}function dv(i,e,r,...s){const l=i.slice();return l.splice(e,r,...s),l}function hv(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class fv{constructor(e,r,s){(0,u.A)(this,"ref",void 0),(0,u.A)(this,"query",void 0),(0,u.A)(this,"afs",void 0),this.ref=e,this.query=r,this.afs=s}stateChanges(e){let r=ug(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Me.T)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),r.pipe((0,le.Z)(void 0),xe(),(0,Oe.p)(([s,l])=>l.length>0||!s),(0,Me.T)(([,s])=>s),j.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,Ze.S)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=hv(e);return Uy(this.query,r,this.afs.schedulers.outsideAngular).pipe(j.U0)}valueChanges(e={}){return cv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.T)(r=>r.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),j.U0)}get(e){return(0,$e.H)(this.query.get(e)).pipe(j.U0)}add(e){return this.ref.add(e)}doc(e){return new Ly(this.ref.doc(e),this.afs)}}class zE{constructor(e,r){(0,u.A)(this,"query",void 0),(0,u.A)(this,"afs",void 0),this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?ug(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.T)(r=>r.filter(s=>e.indexOf(s.type)>-1)),(0,Oe.p)(r=>r.length>0),j.U0):ug(this.query,this.afs.schedulers.outsideAngular).pipe(j.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,Ze.S)((r,s)=>[...r,...s],[]))}snapshotChanges(e){const r=hv(e);return Uy(this.query,r,this.afs.schedulers.outsideAngular).pipe(j.U0)}valueChanges(e={}){return cv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.T)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),j.U0)}get(e){return(0,$e.H)(this.query.get(e)).pipe(j.U0)}}const WE=new oe.nKC("angularfire2.enableFirestorePersistence"),pv=new oe.nKC("angularfire2.firestore.persistenceSettings"),By=new oe.nKC("angularfire2.firestore.settings"),Qc=new oe.nKC("angularfire2.firestore.use-emulator");function gv(i,e=(r=>r)){return{query:e(i),ref:i}}let $y=(()=>{var i;class e{constructor(s,l,d,g,b,S,U,Q,ve,Ke,Et,rn,In,cn,Qn,or,Xn){(0,u.A)(this,"schedulers",void 0),(0,u.A)(this,"firestore",void 0),(0,u.A)(this,"persistenceEnabled$",void 0),this.schedulers=U;const Vn=(0,Te.iB)(s,S,l),jr=ve;Ke&&(0,ce.gF)(Vn,S,Et,In,cn,Qn,rn,or),[this.firestore,this.persistenceEnabled$]=(0,Te.BM)(`${Vn.name}.firestore`,"AngularFirestore",Vn.name,()=>{const Lr=S.runOutsideAngular(()=>Vn.firestore());if(g&&Lr.settings(g),jr&&Lr.useEmulator(...jr),d&&!(0,G.Vy)(b)){const ii=()=>{try{return(0,$e.H)(Lr.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(Fo){return typeof console<"u"&&console.warn(Fo),(0,ge.of)(!1)}};return[Lr,S.runOutsideAngular(ii)]}return[Lr,(0,ge.of)(!1)]},[g,jr,d])}collection(s,l){let d;d="string"==typeof s?this.firestore.collection(s):s;const{ref:g,query:b}=gv(d,l),S=this.schedulers.ngZone.run(()=>g);return new fv(S,b,this)}collectionGroup(s,l){const d=l||(b=>b),g=this.firestore.collectionGroup(s);return new zE(d(g),this)}doc(s){let l;l="string"==typeof s?this.firestore.doc(s):s;const d=this.schedulers.ngZone.run(()=>l);return new Ly(d,this)}createId(){return this.firestore.collection("_").doc().id}}return i=e,(0,u.A)(e,"\u0275fac",function(s){return new(s||i)(oe.KVO(Te.rx),oe.KVO(Te.uP,8),oe.KVO(WE,8),oe.KVO(By,8),oe.KVO(oe.Agw),oe.KVO(oe.SKi),oe.KVO(j.u0),oe.KVO(pv,8),oe.KVO(Qc,8),oe.KVO(ce.DS,8),oe.KVO(ce.CP,8),oe.KVO(ce.yy,8),oe.KVO(ce.ZP,8),oe.KVO(ce.$z,8),oe.KVO(ce.AU,8),oe.KVO(ce.UB,8),oe.KVO(j.Jv,8))}),(0,u.A)(e,"\u0275prov",oe.jDH({token:i,factory:i.\u0275fac,providedIn:"any"})),e})(),CC=(()=>{var i;class e{constructor(){uv.A.registerVersion("angularfire",j.xv.full,"fst-compat")}static enablePersistence(s){return{ngModule:e,providers:[{provide:WE,useValue:!0},{provide:pv,useValue:s}]}}}return i=e,(0,u.A)(e,"\u0275fac",function(s){return new(s||i)}),(0,u.A)(e,"\u0275mod",oe.$C({type:i})),(0,u.A)(e,"\u0275inj",oe.G2t({providers:[$y]})),e})()},9253:(Qt,Je,O)=>{"use strict";O.d(Je,{BM:()=>Me,Gt:()=>ce,bf:()=>xe,e7:()=>ie,iB:()=>le,rx:()=>$e,uP:()=>ge});var u=O(9842),G=O(4438),oe=O(1825),j=O(7935);const Te=["ngOnDestroy"],ce=(Ue,vt,ae,Ve={})=>new Proxy(Ue,{get:(Ne,Xe)=>ae.runOutsideAngular(()=>{var J;if(Ue[Xe])return null!=Ve&&null!==(J=Ve.spy)&&void 0!==J&&J.get&&Ve.spy.get(Xe,Ue[Xe]),Ue[Xe];if(Te.indexOf(Xe)>-1)return()=>{};const K=vt.toPromise().then(De=>{const z=null==De?void 0:De[Xe];return"function"==typeof z?z.bind(De):null!=z&&z.then?z.then(je=>ae.run(()=>je)):ae.run(()=>z)});return new Proxy(()=>{},{get:(De,z)=>K[z],apply:(De,z,je)=>K.then(Le=>{var ot;const Mt=null==Le?void 0:Le(...je);return null!=Ve&&null!==(ot=Ve.spy)&&void 0!==ot&&ot.apply&&Ve.spy.apply(Xe,je,Mt),Mt})})})}),ie=(Ue,vt)=>{vt.forEach(ae=>{Object.getOwnPropertyNames(ae.prototype||ae).forEach(Ve=>{Object.defineProperty(Ue.prototype,Ve,Object.getOwnPropertyDescriptor(ae.prototype||ae,Ve))})})};class He{constructor(vt){return vt}}const $e=new G.nKC("angularfire2.app.options"),ge=new G.nKC("angularfire2.app.name");function le(Ue,vt,ae){const Ne="object"==typeof ae&&ae||{};Ne.name=Ne.name||"string"==typeof ae&&ae||"[DEFAULT]";const J=j.A.apps.filter(K=>K&&K.name===Ne.name)[0]||vt.runOutsideAngular(()=>j.A.initializeApp(Ue,Ne));try{if(JSON.stringify(Ue)!==JSON.stringify(J.options)){const K=!!module.hot;ke("error",`${J.name} Firebase App already initialized with different options${K?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new He(J)}const ke=(Ue,...vt)=>{(0,G.naY)()&&typeof console<"u"&&console[Ue](...vt)},we={provide:He,useFactory:le,deps:[$e,G.SKi,[new G.Xx1,ge]]};let xe=(()=>{var Ue;class vt{static initializeApp(Ve,Ne){return{ngModule:vt,providers:[{provide:$e,useValue:Ve},{provide:ge,useValue:Ne}]}}constructor(Ve){j.A.registerVersion("angularfire",oe.xv.full,"core"),j.A.registerVersion("angularfire",oe.xv.full,"app-compat"),j.A.registerVersion("angular",G.xvI.full,Ve.toString())}}return Ue=vt,(0,u.A)(vt,"\u0275fac",function(Ve){return new(Ve||Ue)(G.KVO(G.Agw))}),(0,u.A)(vt,"\u0275mod",G.$C({type:Ue})),(0,u.A)(vt,"\u0275inj",G.G2t({providers:[we]})),vt})();function Me(Ue,vt,ae,Ve,Ne){const[,Xe,J]=globalThis.\u0275AngularfireInstanceCache.find(K=>K[0]===Ue)||[];if(Xe)return function Ze(Ue,vt){try{return Ue.toString()===vt.toString()}catch{return Ue===vt}}(Ne,J)||(Oe("error",`${vt} was already initialized on the ${ae} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:Ne,was:J})),Xe;{const K=Ve();return globalThis.\u0275AngularfireInstanceCache.push([Ue,K,Ne]),K}}const Fe=typeof module<"u"&&!!module.hot,Oe=(Ue,...vt)=>{(0,G.naY)()&&typeof console<"u"&&console[Ue](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1825:(Qt,Je,O)=>{"use strict";O.d(Je,{xv:()=>Ze,U0:()=>ot,u0:()=>J,Jv:()=>vt});var u=O(9842),G=O(4438),oe=O(7852);(0,oe.registerVersion)("firebase","10.11.0","app");var ce=O(6780),He=O(9687);const ge=new class $e extends He.q{}(class ie extends ce.R{constructor(Ee,fe){super(Ee,fe),this.scheduler=Ee,this.work=fe}schedule(Ee,fe=0){return fe>0?super.schedule(Ee,fe):(this.delay=fe,this.state=Ee,this.scheduler.flush(this),this)}execute(Ee,fe){return fe>0||this.closed?super.execute(Ee,fe):this._execute(Ee,fe)}requestAsyncId(Ee,fe,ye=0){return null!=ye&&ye>0||null==ye&&this.delay>0?super.requestAsyncId(Ee,fe,ye):(Ee.flush(this),0)}});var ke=O(3236),we=O(8141),xe=O(6745),Me=O(941);const Ze=new G.RxE("ANGULARFIRE2_VERSION");class vt{constructor(){return((st,Ee)=>{const fe=(0,oe.getApps)(),ye=[];return fe.forEach(Re=>{Re.container.getProvider(st).instances.forEach(me=>{ye.includes(me)||ye.push(me)})}),ye})(ae)}}const ae="app-check";function Ve(){}class Ne{constructor(Ee,fe=ge){(0,u.A)(this,"zone",void 0),(0,u.A)(this,"delegate",void 0),this.zone=Ee,this.delegate=fe}now(){return this.delegate.now()}schedule(Ee,fe,ye){const Re=this.zone;return this.delegate.schedule(function(me){Re.runGuarded(()=>{Ee.apply(this,[me])})},fe,ye)}}class Xe{constructor(Ee){(0,u.A)(this,"zone",void 0),(0,u.A)(this,"task",null),this.zone=Ee}call(Ee,fe){const ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ve,{},Ve,Ve)),fe.pipe((0,we.M)({next:ye,complete:ye,error:ye})).subscribe(Ee).add(ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let J=(()=>{var st;class Ee{constructor(ye){(0,u.A)(this,"ngZone",void 0),(0,u.A)(this,"outsideAngular",void 0),(0,u.A)(this,"insideAngular",void 0),this.ngZone=ye,this.outsideAngular=ye.runOutsideAngular(()=>new Ne(Zone.current)),this.insideAngular=ye.run(()=>new Ne(Zone.current,ke.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return st=Ee,(0,u.A)(Ee,"\u0275fac",function(ye){return new(ye||st)(G.KVO(G.SKi))}),(0,u.A)(Ee,"\u0275prov",G.jDH({token:st,factory:st.\u0275fac,providedIn:"root"})),Ee})();function ot(st){return function Mt(st){return function(fe){return(fe=fe.lift(new Xe(st.ngZone))).pipe((0,xe._)(st.outsideAngular),(0,Me.Q)(st.insideAngular))}}(function K(){const st=globalThis.\u0275AngularFireScheduler;if(!st)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return st}())(st)}},4341:(Qt,Je,O)=>{"use strict";O.d(Je,{ok:()=>Ti,MJ:()=>dt,JD:()=>bs,j4:()=>_i,YN:()=>Hs,zX:()=>ms,VZ:()=>Aa,cz:()=>Xe,kq:()=>Me,vO:()=>Nn,BC:()=>Gn,cb:()=>ln,X1:()=>vs,k0:()=>De,qT:()=>En});var u=O(4438),G=O(177),oe=O(8455),j=O(1985),Te=O(3073),ce=O(8750),ie=O(3794),He=O(4360),$e=O(6450),ge=O(8496),ke=O(6354);let we=(()=>{var L;class R{constructor(V,ue){this._renderer=V,this._elementRef=ue,this.onChange=Ft=>{},this.onTouched=()=>{}}setProperty(V,ue){this._renderer.setProperty(this._elementRef.nativeElement,V,ue)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return(L=R).\u0275fac=function(V){return new(V||L)(u.rXU(u.sFG),u.rXU(u.aKT))},L.\u0275dir=u.FsC({type:L}),R})(),xe=(()=>{var L;class R extends we{}return(L=R).\u0275fac=(()=>{let Z;return function(ue){return(Z||(Z=u.xGo(L)))(ue||L)}})(),L.\u0275dir=u.FsC({type:L,features:[u.Vt3]}),R})();const Me=new u.nKC(""),Oe={provide:Me,useExisting:(0,u.Rfq)(()=>ae),multi:!0},vt=new u.nKC("");let ae=(()=>{var L;class R extends we{constructor(V,ue,Ft){super(V,ue),this._compositionMode=Ft,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ue(){const L=(0,G.QT)()?(0,G.QT)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(V){this.setProperty("value",null==V?"":V)}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return(L=R).\u0275fac=function(V){return new(V||L)(u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(vt,8))},L.\u0275dir=u.FsC({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,ue){1&V&&u.bIt("input",function(Rn){return ue._handleInput(Rn.target.value)})("blur",function(){return ue.onTouched()})("compositionstart",function(){return ue._compositionStart()})("compositionend",function(Rn){return ue._compositionEnd(Rn.target.value)})},features:[u.Jv_([Oe]),u.Vt3]}),R})();function Ve(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function Ne(L){return null!=L&&"number"==typeof L.length}const Xe=new u.nKC(""),J=new u.nKC(""),K=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class De{static min(R){return z(R)}static max(R){return je(R)}static required(R){return function Le(L){return Ve(L.value)?{required:!0}:null}(R)}static requiredTrue(R){return function ot(L){return!0===L.value?null:{required:!0}}(R)}static email(R){return function Mt(L){return Ve(L.value)||K.test(L.value)?null:{email:!0}}(R)}static minLength(R){return function an(L){return R=>Ve(R.value)||!Ne(R.value)?null:R.value.length<L?{minlength:{requiredLength:L,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function kn(L){return R=>Ne(R.value)&&R.value.length>L?{maxlength:{requiredLength:L,actualLength:R.value.length}}:null}(R)}static pattern(R){return function st(L){if(!L)return Ee;let R,Z;return"string"==typeof L?(Z="","^"!==L.charAt(0)&&(Z+="^"),Z+=L,"$"!==L.charAt(L.length-1)&&(Z+="$"),R=new RegExp(Z)):(Z=L.toString(),R=L),V=>{if(Ve(V.value))return null;const ue=V.value;return R.test(ue)?null:{pattern:{requiredPattern:Z,actualValue:ue}}}}(R)}static nullValidator(R){return null}static compose(R){return bt(R)}static composeAsync(R){return _t(R)}}function z(L){return R=>{if(Ve(R.value)||Ve(L))return null;const Z=parseFloat(R.value);return!isNaN(Z)&&Z<L?{min:{min:L,actual:R.value}}:null}}function je(L){return R=>{if(Ve(R.value)||Ve(L))return null;const Z=parseFloat(R.value);return!isNaN(Z)&&Z>L?{max:{max:L,actual:R.value}}:null}}function Ee(L){return null}function fe(L){return null!=L}function ye(L){return(0,u.jNT)(L)?(0,oe.H)(L):L}function Re(L){let R={};return L.forEach(Z=>{R=null!=Z?{...R,...Z}:R}),0===Object.keys(R).length?null:R}function et(L,R){return R.map(Z=>Z(L))}function pt(L){return L.map(R=>function me(L){return!L.validate}(R)?R:Z=>R.validate(Z))}function bt(L){if(!L)return null;const R=L.filter(fe);return 0==R.length?null:function(Z){return Re(et(Z,R))}}function xt(L){return null!=L?bt(pt(L)):null}function _t(L){if(!L)return null;const R=L.filter(fe);return 0==R.length?null:function(Z){return function le(...L){const R=(0,ie.ms)(L),{args:Z,keys:V}=(0,Te.D)(L),ue=new j.c(Ft=>{const{length:Rn}=Z;if(!Rn)return void Ft.complete();const Jn=new Array(Rn);let to=Rn,Bo=Rn;for(let co=0;co<Rn;co++){let Ps=!1;(0,ce.Tg)(Z[co]).subscribe((0,He._)(Ft,yo=>{Ps||(Ps=!0,Bo--),Jn[co]=yo},()=>to--,void 0,()=>{(!to||!Ps)&&(Bo||Ft.next(V?(0,ge.e)(V,Jn):Jn),Ft.complete())}))}});return R?ue.pipe((0,$e.I)(R)):ue}(et(Z,R).map(ye)).pipe((0,ke.T)(Re))}}function $t(L){return null!=L?_t(pt(L)):null}function Pn(L,R){return null===L?[R]:Array.isArray(L)?[...L,R]:[L,R]}function nn(L){return L._rawValidators}function vn(L){return L._rawAsyncValidators}function on(L){return L?Array.isArray(L)?L:[L]:[]}function Ct(L,R){return Array.isArray(L)?L.includes(R):L===R}function gt(L,R){const Z=on(R);return on(L).forEach(ue=>{Ct(Z,ue)||Z.push(ue)}),Z}function It(L,R){return on(R).filter(Z=>!Ct(L,Z))}class ht{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=xt(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=$t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R=void 0){this.control&&this.control.reset(R)}hasError(R,Z){return!!this.control&&this.control.hasError(R,Z)}getError(R,Z){return this.control?this.control.getError(R,Z):null}}class Zt extends ht{get formDirective(){return null}get path(){return null}}class Nn extends ht{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sn{constructor(R){this._cd=R}get isTouched(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.touched)}get isUntouched(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.untouched)}get isPristine(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.pristine)}get isDirty(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.dirty)}get isValid(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.valid)}get isInvalid(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.invalid)}get isPending(){var R;return!(null===(R=this._cd)||void 0===R||null===(R=R.control)||void 0===R||!R.pending)}get isSubmitted(){var R;return!(null===(R=this._cd)||void 0===R||!R.submitted)}}let Gn=(()=>{var L;class R extends Sn{constructor(V){super(V)}}return(L=R).\u0275fac=function(V){return new(V||L)(u.rXU(Nn,2))},L.\u0275dir=u.FsC({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,ue){2&V&&u.AVh("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)},features:[u.Vt3]}),R})(),ln=(()=>{var L;class R extends Sn{constructor(V){super(V)}}return(L=R).\u0275fac=function(V){return new(V||L)(u.rXU(Zt,10))},L.\u0275dir=u.FsC({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,ue){2&V&&u.AVh("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)("ng-submitted",ue.isSubmitted)},features:[u.Vt3]}),R})();const Ye="VALID",ze="INVALID",mt="PENDING",We="DISABLED";function ee(L){return(qe(L)?L.validators:L)||null}function Ae(L,R){return(qe(R)?R.asyncValidators:L)||null}function qe(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function jt(L,R,Z){const V=L.controls;if(!(R?Object.keys(V):V).length)throw new u.wOt(1e3,"");if(!V[Z])throw new u.wOt(1001,"")}function pn(L,R,Z){L._forEachChild((V,ue)=>{if(void 0===Z[ue])throw new u.wOt(1002,"")})}class qn{constructor(R,Z){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(R),this._assignAsyncValidators(Z)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===Ye}get invalid(){return this.status===ze}get pending(){return this.status==mt}get disabled(){return this.status===We}get enabled(){return this.status!==We}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._assignValidators(R)}setAsyncValidators(R){this._assignAsyncValidators(R)}addValidators(R){this.setValidators(gt(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(gt(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(It(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(It(R,this._rawAsyncValidators))}hasValidator(R){return Ct(this._rawValidators,R)}hasAsyncValidator(R){return Ct(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Z=>{Z.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Z=>{Z.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=mt,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const Z=this._parentMarkedDirty(R.onlySelf);this.status=We,this.errors=null,this._forEachChild(V=>{V.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:Z}),this._onDisabledChange.forEach(V=>V(!0))}enable(R={}){const Z=this._parentMarkedDirty(R.onlySelf);this.status=Ye,this._forEachChild(V=>{V.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:Z}),this._onDisabledChange.forEach(V=>V(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ye||this.status===mt)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(Z=>Z._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?We:Ye}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=mt,this._hasOwnPendingAsyncValidator=!0;const Z=ye(this.asyncValidator(this));this._asyncValidationSubscription=Z.subscribe(V=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(V,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,Z={}){this.errors=R,this._updateControlsErrors(!1!==Z.emitEvent)}get(R){let Z=R;return null==Z||(Array.isArray(Z)||(Z=Z.split(".")),0===Z.length)?null:Z.reduce((V,ue)=>V&&V._find(ue),this)}getError(R,Z){const V=Z?this.get(Z):this;return V&&V.errors?V.errors[R]:null}hasError(R,Z){return!!this.getError(R,Z)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new u.bkB,this.statusChanges=new u.bkB}_calculateStatus(){return this._allControlsDisabled()?We:this.errors?ze:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mt)?mt:this._anyControlsHaveStatus(ze)?ze:Ye}_anyControlsHaveStatus(R){return this._anyControls(Z=>Z.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){qe(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}_assignValidators(R){this._rawValidators=Array.isArray(R)?R.slice():R,this._composedValidatorFn=function se(L){return Array.isArray(L)?xt(L):L||null}(this._rawValidators)}_assignAsyncValidators(R){this._rawAsyncValidators=Array.isArray(R)?R.slice():R,this._composedAsyncValidatorFn=function lt(L){return Array.isArray(L)?$t(L):L||null}(this._rawAsyncValidators)}}class er extends qn{constructor(R,Z,V){super(ee(Z),Ae(V,Z)),this.controls=R,this._initObservables(),this._setUpdateStrategy(Z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,Z){return this.controls[R]?this.controls[R]:(this.controls[R]=Z,Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange),Z)}addControl(R,Z,V={}){this.registerControl(R,Z),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}removeControl(R,Z={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}setControl(R,Z,V={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],Z&&this.registerControl(R,Z),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,Z={}){pn(this,0,R),Object.keys(R).forEach(V=>{jt(this,!0,V),this.controls[V].setValue(R[V],{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z)}patchValue(R,Z={}){null!=R&&(Object.keys(R).forEach(V=>{const ue=this.controls[V];ue&&ue.patchValue(R[V],{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z))}reset(R={},Z={}){this._forEachChild((V,ue)=>{V.reset(R?R[ue]:null,{onlySelf:!0,emitEvent:Z.emitEvent})}),this._updatePristine(Z),this._updateTouched(Z),this.updateValueAndValidity(Z)}getRawValue(){return this._reduceChildren({},(R,Z,V)=>(R[V]=Z.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(Z,V)=>!!V._syncPendingControls()||Z);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(Z=>{const V=this.controls[Z];V&&R(V,Z)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[Z,V]of Object.entries(this.controls))if(this.contains(Z)&&R(V))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Z,V,ue)=>((V.enabled||this.disabled)&&(Z[ue]=V.value),Z))}_reduceChildren(R,Z){let V=R;return this._forEachChild((ue,Ft)=>{V=Z(V,ue,Ft)}),V}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}class Xt extends er{}const Br=new u.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Pi}),Pi="always";function Fi(L,R,Z=Pi){var V,ue;ut(L,R),R.valueAccessor.writeValue(L.value),(L.disabled||"always"===Z)&&(null===(V=(ue=R.valueAccessor).setDisabledState)||void 0===V||V.call(ue,L.disabled)),function Tt(L,R){R.valueAccessor.registerOnChange(Z=>{L._pendingValue=Z,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&Dn(L,R)})}(L,R),function Ln(L,R){const Z=(V,ue)=>{R.valueAccessor.writeValue(V),ue&&R.viewToModelUpdate(V)};L.registerOnChange(Z),R._registerOnDestroy(()=>{L._unregisterOnChange(Z)})}(L,R),function tn(L,R){R.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&Dn(L,R),"submit"!==L.updateOn&&L.markAsTouched()})}(L,R),function Ai(L,R){if(R.valueAccessor.setDisabledState){const Z=V=>{R.valueAccessor.setDisabledState(V)};L.registerOnDisabledChange(Z),R._registerOnDestroy(()=>{L._unregisterOnDisabledChange(Z)})}}(L,R)}function Yn(L,R,Z=!0){const V=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(V),R.valueAccessor.registerOnTouched(V)),tt(L,R),L&&(R._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function Si(L,R){L.forEach(Z=>{Z.registerOnValidatorChange&&Z.registerOnValidatorChange(R)})}function ut(L,R){const Z=nn(L);null!==R.validator?L.setValidators(Pn(Z,R.validator)):"function"==typeof Z&&L.setValidators([Z]);const V=vn(L);null!==R.asyncValidator?L.setAsyncValidators(Pn(V,R.asyncValidator)):"function"==typeof V&&L.setAsyncValidators([V]);const ue=()=>L.updateValueAndValidity();Si(R._rawValidators,ue),Si(R._rawAsyncValidators,ue)}function tt(L,R){let Z=!1;if(null!==L){if(null!==R.validator){const ue=nn(L);if(Array.isArray(ue)&&ue.length>0){const Ft=ue.filter(Rn=>Rn!==R.validator);Ft.length!==ue.length&&(Z=!0,L.setValidators(Ft))}}if(null!==R.asyncValidator){const ue=vn(L);if(Array.isArray(ue)&&ue.length>0){const Ft=ue.filter(Rn=>Rn!==R.asyncValidator);Ft.length!==ue.length&&(Z=!0,L.setAsyncValidators(Ft))}}}const V=()=>{};return Si(R._rawValidators,V),Si(R._rawAsyncValidators,V),Z}function Dn(L,R){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function On(L,R){const Z=L.indexOf(R);Z>-1&&L.splice(Z,1)}function Gr(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}Promise.resolve();const dt=class extends qn{constructor(R=null,Z,V){super(ee(Z),Ae(V,Z)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(Z),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qe(Z)&&(Z.nonNullable||Z.initialValueIsDefault)&&(this.defaultValue=Gr(R)?R.value:R)}setValue(R,Z={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==Z.emitModelToViewChange&&this._onChange.forEach(V=>V(this.value,!1!==Z.emitViewToModelChange)),this.updateValueAndValidity(Z)}patchValue(R,Z={}){this.setValue(R,Z)}reset(R=this.defaultValue,Z={}){this._applyFormState(R),this.markAsPristine(Z),this.markAsUntouched(Z),this.setValue(this.value,Z),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){On(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){On(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){Gr(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}};Promise.resolve();let En=(()=>{var L;class R{}return(L=R).\u0275fac=function(V){return new(V||L)},L.\u0275dir=u.FsC({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),R})();const cr=new u.nKC(""),xi={provide:Zt,useExisting:(0,u.Rfq)(()=>_i)};let _i=(()=>{var L;class R extends Zt{constructor(V,ue,Ft){super(),this.callSetDisabledState=Ft,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.bkB,this._setValidators(V),this._setAsyncValidators(ue)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const ue=this.form.get(V.path);return Fi(ue,V,this.callSetDisabledState),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),ue}getControl(V){return this.form.get(V.path)}removeControl(V){Yn(V.control||null,V,!1),function rt(L,R){const Z=L.indexOf(R);Z>-1&&L.splice(Z,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,ue){this.form.get(V.path).setValue(ue)}onSubmit(V){var ue;return this.submitted=!0,function H(L,R){L._syncPendingControls(),R.forEach(Z=>{const V=Z.control;"submit"===V.updateOn&&V._pendingChange&&(Z.viewToModelUpdate(V._pendingValue),V._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===(null==V||null===(ue=V.target)||void 0===ue?void 0:ue.method)}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const ue=V.control,Ft=this.form.get(V.path);ue!==Ft&&(Yn(ue||null,V),(L=>L instanceof dt)(Ft)&&(Fi(Ft,V,this.callSetDisabledState),V.control=Ft))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const ue=this.form.get(V.path);(function Un(L,R){ut(L,R)})(ue,V),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const ue=this.form.get(V.path);ue&&function Bn(L,R){return tt(L,R)}(ue,V)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ut(this.form,this),this._oldForm&&tt(this._oldForm,this)}_checkFormPresent(){}}return(L=R).\u0275fac=function(V){return new(V||L)(u.rXU(Xe,10),u.rXU(J,10),u.rXU(Br,8))},L.\u0275dir=u.FsC({type:L,selectors:[["","formGroup",""]],hostBindings:function(V,ue){1&V&&u.bIt("submit",function(Rn){return ue.onSubmit(Rn)})("reset",function(){return ue.onReset()})},inputs:{form:[u.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.Jv_([xi]),u.Vt3,u.OA$]}),R})();const Zn={provide:Nn,useExisting:(0,u.Rfq)(()=>bs)};let bs=(()=>{var L;class R extends Nn{set isDisabled(V){}constructor(V,ue,Ft,Rn,Jn){super(),this._ngModelWarningConfig=Jn,this._added=!1,this.name=null,this.update=new u.bkB,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(ue),this._setAsyncValidators(Ft),this.valueAccessor=function pe(L,R){if(!R)return null;let Z,V,ue;return Array.isArray(R),R.forEach(Ft=>{Ft.constructor===ae?Z=Ft:function Ie(L){return Object.getPrototypeOf(L.constructor)===xe}(Ft)?V=Ft:ue=Ft}),ue||V||Z||null}(0,Rn)}ngOnChanges(V){this._added||this._setUpControl(),function he(L,R){if(!L.hasOwnProperty("model"))return!1;const Z=L.model;return!!Z.isFirstChange()||!Object.is(R,Z.currentValue)}(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return function ki(L,R){return[...R.path,L]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(L=R)._ngModelWarningSentOnce=!1,L.\u0275fac=function(V){return new(V||L)(u.rXU(Zt,13),u.rXU(Xe,10),u.rXU(J,10),u.rXU(Me,10),u.rXU(cr,8))},L.\u0275dir=u.FsC({type:L,selectors:[["","formControlName",""]],inputs:{name:[u.Mj6.None,"formControlName","name"],isDisabled:[u.Mj6.None,"disabled","isDisabled"],model:[u.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[u.Jv_([Zn]),u.Vt3,u.OA$]}),R})();function Ui(L){return"number"==typeof L?L:parseFloat(L)}let Bi=(()=>{var L;class R{constructor(){this._validator=Ee}ngOnChanges(V){if(this.inputName in V){const ue=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):Ee,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}}return(L=R).\u0275fac=function(V){return new(V||L)},L.\u0275dir=u.FsC({type:L,features:[u.OA$]}),R})();const tl={provide:Xe,useExisting:(0,u.Rfq)(()=>ms),multi:!0};let ms=(()=>{var L;class R extends Bi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=V=>Ui(V),this.createValidator=V=>je(V)}}return(L=R).\u0275fac=(()=>{let Z;return function(ue){return(Z||(Z=u.xGo(L)))(ue||L)}})(),L.\u0275dir=u.FsC({type:L,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(V,ue){2&V&&u.BMQ("max",ue._enabled?ue.max:null)},inputs:{max:"max"},features:[u.Jv_([tl]),u.Vt3]}),R})();const Rs={provide:Xe,useExisting:(0,u.Rfq)(()=>Aa),multi:!0};let Aa=(()=>{var L;class R extends Bi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=V=>Ui(V),this.createValidator=V=>z(V)}}return(L=R).\u0275fac=(()=>{let Z;return function(ue){return(Z||(Z=u.xGo(L)))(ue||L)}})(),L.\u0275dir=u.FsC({type:L,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(V,ue){2&V&&u.BMQ("min",ue._enabled?ue.min:null)},inputs:{min:"min"},features:[u.Jv_([Rs]),u.Vt3]}),R})(),Uo=(()=>{var L;class R{}return(L=R).\u0275fac=function(V){return new(V||L)},L.\u0275mod=u.$C({type:L}),L.\u0275inj=u.G2t({}),R})();class $i extends qn{constructor(R,Z,V){super(ee(Z),Ae(V,Z)),this.controls=R,this._initObservables(),this._setUpdateStrategy(Z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[this._adjustIndex(R)]}push(R,Z={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}insert(R,Z,V={}){this.controls.splice(R,0,Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:V.emitEvent})}removeAt(R,Z={}){let V=this._adjustIndex(R);V<0&&(V=0),this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),this.controls.splice(V,1),this.updateValueAndValidity({emitEvent:Z.emitEvent})}setControl(R,Z,V={}){let ue=this._adjustIndex(R);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),Z&&(this.controls.splice(ue,0,Z),this._registerControl(Z)),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,Z={}){pn(this,0,R),R.forEach((V,ue)=>{jt(this,!1,ue),this.at(ue).setValue(V,{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z)}patchValue(R,Z={}){null!=R&&(R.forEach((V,ue)=>{this.at(ue)&&this.at(ue).patchValue(V,{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z))}reset(R=[],Z={}){this._forEachChild((V,ue)=>{V.reset(R[ue],{onlySelf:!0,emitEvent:Z.emitEvent})}),this._updatePristine(Z),this._updateTouched(Z),this.updateValueAndValidity(Z)}getRawValue(){return this.controls.map(R=>R.getRawValue())}clear(R={}){this.controls.length<1||(this._forEachChild(Z=>Z._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_adjustIndex(R){return R<0?R+this.length:R}_syncPendingControls(){let R=this.controls.reduce((Z,V)=>!!V._syncPendingControls()||Z,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((Z,V)=>{R(Z,V)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(Z=>Z.enabled&&R(Z))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}_find(R){var Z;return null!==(Z=this.at(R))&&void 0!==Z?Z:null}}function $s(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let Ti=(()=>{var L;class R{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new R;return V.useNonNullable=!0,V}group(V,ue=null){const Ft=this._reduceControls(V);let Rn={};return $s(ue)?Rn=ue:null!==ue&&(Rn.validators=ue.validator,Rn.asyncValidators=ue.asyncValidator),new er(Ft,Rn)}record(V,ue=null){const Ft=this._reduceControls(V);return new Xt(Ft,ue)}control(V,ue,Ft){let Rn={};return this.useNonNullable?($s(ue)?Rn=ue:(Rn.validators=ue,Rn.asyncValidators=Ft),new dt(V,{...Rn,nonNullable:!0})):new dt(V,ue,Ft)}array(V,ue,Ft){const Rn=V.map(Jn=>this._createControl(Jn));return new $i(Rn,ue,Ft)}_reduceControls(V){const ue={};return Object.keys(V).forEach(Ft=>{ue[Ft]=this._createControl(V[Ft])}),ue}_createControl(V){return V instanceof dt||V instanceof qn?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}}return(L=R).\u0275fac=function(V){return new(V||L)},L.\u0275prov=u.jDH({token:L,factory:L.\u0275fac,providedIn:"root"}),R})(),Hs=(()=>{var L;class R{static withConfig(V){var ue;return{ngModule:R,providers:[{provide:Br,useValue:null!==(ue=V.callSetDisabledState)&&void 0!==ue?ue:Pi}]}}}return(L=R).\u0275fac=function(V){return new(V||L)},L.\u0275mod=u.$C({type:L}),L.\u0275inj=u.G2t({imports:[Uo]}),R})(),vs=(()=>{var L;class R{static withConfig(V){var ue,Ft;return{ngModule:R,providers:[{provide:cr,useValue:null!==(ue=V.warnOnNgModelWithFormControl)&&void 0!==ue?ue:"always"},{provide:Br,useValue:null!==(Ft=V.callSetDisabledState)&&void 0!==Ft?Ft:Pi}]}}}return(L=R).\u0275fac=function(V){return new(V||L)},L.\u0275mod=u.$C({type:L}),L.\u0275inj=u.G2t({imports:[Uo]}),R})()},345:(Qt,Je,O)=>{"use strict";O.d(Je,{Bb:()=>on,hE:()=>It,sG:()=>$t});var u=O(4438),G=O(177);class oe extends G.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class j extends oe{static makeCurrent(){(0,G.ZD)(new j)}onAndCancel(ze,mt,We){return ze.addEventListener(mt,We),()=>{ze.removeEventListener(mt,We)}}dispatchEvent(ze,mt){ze.dispatchEvent(mt)}remove(ze){ze.parentNode&&ze.parentNode.removeChild(ze)}createElement(ze,mt){return(mt=mt||this.getDefaultDocument()).createElement(ze)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ze){return ze.nodeType===Node.ELEMENT_NODE}isShadowRoot(ze){return ze instanceof DocumentFragment}getGlobalEventTarget(ze,mt){return"window"===mt?window:"document"===mt?ze:"body"===mt?ze.body:null}getBaseHref(ze){const mt=function ce(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==mt?null:function ie(Ye){return new URL(Ye,document.baseURI).pathname}(mt)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(ze){return(0,G._b)(document.cookie,ze)}}let Te=null,$e=(()=>{var Ye;class ze{build(){return new XMLHttpRequest}}return(Ye=ze).\u0275fac=function(We){return new(We||Ye)},Ye.\u0275prov=u.jDH({token:Ye,factory:Ye.\u0275fac}),ze})();const ge=new u.nKC("");let le=(()=>{var Ye;class ze{constructor(We,ee){this._zone=ee,this._eventNameToPlugin=new Map,We.forEach(se=>{se.manager=this}),this._plugins=We.slice().reverse()}addEventListener(We,ee,se){return this._findPluginFor(ee).addEventListener(We,ee,se)}getZone(){return this._zone}_findPluginFor(We){let ee=this._eventNameToPlugin.get(We);if(ee)return ee;if(ee=this._plugins.find(Ae=>Ae.supports(We)),!ee)throw new u.wOt(5101,!1);return this._eventNameToPlugin.set(We,ee),ee}}return(Ye=ze).\u0275fac=function(We){return new(We||Ye)(u.KVO(ge),u.KVO(u.SKi))},Ye.\u0275prov=u.jDH({token:Ye,factory:Ye.\u0275fac}),ze})();class ke{constructor(ze){this._doc=ze}}const we="ng-app-id";let xe=(()=>{var Ye;class ze{constructor(We,ee,se,Ae={}){this.doc=We,this.appId=ee,this.nonce=se,this.platformId=Ae,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,G.Vy)(Ae),this.resetHostNodes()}addStyles(We){for(const ee of We)1===this.changeUsageCount(ee,1)&&this.onStyleAdded(ee)}removeStyles(We){for(const ee of We)this.changeUsageCount(ee,-1)<=0&&this.onStyleRemoved(ee)}ngOnDestroy(){const We=this.styleNodesInDOM;We&&(We.forEach(ee=>ee.remove()),We.clear());for(const ee of this.getAllStyles())this.onStyleRemoved(ee);this.resetHostNodes()}addHost(We){this.hostNodes.add(We);for(const ee of this.getAllStyles())this.addStyleToHost(We,ee)}removeHost(We){this.hostNodes.delete(We)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(We){for(const ee of this.hostNodes)this.addStyleToHost(ee,We)}onStyleRemoved(We){var ee;const se=this.styleRef;null===(ee=se.get(We))||void 0===ee||null===(ee=ee.elements)||void 0===ee||ee.forEach(Ae=>Ae.remove()),se.delete(We)}collectServerRenderedStyles(){var We;const ee=null===(We=this.doc.head)||void 0===We?void 0:We.querySelectorAll(`style[${we}="${this.appId}"]`);if(null!=ee&&ee.length){const se=new Map;return ee.forEach(Ae=>{null!=Ae.textContent&&se.set(Ae.textContent,Ae)}),se}return null}changeUsageCount(We,ee){const se=this.styleRef;if(se.has(We)){const Ae=se.get(We);return Ae.usage+=ee,Ae.usage}return se.set(We,{usage:ee,elements:[]}),ee}getStyleElement(We,ee){const se=this.styleNodesInDOM,Ae=null==se?void 0:se.get(ee);if((null==Ae?void 0:Ae.parentNode)===We)return se.delete(ee),Ae.removeAttribute(we),Ae;{const lt=this.doc.createElement("style");return this.nonce&&lt.setAttribute("nonce",this.nonce),lt.textContent=ee,this.platformIsServer&&lt.setAttribute(we,this.appId),We.appendChild(lt),lt}}addStyleToHost(We,ee){var se;const Ae=this.getStyleElement(We,ee),lt=this.styleRef,qe=null===(se=lt.get(ee))||void 0===se?void 0:se.elements;qe?qe.push(Ae):lt.set(ee,{elements:[Ae],usage:1})}resetHostNodes(){const We=this.hostNodes;We.clear(),We.add(this.doc.head)}}return(Ye=ze).\u0275fac=function(We){return new(We||Ye)(u.KVO(G.qQ),u.KVO(u.sZ2),u.KVO(u.BIS,8),u.KVO(u.Agw))},Ye.\u0275prov=u.jDH({token:Ye,factory:Ye.\u0275fac}),ze})();const Me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ze=/%COMP%/g,ae=new u.nKC("",{providedIn:"root",factory:()=>!0});function Xe(Ye,ze){return ze.map(mt=>mt.replace(Ze,Ye))}let J=(()=>{var Ye;class ze{constructor(We,ee,se,Ae,lt,qe,jt,pn=null){this.eventManager=We,this.sharedStylesHost=ee,this.appId=se,this.removeStylesOnCompDestroy=Ae,this.doc=lt,this.platformId=qe,this.ngZone=jt,this.nonce=pn,this.rendererByCompId=new Map,this.platformIsServer=(0,G.Vy)(qe),this.defaultRenderer=new K(We,lt,jt,this.platformIsServer)}createRenderer(We,ee){if(!We||!ee)return this.defaultRenderer;this.platformIsServer&&ee.encapsulation===u.gXe.ShadowDom&&(ee={...ee,encapsulation:u.gXe.Emulated});const se=this.getOrCreateRenderer(We,ee);return se instanceof Mt?se.applyToHost(We):se instanceof ot&&se.applyStyles(),se}getOrCreateRenderer(We,ee){const se=this.rendererByCompId;let Ae=se.get(ee.id);if(!Ae){const lt=this.doc,qe=this.ngZone,jt=this.eventManager,pn=this.sharedStylesHost,qn=this.removeStylesOnCompDestroy,er=this.platformIsServer;switch(ee.encapsulation){case u.gXe.Emulated:Ae=new Mt(jt,pn,ee,this.appId,qn,lt,qe,er);break;case u.gXe.ShadowDom:return new Le(jt,pn,We,ee,lt,qe,this.nonce,er);default:Ae=new ot(jt,pn,ee,qn,lt,qe,er)}se.set(ee.id,Ae)}return Ae}ngOnDestroy(){this.rendererByCompId.clear()}}return(Ye=ze).\u0275fac=function(We){return new(We||Ye)(u.KVO(le),u.KVO(xe),u.KVO(u.sZ2),u.KVO(ae),u.KVO(G.qQ),u.KVO(u.Agw),u.KVO(u.SKi),u.KVO(u.BIS))},Ye.\u0275prov=u.jDH({token:Ye,factory:Ye.\u0275fac}),ze})();class K{constructor(ze,mt,We,ee){this.eventManager=ze,this.doc=mt,this.ngZone=We,this.platformIsServer=ee,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ze,mt){return mt?this.doc.createElementNS(Me[mt]||mt,ze):this.doc.createElement(ze)}createComment(ze){return this.doc.createComment(ze)}createText(ze){return this.doc.createTextNode(ze)}appendChild(ze,mt){(je(ze)?ze.content:ze).appendChild(mt)}insertBefore(ze,mt,We){ze&&(je(ze)?ze.content:ze).insertBefore(mt,We)}removeChild(ze,mt){ze&&ze.removeChild(mt)}selectRootElement(ze,mt){let We="string"==typeof ze?this.doc.querySelector(ze):ze;if(!We)throw new u.wOt(-5104,!1);return mt||(We.textContent=""),We}parentNode(ze){return ze.parentNode}nextSibling(ze){return ze.nextSibling}setAttribute(ze,mt,We,ee){if(ee){mt=ee+":"+mt;const se=Me[ee];se?ze.setAttributeNS(se,mt,We):ze.setAttribute(mt,We)}else ze.setAttribute(mt,We)}removeAttribute(ze,mt,We){if(We){const ee=Me[We];ee?ze.removeAttributeNS(ee,mt):ze.removeAttribute(`${We}:${mt}`)}else ze.removeAttribute(mt)}addClass(ze,mt){ze.classList.add(mt)}removeClass(ze,mt){ze.classList.remove(mt)}setStyle(ze,mt,We,ee){ee&(u.czy.DashCase|u.czy.Important)?ze.style.setProperty(mt,We,ee&u.czy.Important?"important":""):ze.style[mt]=We}removeStyle(ze,mt,We){We&u.czy.DashCase?ze.style.removeProperty(mt):ze.style[mt]=""}setProperty(ze,mt,We){null!=ze&&(ze[mt]=We)}setValue(ze,mt){ze.nodeValue=mt}listen(ze,mt,We){if("string"==typeof ze&&!(ze=(0,G.QT)().getGlobalEventTarget(this.doc,ze)))throw new Error(`Unsupported event target ${ze} for event ${mt}`);return this.eventManager.addEventListener(ze,mt,this.decoratePreventDefault(We))}decoratePreventDefault(ze){return mt=>{if("__ngUnwrap__"===mt)return ze;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ze(mt)):ze(mt))&&mt.preventDefault()}}}function je(Ye){return"TEMPLATE"===Ye.tagName&&void 0!==Ye.content}class Le extends K{constructor(ze,mt,We,ee,se,Ae,lt,qe){super(ze,se,Ae,qe),this.sharedStylesHost=mt,this.hostEl=We,this.shadowRoot=We.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const jt=Xe(ee.id,ee.styles);for(const pn of jt){const qn=document.createElement("style");lt&&qn.setAttribute("nonce",lt),qn.textContent=pn,this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(ze){return ze===this.hostEl?this.shadowRoot:ze}appendChild(ze,mt){return super.appendChild(this.nodeOrShadowRoot(ze),mt)}insertBefore(ze,mt,We){return super.insertBefore(this.nodeOrShadowRoot(ze),mt,We)}removeChild(ze,mt){return super.removeChild(this.nodeOrShadowRoot(ze),mt)}parentNode(ze){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ze)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ot extends K{constructor(ze,mt,We,ee,se,Ae,lt,qe){super(ze,se,Ae,lt),this.sharedStylesHost=mt,this.removeStylesOnCompDestroy=ee,this.styles=qe?Xe(qe,We.styles):We.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Mt extends ot{constructor(ze,mt,We,ee,se,Ae,lt,qe){const jt=ee+"-"+We.id;super(ze,mt,We,se,Ae,lt,qe,jt),this.contentAttr=function Ve(Ye){return"_ngcontent-%COMP%".replace(Ze,Ye)}(jt),this.hostAttr=function Ne(Ye){return"_nghost-%COMP%".replace(Ze,Ye)}(jt)}applyToHost(ze){this.applyStyles(),this.setAttribute(ze,this.hostAttr,"")}createElement(ze,mt){const We=super.createElement(ze,mt);return super.setAttribute(We,this.contentAttr,""),We}}let an=(()=>{var Ye;class ze extends ke{constructor(We){super(We)}supports(We){return!0}addEventListener(We,ee,se){return We.addEventListener(ee,se,!1),()=>this.removeEventListener(We,ee,se)}removeEventListener(We,ee,se){return We.removeEventListener(ee,se)}}return(Ye=ze).\u0275fac=function(We){return new(We||Ye)(u.KVO(G.qQ))},Ye.\u0275prov=u.jDH({token:Ye,factory:Ye.\u0275fac}),ze})();const kn=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ee={alt:Ye=>Ye.altKey,control:Ye=>Ye.ctrlKey,meta:Ye=>Ye.metaKey,shift:Ye=>Ye.shiftKey};let fe=(()=>{var Ye;class ze extends ke{constructor(We){super(We)}supports(We){return null!=ze.parseEventName(We)}addEventListener(We,ee,se){const Ae=ze.parseEventName(ee),lt=ze.eventCallback(Ae.fullKey,se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,G.QT)().onAndCancel(We,Ae.domEventName,lt))}static parseEventName(We){const ee=We.toLowerCase().split("."),se=ee.shift();if(0===ee.length||"keydown"!==se&&"keyup"!==se)return null;const Ae=ze._normalizeKey(ee.pop());let lt="",qe=ee.indexOf("code");if(qe>-1&&(ee.splice(qe,1),lt="code."),kn.forEach(pn=>{const qn=ee.indexOf(pn);qn>-1&&(ee.splice(qn,1),lt+=pn+".")}),lt+=Ae,0!=ee.length||0===Ae.length)return null;const jt={};return jt.domEventName=se,jt.fullKey=lt,jt}static matchEventFullKeyCode(We,ee){let se=st[We.key]||We.key,Ae="";return ee.indexOf("code.")>-1&&(se=We.code,Ae="code."),!(null==se||!se)&&(se=se.toLowerCase()," "===se?se="space":"."===se&&(se="dot"),kn.forEach(lt=>{lt!==se&&(0,Ee[lt])(We)&&(Ae+=lt+".")}),Ae+=se,Ae===ee)}static eventCallback(We,ee,se){return Ae=>{ze.matchEventFullKeyCode(Ae,We)&&se.runGuarded(()=>ee(Ae))}}static _normalizeKey(We){return"esc"===We?"escape":We}}return(Ye=ze).\u0275fac=function(We){return new(We||Ye)(u.KVO(G.qQ))},Ye.\u0275prov=u.jDH({token:Ye,factory:Ye.\u0275fac}),ze})();const $t=(0,u.oH4)(u.fpN,"browser",[{provide:u.Agw,useValue:G.AJ},{provide:u.PLl,useValue:function pt(){j.makeCurrent()},multi:!0},{provide:G.qQ,useFactory:function xt(){return(0,u.TL$)(document),document},deps:[]}]),Pn=new u.nKC(""),nn=[{provide:u.e01,useClass:class He{addToWindow(ze){u.JZv.getAngularTestability=(We,ee=!0)=>{const se=ze.findTestabilityInTree(We,ee);if(null==se)throw new u.wOt(5103,!1);return se},u.JZv.getAllAngularTestabilities=()=>ze.getAllTestabilities(),u.JZv.getAllAngularRootElements=()=>ze.getAllRootElements(),u.JZv.frameworkStabilizers||(u.JZv.frameworkStabilizers=[]),u.JZv.frameworkStabilizers.push(We=>{const ee=u.JZv.getAllAngularTestabilities();let se=ee.length;const Ae=function(){se--,0==se&&We()};ee.forEach(lt=>{lt.whenStable(Ae)})})}findTestabilityInTree(ze,mt,We){if(null==mt)return null;const ee=ze.getTestability(mt);return null!=ee?ee:We?(0,G.QT)().isShadowRoot(mt)?this.findTestabilityInTree(ze,mt.host,!0):this.findTestabilityInTree(ze,mt.parentElement,!0):null}},deps:[]},{provide:u.WHO,useClass:u.NYb,deps:[u.SKi,u.giA,u.e01]},{provide:u.NYb,useClass:u.NYb,deps:[u.SKi,u.giA,u.e01]}],vn=[{provide:u.H8p,useValue:"root"},{provide:u.zcH,useFactory:function bt(){return new u.zcH},deps:[]},{provide:ge,useClass:an,multi:!0,deps:[G.qQ,u.SKi,u.Agw]},{provide:ge,useClass:fe,multi:!0,deps:[G.qQ]},J,xe,le,{provide:u._9s,useExisting:J},{provide:G.N0,useClass:$e,deps:[]},[]];let on=(()=>{var Ye;class ze{constructor(We){}static withServerTransition(We){return{ngModule:ze,providers:[{provide:u.sZ2,useValue:We.appId}]}}}return(Ye=ze).\u0275fac=function(We){return new(We||Ye)(u.KVO(Pn,12))},Ye.\u0275mod=u.$C({type:Ye}),Ye.\u0275inj=u.G2t({providers:[...vn,...nn],imports:[G.MD,u.Hbi]}),ze})(),It=(()=>{var Ye;class ze{constructor(We){this._doc=We}getTitle(){return this._doc.title}setTitle(We){this._doc.title=We||""}}return(Ye=ze).\u0275fac=function(We){return new(We||Ye)(u.KVO(G.qQ))},Ye.\u0275prov=u.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),ze})()},4964:(Qt,Je,O)=>{"use strict";O.d(Je,{nX:()=>xi,Zp:()=>Pr,Z:()=>rt,Xk:()=>_t,Kp:()=>ni,Ix:()=>Bt,Wk:()=>Ii,iI:()=>fn,Sd:()=>$n});var u=O(4438),G=O(1985),oe=O(8071),Te=O(8455),ce=O(7673),ie=O(4412),He=O(4572),$e=O(9350),ge=O(8793),le=O(8750);function ke(y){return new G.c(w=>{(0,le.Tg)(y()).subscribe(w)})}var we=O(1203);function xe(y,w){const D=(0,oe.T)(y)?y:()=>y,T=M=>M.error(D());return new G.c(w?M=>w.schedule(T,0,M):T)}var Me=O(983),Ze=O(8359),Fe=O(9974),Oe=O(4360);function Ue(){return(0,Fe.N)((y,w)=>{let D=null;y._refCount++;const T=(0,Oe._)(w,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(D=null);const M=y._connection,Y=D;D=null,M&&(!Y||M===Y)&&M.unsubscribe(),w.unsubscribe()});y.subscribe(T),T.closed||(D=y.connect())})}class vt extends G.c{constructor(w,D){super(),this.source=w,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,Fe.S)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new Ze.yU;const D=this.getSubject();w.add(this.source.subscribe((0,Oe._)(D,void 0,()=>{this._teardown(),D.complete()},T=>{this._teardown(),D.error(T)},()=>this._teardown()))),w.closed&&(this._connection=null,w=Ze.yU.EMPTY)}return w}refCount(){return Ue()(this)}}var ae=O(1413),Ve=O(177),Ne=O(6354),Xe=O(5558),J=O(6697),K=O(9172),De=O(5964),z=O(1397),je=O(1594);function Le(y,w){return(0,oe.T)(w)?(0,z.Z)(y,w,1):(0,z.Z)(y,1)}var ot=O(8141);function Mt(y){return(0,Fe.N)((w,D)=>{let Y,T=null,M=!1;T=w.subscribe((0,Oe._)(D,void 0,void 0,de=>{Y=(0,le.Tg)(y(de,Mt(y)(w))),T?(T.unsubscribe(),T=null,Y.subscribe(D)):M=!0})),M&&(T.unsubscribe(),T=null,Y.subscribe(D))})}var an=O(2816),kn=O(9901);function st(y){return y<=0?()=>Me.w:(0,Fe.N)((w,D)=>{let T=[];w.subscribe((0,Oe._)(D,M=>{T.push(M),y<T.length&&T.shift()},()=>{for(const M of T)D.next(M);D.complete()},void 0,()=>{T=null}))})}var Ee=O(3774),fe=O(3669);function et(y){return(0,Fe.N)((w,D)=>{try{w.subscribe(D)}finally{D.add(y)}})}var me=O(5343),bt=O(6365),xt=O(345);const _t="primary",$t=Symbol("RouteTitle");class Pn{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const D=this.params[w];return Array.isArray(D)?D[0]:D}return null}getAll(w){if(this.has(w)){const D=this.params[w];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function nn(y){return new Pn(y)}function vn(y,w,D){const T=D.path.split("/");if(T.length>y.length||"full"===D.pathMatch&&(w.hasChildren()||T.length<y.length))return null;const M={};for(let Y=0;Y<T.length;Y++){const de=T[Y],at=y[Y];if(de.startsWith(":"))M[de.substring(1)]=at;else if(de!==at.path)return null}return{consumed:y.slice(0,T.length),posParams:M}}function Ct(y,w){const D=y?gt(y):void 0,T=w?gt(w):void 0;if(!D||!T||D.length!=T.length)return!1;let M;for(let Y=0;Y<D.length;Y++)if(M=D[Y],!It(y[M],w[M]))return!1;return!0}function gt(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function It(y,w){if(Array.isArray(y)&&Array.isArray(w)){if(y.length!==w.length)return!1;const D=[...y].sort(),T=[...w].sort();return D.every((M,Y)=>T[Y]===M)}return y===w}function ht(y){return y.length>0?y[y.length-1]:null}function Zt(y){return function j(y){return!!y&&(y instanceof G.c||(0,oe.T)(y.lift)&&(0,oe.T)(y.subscribe))}(y)?y:(0,u.jNT)(y)?(0,Te.H)(Promise.resolve(y)):(0,ce.of)(y)}const Nn={exact:function Gn(y,w,D){if(!_n(y.segments,w.segments)||!mr(y.segments,w.segments,D)||y.numberOfChildren!==w.numberOfChildren)return!1;for(const T in w.children)if(!y.children[T]||!Gn(y.children[T],w.children[T],D))return!1;return!0},subset:en},Sn={exact:function xn(y,w){return Ct(y,w)},subset:function ln(y,w){return Object.keys(w).length<=Object.keys(y).length&&Object.keys(w).every(D=>It(y[D],w[D]))},ignored:()=>!0};function Kn(y,w,D){return Nn[D.paths](y.root,w.root,D.matrixParams)&&Sn[D.queryParams](y.queryParams,w.queryParams)&&!("exact"===D.fragment&&y.fragment!==w.fragment)}function en(y,w,D){return ur(y,w,w.segments,D)}function ur(y,w,D,T){if(y.segments.length>D.length){const M=y.segments.slice(0,D.length);return!(!_n(M,D)||w.hasChildren()||!mr(M,D,T))}if(y.segments.length===D.length){if(!_n(y.segments,D)||!mr(y.segments,D,T))return!1;for(const M in w.children)if(!y.children[M]||!en(y.children[M],w.children[M],T))return!1;return!0}{const M=D.slice(0,y.segments.length),Y=D.slice(y.segments.length);return!!(_n(y.segments,M)&&mr(y.segments,M,T)&&y.children[_t])&&ur(y.children[_t],w,Y,T)}}function mr(y,w,D){return w.every((T,M)=>Sn[D](y[M].parameters,T.parameters))}class wr{constructor(w=new zn([],{}),D={},T=null){this.root=w,this.queryParams=D,this.fragment=T}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return kr.serialize(this)}}class zn{constructor(w,D){this.segments=w,this.children=D,this.parent=null,Object.values(D).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return br(this)}}class Dr{constructor(w,D){this.path=w,this.parameters=D}get parameterMap(){var w;return null!==(w=this._parameterMap)&&void 0!==w||(this._parameterMap=nn(this.parameters)),this._parameterMap}toString(){return We(this)}}function _n(y,w){return y.length===w.length&&y.every((D,T)=>D.path===w[T].path)}let $n=(()=>{var y;class w{}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:()=>new Wn,providedIn:"root"}),w})();class Wn{parse(w){const D=new Yr(w);return new wr(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(w){const D=`/${Hr(w.root,!0)}`,T=function se(y){const w=Object.entries(y).map(([D,T])=>Array.isArray(T)?T.map(M=>`${Qr(D)}=${Qr(M)}`).join("&"):`${Qr(D)}=${Qr(T)}`).filter(D=>D);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${D}${T}${"string"==typeof w.fragment?`#${function si(y){return encodeURI(y)}(w.fragment)}`:""}`}}const kr=new Wn;function br(y){return y.segments.map(w=>We(w)).join("/")}function Hr(y,w){if(!y.hasChildren())return br(y);if(w){const D=y.children[_t]?Hr(y.children[_t],!1):"",T=[];return Object.entries(y.children).forEach(([M,Y])=>{M!==_t&&T.push(`${M}:${Hr(Y,!1)}`)}),T.length>0?`${D}(${T.join("//")})`:D}{const D=function oi(y,w){let D=[];return Object.entries(y.children).forEach(([T,M])=>{T===_t&&(D=D.concat(w(M,T)))}),Object.entries(y.children).forEach(([T,M])=>{T!==_t&&(D=D.concat(w(M,T)))}),D}(y,(T,M)=>M===_t?[Hr(y.children[_t],!1)]:[`${M}:${Hr(T,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[_t]?`${br(y)}/${D[0]}`:`${br(y)}/(${D.join("//")})`}}function hi(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qr(y){return hi(y).replace(/%3B/gi,";")}function Ye(y){return hi(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ze(y){return decodeURIComponent(y)}function mt(y){return ze(y.replace(/\+/g,"%20"))}function We(y){return`${Ye(y.path)}${function ee(y){return Object.entries(y).map(([w,D])=>`;${Ye(w)}=${Ye(D)}`).join("")}(y.parameters)}`}const Ae=/^[^\/()?;#]+/;function lt(y){const w=y.match(Ae);return w?w[0]:""}const qe=/^[^\/()?;=#]+/,pn=/^[^=?&#]+/,er=/^[^&#]+/;class Yr{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(w.length>0||Object.keys(D).length>0)&&(T[_t]=new zn(w,D)),T}parseSegment(){const w=lt(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new u.wOt(4009,!1);return this.capture(w),new Dr(ze(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const D=function jt(y){const w=y.match(qe);return w?w[0]:""}(this.remaining);if(!D)return;this.capture(D);let T="";if(this.consumeOptional("=")){const M=lt(this.remaining);M&&(T=M,this.capture(T))}w[ze(D)]=ze(T)}parseQueryParam(w){const D=function qn(y){const w=y.match(pn);return w?w[0]:""}(this.remaining);if(!D)return;this.capture(D);let T="";if(this.consumeOptional("=")){const de=function Ur(y){const w=y.match(er);return w?w[0]:""}(this.remaining);de&&(T=de,this.capture(T))}const M=mt(D),Y=mt(T);if(w.hasOwnProperty(M)){let de=w[M];Array.isArray(de)||(de=[de],w[M]=de),de.push(Y)}else w[M]=Y}parseParens(w){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=lt(this.remaining),M=this.remaining[T.length];if("/"!==M&&")"!==M&&";"!==M)throw new u.wOt(4010,!1);let Y;T.indexOf(":")>-1?(Y=T.slice(0,T.indexOf(":")),this.capture(Y),this.capture(":")):w&&(Y=_t);const de=this.parseChildren();D[Y]=1===Object.keys(de).length?de[_t]:new zn([],de),this.consumeOptional("//")}return D}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new u.wOt(4011,!1)}}function dn(y){return y.segments.length>0?new zn([],{[_t]:y}):y}function Xt(y){const w={};for(const[T,M]of Object.entries(y.children)){const Y=Xt(M);if(T===_t&&0===Y.segments.length&&Y.hasChildren())for(const[de,at]of Object.entries(Y.children))w[de]=at;else(Y.segments.length>0||Y.hasChildren())&&(w[T]=Y)}return function bi(y){if(1===y.numberOfChildren&&y.children[_t]){const w=y.children[_t];return new zn(y.segments.concat(w.segments),w.children)}return y}(new zn(y.segments,w))}function Br(y){return y instanceof wr}function ki(y){var w;let D;const Y=dn(function T(de){const at={};for(const yt of de.children){const Cn=T(yt);at[yt.outlet]=Cn}const Ht=new zn(de.url,at);return de===y&&(D=Ht),Ht}(y.root));return null!==(w=D)&&void 0!==w?w:Y}function Fi(y,w,D,T){let M=y;for(;M.parent;)M=M.parent;if(0===w.length)return Ai(M,M,M,D,T);const Y=function Tt(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new tt(!0,0,y);let w=0,D=!1;const T=y.reduce((M,Y,de)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const at={};return Object.entries(Y.outlets).forEach(([Ht,yt])=>{at[Ht]="string"==typeof yt?yt.split("/"):yt}),[...M,{outlets:at}]}if(Y.segmentPath)return[...M,Y.segmentPath]}return"string"!=typeof Y?[...M,Y]:0===de?(Y.split("/").forEach((at,Ht)=>{0==Ht&&"."===at||(0==Ht&&""===at?D=!0:".."===at?w++:""!=at&&M.push(at))}),M):[...M,Y]},[]);return new tt(D,w,T)}(w);if(Y.toRoot())return Ai(M,M,new zn([],{}),D,T);const de=function Dn(y,w,D){if(y.isAbsolute)return new tn(w,!0,0);if(!D)return new tn(w,!1,NaN);if(null===D.parent)return new tn(D,!0,0);const T=Yn(y.commands[0])?0:1;return function Ln(y,w,D){let T=y,M=w,Y=D;for(;Y>M;){if(Y-=M,T=T.parent,!T)throw new u.wOt(4005,!1);M=T.segments.length}return new tn(T,!1,M-Y)}(D,D.segments.length-1+T,y.numberOfDoubleDots)}(Y,M,y),at=de.processChildren?Ir(de.segmentGroup,de.index,Y.commands):Bn(de.segmentGroup,de.index,Y.commands);return Ai(M,de.segmentGroup,at,D,T)}function Yn(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Si(y){return"object"==typeof y&&null!=y&&y.outlets}function Ai(y,w,D,T,M){let de,Y={};T&&Object.entries(T).forEach(([Ht,yt])=>{Y[Ht]=Array.isArray(yt)?yt.map(Cn=>`${Cn}`):`${yt}`}),de=y===w?D:ut(y,w,D);const at=dn(Xt(de));return new wr(at,Y,M)}function ut(y,w,D){const T={};return Object.entries(y.children).forEach(([M,Y])=>{T[M]=Y===w?D:ut(Y,w,D)}),new zn(y.segments,T)}class tt{constructor(w,D,T){if(this.isAbsolute=w,this.numberOfDoubleDots=D,this.commands=T,w&&T.length>0&&Yn(T[0]))throw new u.wOt(4003,!1);const M=T.find(Si);if(M&&M!==ht(T))throw new u.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tn{constructor(w,D,T){this.segmentGroup=w,this.processChildren=D,this.index=T}}function Bn(y,w,D){var T;if(null!==(T=y)&&void 0!==T||(y=new zn([],{})),0===y.segments.length&&y.hasChildren())return Ir(y,w,D);const M=function wn(y,w,D){let T=0,M=w;const Y={match:!1,pathIndex:0,commandIndex:0};for(;M<y.segments.length;){if(T>=D.length)return Y;const de=y.segments[M],at=D[T];if(Si(at))break;const Ht=`${at}`,yt=T<D.length-1?D[T+1]:null;if(M>0&&void 0===Ht)break;if(Ht&&yt&&"object"==typeof yt&&void 0===yt.outlets){if(!he(Ht,yt,de))return Y;T+=2}else{if(!he(Ht,{},de))return Y;T++}M++}return{match:!0,pathIndex:M,commandIndex:T}}(y,w,D),Y=D.slice(M.commandIndex);if(M.match&&M.pathIndex<y.segments.length){const de=new zn(y.segments.slice(0,M.pathIndex),{});return de.children[_t]=new zn(y.segments.slice(M.pathIndex),y.children),Ir(de,0,Y)}return M.match&&0===Y.length?new zn(y.segments,{}):M.match&&!y.hasChildren()?Er(y,w,D):M.match?Ir(y,0,Y):Er(y,w,D)}function Ir(y,w,D){if(0===D.length)return new zn(y.segments,{});{const T=function Un(y){return Si(y[0])?y[0].outlets:{[_t]:y}}(D),M={};if(Object.keys(T).some(Y=>Y!==_t)&&y.children[_t]&&1===y.numberOfChildren&&0===y.children[_t].segments.length){const Y=Ir(y.children[_t],w,D);return new zn(y.segments,Y.children)}return Object.entries(T).forEach(([Y,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(M[Y]=Bn(y.children[Y],w,de))}),Object.entries(y.children).forEach(([Y,de])=>{void 0===T[Y]&&(M[Y]=de)}),new zn(y.segments,M)}}function Er(y,w,D){const T=y.segments.slice(0,w);let M=0;for(;M<D.length;){const Y=D[M];if(Si(Y)){const Ht=nr(Y.outlets);return new zn(T,Ht)}if(0===M&&Yn(D[0])){T.push(new Dr(y.segments[w].path,mo(D[0]))),M++;continue}const de=Si(Y)?Y.outlets[_t]:`${Y}`,at=M<D.length-1?D[M+1]:null;de&&at&&Yn(at)?(T.push(new Dr(de,mo(at))),M+=2):(T.push(new Dr(de,{})),M++)}return new zn(T,{})}function nr(y){const w={};return Object.entries(y).forEach(([D,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(w[D]=Er(new zn([],{}),0,T))}),w}function mo(y){const w={};return Object.entries(y).forEach(([D,T])=>w[D]=`${T}`),w}function he(y,w,D){return y==D.path&&Ct(w,D.parameters)}const Ie="imperative";var H=function(y){return y[y.NavigationStart=0]="NavigationStart",y[y.NavigationEnd=1]="NavigationEnd",y[y.NavigationCancel=2]="NavigationCancel",y[y.NavigationError=3]="NavigationError",y[y.RoutesRecognized=4]="RoutesRecognized",y[y.ResolveStart=5]="ResolveStart",y[y.ResolveEnd=6]="ResolveEnd",y[y.GuardsCheckStart=7]="GuardsCheckStart",y[y.GuardsCheckEnd=8]="GuardsCheckEnd",y[y.RouteConfigLoadStart=9]="RouteConfigLoadStart",y[y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",y[y.ChildActivationStart=11]="ChildActivationStart",y[y.ChildActivationEnd=12]="ChildActivationEnd",y[y.ActivationStart=13]="ActivationStart",y[y.ActivationEnd=14]="ActivationEnd",y[y.Scroll=15]="Scroll",y[y.NavigationSkipped=16]="NavigationSkipped",y}(H||{});class pe{constructor(w,D){this.id=w,this.url=D}}class rt extends pe{constructor(w,D,T="imperative",M=null){super(w,D),this.type=H.NavigationStart,this.navigationTrigger=T,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pt extends pe{constructor(w,D,T){super(w,D),this.urlAfterRedirects=T,this.type=H.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Yt=function(y){return y[y.Redirect=0]="Redirect",y[y.SupersededByNewNavigation=1]="SupersededByNewNavigation",y[y.NoDataFromResolver=2]="NoDataFromResolver",y[y.GuardRejected=3]="GuardRejected",y}(Yt||{}),sn=function(y){return y[y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",y[y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",y}(sn||{});class yn extends pe{constructor(w,D,T,M){super(w,D),this.reason=T,this.code=M,this.type=H.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class On extends pe{constructor(w,D,T,M){super(w,D),this.reason=T,this.code=M,this.type=H.NavigationSkipped}}class Gr extends pe{constructor(w,D,T,M){super(w,D),this.error=T,this.target=M,this.type=H.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dt extends pe{constructor(w,D,T,M){super(w,D),this.urlAfterRedirects=T,this.state=M,this.type=H.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B extends pe{constructor(w,D,T,M){super(w,D),this.urlAfterRedirects=T,this.state=M,this.type=H.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q extends pe{constructor(w,D,T,M,Y){super(w,D),this.urlAfterRedirects=T,this.state=M,this.shouldActivate=Y,this.type=H.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pe extends pe{constructor(w,D,T,M){super(w,D),this.urlAfterRedirects=T,this.state=M,this.type=H.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class be extends pe{constructor(w,D,T,M){super(w,D),this.urlAfterRedirects=T,this.state=M,this.type=H.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class it{constructor(w){this.route=w,this.type=H.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ft{constructor(w){this.route=w,this.type=H.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kt{constructor(w){this.snapshot=w,this.type=H.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(w){this.snapshot=w,this.type=H.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zt{constructor(w){this.snapshot=w,this.type=H.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor(w){this.snapshot=w,this.type=H.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wt{constructor(w,D,T){this.routerEvent=w,this.position=D,this.anchor=T,this.type=H.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ut{}class En{constructor(w){this.url=w}}class hr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pr,this.attachRef=null}}let Pr=(()=>{var y;class w{constructor(){this.contexts=new Map}onChildOutletCreated(T,M){const Y=this.getOrCreateContext(T);Y.outlet=M,this.contexts.set(T,Y)}onChildOutletDestroyed(T){const M=this.getContext(T);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let M=this.getContext(T);return M||(M=new hr,this.contexts.set(T,M)),M}getContext(T){return this.contexts.get(T)||null}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();class A{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const D=this.pathFromRoot(w);return D.length>1?D[D.length-2]:null}children(w){const D=te(w,this._root);return D?D.children.map(T=>T.value):[]}firstChild(w){const D=te(w,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(w){const D=P(w,this._root);return D.length<2?[]:D[D.length-2].children.map(M=>M.value).filter(M=>M!==w)}pathFromRoot(w){return P(w,this._root).map(D=>D.value)}}function te(y,w){if(y===w.value)return w;for(const D of w.children){const T=te(y,D);if(T)return T}return null}function P(y,w){if(y===w.value)return[w];for(const D of w.children){const T=P(y,D);if(T.length)return T.unshift(w),T}return[]}class re{constructor(w,D){this.value=w,this.children=D}toString(){return`TreeNode(${this.value})`}}function Qe(y){const w={};return y&&y.children.forEach(D=>w[D.value.outlet]=D),w}class cr extends A{constructor(w,D){super(w),this.snapshot=D,fs(this,w)}toString(){return this.snapshot.toString()}}function ti(y){const w=function Wi(y){const Y=new Us([],{},{},"",{},_t,y,null,{});return new Vi("",new re(Y,[]))}(y),D=new ie.t([new Dr("",{})]),T=new ie.t({}),M=new ie.t({}),Y=new ie.t({}),de=new ie.t(""),at=new xi(D,T,Y,de,M,_t,y,w.root);return at.snapshot=w.root,new cr(new re(at,[]),w)}class xi{constructor(w,D,T,M,Y,de,at,Ht){var yt,Cn;this.urlSubject=w,this.paramsSubject=D,this.queryParamsSubject=T,this.fragmentSubject=M,this.dataSubject=Y,this.outlet=de,this.component=at,this._futureSnapshot=Ht,this.title=null!==(yt=null===(Cn=this.dataSubject)||void 0===Cn?void 0:Cn.pipe((0,Ne.T)(pr=>pr[$t])))&&void 0!==yt?yt:(0,ce.of)(void 0),this.url=w,this.params=D,this.queryParams=T,this.fragment=M,this.data=Y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var w;return null!==(w=this._paramMap)&&void 0!==w||(this._paramMap=this.params.pipe((0,Ne.T)(D=>nn(D)))),this._paramMap}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=this.queryParams.pipe((0,Ne.T)(D=>nn(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _i(y,w,D="emptyOnly"){var T;let M;const{routeConfig:Y}=y;var de;return M=null===w||"always"!==D&&""!==(null==Y?void 0:Y.path)&&(w.component||null!==(T=w.routeConfig)&&void 0!==T&&T.loadComponent)?{params:{...y.params},data:{...y.data},resolve:{...y.data,...null!==(de=y._resolvedData)&&void 0!==de?de:{}}}:{params:{...w.params,...y.params},data:{...w.data,...y.data},resolve:{...y.data,...w.data,...null==Y?void 0:Y.data,...y._resolvedData}},Y&&bs(Y)&&(M.resolve[$t]=Y.title),M}class Us{get title(){var w;return null===(w=this.data)||void 0===w?void 0:w[$t]}constructor(w,D,T,M,Y,de,at,Ht,yt){this.url=w,this.params=D,this.queryParams=T,this.fragment=M,this.data=Y,this.outlet=de,this.component=at,this.routeConfig=Ht,this._resolve=yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var w;return null!==(w=this._paramMap)&&void 0!==w||(this._paramMap=nn(this.params)),this._paramMap}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vi extends A{constructor(w,D){super(D),this.url=w,fs(this,D)}toString(){return Wr(this._root)}}function fs(y,w){w.value._routerState=y,w.children.forEach(D=>fs(y,D))}function Wr(y){const w=y.children.length>0?` { ${y.children.map(Wr).join(", ")} } `:"";return`${y.value}${w}`}function Vo(y){if(y.snapshot){const w=y.snapshot,D=y._futureSnapshot;y.snapshot=D,Ct(w.queryParams,D.queryParams)||y.queryParamsSubject.next(D.queryParams),w.fragment!==D.fragment&&y.fragmentSubject.next(D.fragment),Ct(w.params,D.params)||y.paramsSubject.next(D.params),function on(y,w){if(y.length!==w.length)return!1;for(let D=0;D<y.length;++D)if(!Ct(y[D],w[D]))return!1;return!0}(w.url,D.url)||y.urlSubject.next(D.url),Ct(w.data,D.data)||y.dataSubject.next(D.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Zn(y,w){const D=Ct(y.params,w.params)&&function vi(y,w){return _n(y,w)&&y.every((D,T)=>Ct(D.parameters,w[T].parameters))}(y.url,w.url);return D&&!(!y.parent!=!w.parent)&&(!y.parent||Zn(y.parent,w.parent))}function bs(y){return"string"==typeof y.title||null===y.title}let Ss=(()=>{var y;class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=_t,this.activateEvents=new u.bkB,this.deactivateEvents=new u.bkB,this.attachEvents=new u.bkB,this.detachEvents=new u.bkB,this.parentContexts=(0,u.WQX)(Pr),this.location=(0,u.WQX)(u.c1b),this.changeDetector=(0,u.WQX)(u.gRc),this.environmentInjector=(0,u.WQX)(u.uvJ),this.inputBinder=(0,u.WQX)(gs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:M,previousValue:Y}=T.name;if(M)return;this.isTrackedInParentContexts(Y)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Y)),this.initializeOutletWithName()}}ngOnDestroy(){var T;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(T=this.inputBinder)||void 0===T||T.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){var M;return(null===(M=this.parentContexts.getContext(T))||void 0===M?void 0:M.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);null!=T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.wOt(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,M){var Y;this.activated=T,this._activatedRoute=M,this.location.insert(T.hostView),null===(Y=this.inputBinder)||void 0===Y||Y.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,M){var Y;if(this.isActivated)throw new u.wOt(4013,!1);this._activatedRoute=T;const de=this.location,Ht=T.snapshot.component,yt=this.parentContexts.getOrCreateContext(this.name).children,Cn=new ps(T,yt,de.injector);this.activated=de.createComponent(Ht,{index:de.length,injector:Cn,environmentInjector:null!=M?M:this.environmentInjector}),this.changeDetector.markForCheck(),null===(Y=this.inputBinder)||void 0===Y||Y.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275dir=u.FsC({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.OA$]}),w})();class ps{constructor(w,D,T){this.route=w,this.childContexts=D,this.parent=T,this.__ngOutletInjector=!0}get(w,D){return w===xi?this.route:w===Pr?this.childContexts:this.parent.get(w,D)}}const gs=new u.nKC("");let Ro=(()=>{var y;class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){var M;null===(M=this.outletDataSubscriptions.get(T))||void 0===M||M.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:M}=T,Y=(0,He.z)([M.queryParams,M.params,M.data]).pipe((0,Xe.n)(([de,at,Ht],yt)=>(Ht={...de,...at,...Ht},0===yt?(0,ce.of)(Ht):Promise.resolve(Ht)))).subscribe(de=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==M||null===M.component)return void this.unsubscribeFromRouteData(T);const at=(0,u.HJs)(M.component);if(at)for(const{templateName:Ht}of at.inputs)T.activatedComponentRef.setInput(Ht,de[Ht]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,Y)}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac}),w})();function ao(y,w,D){if(D&&y.shouldReuseRoute(w.value,D.value.snapshot)){const T=D.value;T._futureSnapshot=w.value;const M=function Li(y,w,D){return w.children.map(T=>{for(const M of D.children)if(y.shouldReuseRoute(T.value,M.value.snapshot))return ao(y,T,M);return ao(y,T)})}(y,w,D);return new re(T,M)}{if(y.shouldAttach(w.value)){const Y=y.retrieve(w.value);if(null!==Y){const de=Y.route;return de.value._futureSnapshot=w.value,de.children=w.children.map(at=>ao(y,at)),de}}const T=function oa(y){return new xi(new ie.t(y.url),new ie.t(y.params),new ie.t(y.queryParams),new ie.t(y.fragment),new ie.t(y.data),y.outlet,y.component,y)}(w.value),M=w.children.map(Y=>ao(y,Y));return new re(T,M)}}const Kr="ngNavigationCancelingError";function Ki(y,w){const{redirectTo:D,navigationBehaviorOptions:T}=Br(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,M=_o(!1,Yt.Redirect);return M.url=D,M.navigationBehaviorOptions=T,M}function _o(y,w){const D=new Error(`NavigationCancelingError: ${y||""}`);return D[Kr]=!0,D.cancellationCode=w,D}function Ui(y){return!!y&&y[Kr]}let Bi=(()=>{var y;class w{}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275cmp=u.VBU({type:y,selectors:[["ng-component"]],standalone:!0,features:[u.aNF],decls:1,vars:0,template:function(T,M){1&T&&u.nrm(0,"router-outlet")},dependencies:[Ss],encapsulation:2}),w})();function Ni(y){const w=y.children&&y.children.map(Ni),D=w?{...y,children:w}:{...y};return!D.component&&!D.loadComponent&&(w||D.loadChildren)&&D.outlet&&D.outlet!==_t&&(D.component=Bi),D}function lo(y){return y.outlet||_t}function yi(y){var w;if(!y)return null;if(null!==(w=y.routeConfig)&&void 0!==w&&w._injector)return y.routeConfig._injector;for(let D=y.parent;D;D=D.parent){const T=D.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class sa{constructor(w,D,T,M,Y){this.routeReuseStrategy=w,this.futureState=D,this.currState=T,this.forwardEvent=M,this.inputBindingEnabled=Y}activate(w){const D=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,T,w),Vo(this.futureState.root),this.activateChildRoutes(D,T,w)}deactivateChildRoutes(w,D,T){const M=Qe(D);w.children.forEach(Y=>{const de=Y.value.outlet;this.deactivateRoutes(Y,M[de],T),delete M[de]}),Object.values(M).forEach(Y=>{this.deactivateRouteAndItsChildren(Y,T)})}deactivateRoutes(w,D,T){const M=w.value,Y=D?D.value:null;if(M===Y)if(M.component){const de=T.getContext(M.outlet);de&&this.deactivateChildRoutes(w,D,de.children)}else this.deactivateChildRoutes(w,D,T);else Y&&this.deactivateRouteAndItsChildren(D,T)}deactivateRouteAndItsChildren(w,D){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,D):this.deactivateRouteAndOutlet(w,D)}detachAndStoreRouteSubtree(w,D){const T=D.getContext(w.value.outlet),M=T&&w.value.component?T.children:D,Y=Qe(w);for(const de of Object.values(Y))this.deactivateRouteAndItsChildren(de,M);if(T&&T.outlet){const de=T.outlet.detach(),at=T.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:de,route:w,contexts:at})}}deactivateRouteAndOutlet(w,D){const T=D.getContext(w.value.outlet),M=T&&w.value.component?T.children:D,Y=Qe(w);for(const de of Object.values(Y))this.deactivateRouteAndItsChildren(de,M);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(w,D,T){const M=Qe(D);w.children.forEach(Y=>{this.activateRoutes(Y,M[Y.value.outlet],T),this.forwardEvent(new Gt(Y.value.snapshot))}),w.children.length&&this.forwardEvent(new Lt(w.value.snapshot))}activateRoutes(w,D,T){const M=w.value,Y=D?D.value:null;if(Vo(M),M===Y)if(M.component){const de=T.getOrCreateContext(M.outlet);this.activateChildRoutes(w,D,de.children)}else this.activateChildRoutes(w,D,T);else if(M.component){const de=T.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const at=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),de.children.onOutletReAttached(at.contexts),de.attachRef=at.componentRef,de.route=at.route.value,de.outlet&&de.outlet.attach(at.componentRef,at.route.value),Vo(at.route.value),this.activateChildRoutes(w,null,de.children)}else{const at=yi(M.snapshot);de.attachRef=null,de.route=M,de.injector=at,de.outlet&&de.outlet.activateWith(M,de.injector),this.activateChildRoutes(w,null,de.children)}}else this.activateChildRoutes(w,null,T)}}class Ms{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class rs{constructor(w,D){this.component=w,this.route=D}}function Lo(y,w,D){const T=y._root;return Bs(T,w?w._root:null,D,[T.value])}function $i(y,w){const D=Symbol(),T=w.get(y,D);return T===D?"function"!=typeof y||(0,u.LfX)(y)?w.get(y):y:T}function Bs(y,w,D,T,M={canDeactivateChecks:[],canActivateChecks:[]}){const Y=Qe(w);return y.children.forEach(de=>{(function wa(y,w,D,T,M={canDeactivateChecks:[],canActivateChecks:[]}){const Y=y.value,de=w?w.value:null,at=D?D.getContext(y.value.outlet):null;if(de&&Y.routeConfig===de.routeConfig){const Ht=function $s(y,w,D){if("function"==typeof D)return D(y,w);switch(D){case"pathParamsChange":return!_n(y.url,w.url);case"pathParamsOrQueryParamsChange":return!_n(y.url,w.url)||!Ct(y.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zn(y,w)||!Ct(y.queryParams,w.queryParams);default:return!Zn(y,w)}}(de,Y,Y.routeConfig.runGuardsAndResolvers);Ht?M.canActivateChecks.push(new Ms(T)):(Y.data=de.data,Y._resolvedData=de._resolvedData),Bs(y,w,Y.component?at?at.children:null:D,T,M),Ht&&at&&at.outlet&&at.outlet.isActivated&&M.canDeactivateChecks.push(new rs(at.outlet.component,de))}else de&&Ti(w,at,M),M.canActivateChecks.push(new Ms(T)),Bs(y,null,Y.component?at?at.children:null:D,T,M)})(de,Y[de.value.outlet],D,T.concat([de.value]),M),delete Y[de.value.outlet]}),Object.entries(Y).forEach(([de,at])=>Ti(at,D.getContext(de),M)),M}function Ti(y,w,D){const T=Qe(y),M=y.value;Object.entries(T).forEach(([Y,de])=>{Ti(de,M.component?w?w.children.getContext(Y):null:w,D)}),D.canDeactivateChecks.push(new rs(M.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,M))}function uo(y){return"function"==typeof y}function Z(y){return y instanceof $e.G||"EmptyError"===(null==y?void 0:y.name)}const V=Symbol("INITIAL_VALUE");function ue(){return(0,Xe.n)(y=>(0,He.z)(y.map(w=>w.pipe((0,J.s)(1),(0,K.Z)(V)))).pipe((0,Ne.T)(w=>{for(const D of w)if(!0!==D){if(D===V)return V;if(!1===D||D instanceof wr)return D}return!0}),(0,De.p)(w=>w!==V),(0,J.s)(1)))}function wl(y){return(0,we.F)((0,ot.M)(w=>{if(Br(w))throw Ki(0,w)}),(0,Ne.T)(w=>!0===w))}class xs{constructor(w){this.segmentGroup=w||null}}class Gs extends Error{constructor(w){super(),this.urlTree=w}}function _s(y){return xe(new xs(y))}class ci{constructor(w,D){this.urlSerializer=w,this.urlTree=D}lineralizeSegments(w,D){let T=[],M=D.root;for(;;){if(T=T.concat(M.segments),0===M.numberOfChildren)return(0,ce.of)(T);if(M.numberOfChildren>1||!M.children[_t])return xe(new u.wOt(4e3,!1));M=M.children[_t]}}applyRedirectCommands(w,D,T){const M=this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),w,T);if(D.startsWith("/"))throw new Gs(M);return M}applyRedirectCreateUrlTree(w,D,T,M){const Y=this.createSegmentGroup(w,D.root,T,M);return new wr(Y,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(w,D){const T={};return Object.entries(w).forEach(([M,Y])=>{if("string"==typeof Y&&Y.startsWith(":")){const at=Y.substring(1);T[M]=D[at]}else T[M]=Y}),T}createSegmentGroup(w,D,T,M){const Y=this.createSegments(w,D.segments,T,M);let de={};return Object.entries(D.children).forEach(([at,Ht])=>{de[at]=this.createSegmentGroup(w,Ht,T,M)}),new zn(Y,de)}createSegments(w,D,T,M){return D.map(Y=>Y.path.startsWith(":")?this.findPosParam(w,Y,M):this.findOrReturn(Y,T))}findPosParam(w,D,T){const M=T[D.path.substring(1)];if(!M)throw new u.wOt(4001,!1);return M}findOrReturn(w,D){let T=0;for(const M of D){if(M.path===w.path)return D.splice(T),M;T++}return w}}const no={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oi(y,w,D,T,M){const Y=ys(y,w,D);return Y.matched?(T=function tl(y,w){var D;return y.providers&&!y._injector&&(y._injector=(0,u.Ol2)(y.providers,w,`Route: ${y.path}`)),null!==(D=y._injector)&&void 0!==D?D:w}(w,T),function bl(y,w,D,T){const M=w.canMatch;if(!M||0===M.length)return(0,ce.of)(!0);const Y=M.map(de=>{const at=$i(de,y);return Zt(function R(y){return y&&uo(y.canMatch)}(at)?at.canMatch(w,D):(0,u.N4e)(y,()=>at(w,D)))});return(0,ce.of)(Y).pipe(ue(),wl())}(T,w,D).pipe((0,Ne.T)(de=>!0===de?Y:{...no}))):(0,ce.of)(Y)}function ys(y,w,D){var T,M;if("**"===w.path)return function la(y){return{matched:!0,parameters:y.length>0?ht(y).parameters:{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}(D);if(""===w.path)return"full"===w.pathMatch&&(y.hasChildren()||D.length>0)?{...no}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const de=(w.matcher||vn)(D,y,w);if(!de)return{...no};const at={};Object.entries(null!==(T=de.posParams)&&void 0!==T?T:{}).forEach(([yt,Cn])=>{at[yt]=Cn.path});const Ht=de.consumed.length>0?{...at,...de.consumed[de.consumed.length-1].parameters}:at;return{matched:!0,consumedSegments:de.consumed,remainingSegments:D.slice(de.consumed.length),parameters:Ht,positionalParamSegments:null!==(M=de.posParams)&&void 0!==M?M:{}}}function zs(y,w,D,T){return D.length>0&&function ua(y,w,D){return D.some(T=>is(y,w,T)&&lo(T)!==_t)}(y,D,T)?{segmentGroup:new zn(w,lu(T,new zn(D,y.children))),slicedSegments:[]}:0===D.length&&function ba(y,w,D){return D.some(T=>is(y,w,T))}(y,D,T)?{segmentGroup:new zn(y.segments,rl(y,D,T,y.children)),slicedSegments:D}:{segmentGroup:new zn(y.segments,y.children),slicedSegments:D}}function rl(y,w,D,T){const M={};for(const Y of D)if(is(y,w,Y)&&!T[lo(Y)]){const de=new zn([],{});M[lo(Y)]=de}return{...T,...M}}function lu(y,w){const D={};D[_t]=w;for(const T of y)if(""===T.path&&lo(T)!==_t){const M=new zn([],{});D[lo(T)]=M}return D}function is(y,w,D){return(!(y.hasChildren()||w.length>0)||"full"!==D.pathMatch)&&""===D.path}class Zc{}class Ra{constructor(w,D,T,M,Y,de,at){this.injector=w,this.configLoader=D,this.rootComponentType=T,this.config=M,this.urlTree=Y,this.paramsInheritanceStrategy=de,this.urlSerializer=at,this.applyRedirects=new ci(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(w){return new u.wOt(4002,`'${w.segmentGroup}'`)}recognize(){const w=zs(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(w).pipe((0,Ne.T)(D=>{const T=new Us([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_t,this.rootComponentType,null,{}),M=new re(T,D),Y=new Vi("",M),de=function Pi(y,w,D=null,T=null){return Fi(ki(y),w,D,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return de.queryParams=this.urlTree.queryParams,Y.url=this.urlSerializer.serialize(de),this.inheritParamsAndData(Y._root,null),{state:Y,tree:de}}))}match(w){return this.processSegmentGroup(this.injector,this.config,w,_t).pipe(Mt(T=>{if(T instanceof Gs)return this.urlTree=T.urlTree,this.match(T.urlTree.root);throw T instanceof xs?this.noMatchError(T):T}))}inheritParamsAndData(w,D){const T=w.value,M=_i(T,D,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data),w.children.forEach(Y=>this.inheritParamsAndData(Y,T))}processSegmentGroup(w,D,T,M){return 0===T.segments.length&&T.hasChildren()?this.processChildren(w,D,T):this.processSegment(w,D,T,T.segments,M,!0).pipe((0,Ne.T)(Y=>Y instanceof re?[Y]:[]))}processChildren(w,D,T){const M=[];for(const Y of Object.keys(T.children))"primary"===Y?M.unshift(Y):M.push(Y);return(0,Te.H)(M).pipe(Le(Y=>{const de=T.children[Y],at=function Mo(y,w){const D=y.filter(T=>lo(T)===w);return D.push(...y.filter(T=>lo(T)!==w)),D}(D,Y);return this.processSegmentGroup(w,at,de,Y)}),(0,an.S)((Y,de)=>(Y.push(...de),Y)),(0,kn.U)(null),function ye(y,w){const D=arguments.length>=2;return T=>T.pipe(y?(0,De.p)((M,Y)=>y(M,Y,T)):fe.D,st(1),D?(0,kn.U)(w):(0,Ee.v)(()=>new $e.G))}(),(0,z.Z)(Y=>{if(null===Y)return _s(T);const de=jo(Y);return function ol(y){y.sort((w,D)=>w.value.outlet===_t?-1:D.value.outlet===_t?1:w.value.outlet.localeCompare(D.value.outlet))}(de),(0,ce.of)(de)}))}processSegment(w,D,T,M,Y,de){return(0,Te.H)(D).pipe(Le(at=>{var Ht;return this.processSegmentAgainstRoute(null!==(Ht=at._injector)&&void 0!==Ht?Ht:w,D,at,T,M,Y,de).pipe(Mt(yt=>{if(yt instanceof xs)return(0,ce.of)(null);throw yt}))}),(0,je.$)(at=>!!at),Mt(at=>{if(Z(at))return function $o(y,w,D){return 0===w.length&&!y.children[D]}(T,M,Y)?(0,ce.of)(new Zc):_s(T);throw at}))}processSegmentAgainstRoute(w,D,T,M,Y,de,at){return function il(y,w,D,T){return!!(lo(y)===T||T!==_t&&is(w,D,y))&&ys(w,y,D).matched}(T,M,Y,de)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(w,M,T,Y,de):this.allowRedirects&&at?this.expandSegmentAgainstRouteUsingRedirect(w,M,D,T,Y,de):_s(M):_s(M)}expandSegmentAgainstRouteUsingRedirect(w,D,T,M,Y,de){const{matched:at,consumedSegments:Ht,positionalParamSegments:yt,remainingSegments:Cn}=ys(D,M,Y);if(!at)return _s(D);M.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const pr=this.applyRedirects.applyRedirectCommands(Ht,M.redirectTo,yt);return this.applyRedirects.lineralizeSegments(M,pr).pipe((0,z.Z)(pi=>this.processSegment(w,T,D,pi.concat(Cn),de,!1)))}matchSegmentAgainstRoute(w,D,T,M,Y){const de=Oi(D,T,M,w);return"**"===T.path&&(D.children={}),de.pipe((0,Xe.n)(at=>{var Ht;return at.matched?(w=null!==(Ht=T._injector)&&void 0!==Ht?Ht:w,this.getChildConfig(w,T,M).pipe((0,Xe.n)(({routes:yt})=>{var Cn,pr,pi;const zr=null!==(Cn=T._loadedInjector)&&void 0!==Cn?Cn:w,{consumedSegments:Jr,remainingSegments:Wo,parameters:ks}=at,Na=new Us(Jr,ks,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Ns(y){return y.data||{}}(T),lo(T),null!==(pr=null!==(pi=T.component)&&void 0!==pi?pi:T._loadedComponent)&&void 0!==pr?pr:null,T,function Ma(y){return y.resolve||{}}(T)),{segmentGroup:Gi,slicedSegments:ll}=zs(D,Jr,Wo,yt);if(0===ll.length&&Gi.hasChildren())return this.processChildren(zr,yt,Gi).pipe((0,Ne.T)(po=>null===po?null:new re(Na,po)));if(0===yt.length&&0===ll.length)return(0,ce.of)(new re(Na,[]));const ec=lo(T)===Y;return this.processSegment(zr,yt,Gi,ll,ec?_t:Y,!0).pipe((0,Ne.T)(po=>new re(Na,po instanceof re?[po]:[])))}))):_s(D)}))}getChildConfig(w,D,T){return D.children?(0,ce.of)({routes:D.children,injector:w}):D.loadChildren?void 0!==D._loadedRoutes?(0,ce.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function Tl(y,w,D,T){const M=w.canLoad;if(void 0===M||0===M.length)return(0,ce.of)(!0);const Y=M.map(de=>{const at=$i(de,y);return Zt(function js(y){return y&&uo(y.canLoad)}(at)?at.canLoad(w,D):(0,u.N4e)(y,()=>at(w,D)))});return(0,ce.of)(Y).pipe(ue(),wl())}(w,D,T).pipe((0,z.Z)(M=>M?this.configLoader.loadChildren(w,D).pipe((0,ot.M)(Y=>{D._loadedRoutes=Y.routes,D._loadedInjector=Y.injector})):function ui(y){return xe(_o(!1,Yt.GuardRejected))}())):(0,ce.of)({routes:[],injector:w})}}function Io(y){const w=y.value.routeConfig;return w&&""===w.path}function jo(y){const w=[],D=new Set;for(const T of y){if(!Io(T)){w.push(T);continue}const M=w.find(Y=>T.value.routeConfig===Y.value.routeConfig);void 0!==M?(M.children.push(...T.children),D.add(M)):w.push(T)}for(const T of D){const M=jo(T.children);w.push(new re(T.value,M))}return w.filter(T=>!D.has(T))}function Fr(y){const w=y.children.map(D=>Fr(D)).flat();return[y,...w]}function Sl(y){return(0,Xe.n)(w=>{const D=y(w);return D?(0,Te.H)(D).pipe((0,Ne.T)(()=>w)):(0,ce.of)(w)})}let Pa=(()=>{var y;class w{buildTitle(T){let M,Y=T.root;for(;void 0!==Y;){var de;M=null!==(de=this.getResolvedTitleForRoute(Y))&&void 0!==de?de:M,Y=Y.children.find(at=>at.outlet===_t)}return M}getResolvedTitleForRoute(T){return T.data[$t]}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:()=>(0,u.WQX)(da),providedIn:"root"}),w})(),da=(()=>{var y;class w extends Pa{constructor(T){super(),this.title=T}updateTitle(T){const M=this.buildTitle(T);void 0!==M&&this.title.setTitle(M)}}return(y=w).\u0275fac=function(T){return new(T||y)(u.KVO(xt.hE))},y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();const ho=new u.nKC("",{providedIn:"root",factory:()=>({})}),ha=new u.nKC("");let Po=(()=>{var y;class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.WQX)(u.Ql9)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,ce.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const M=Zt(T.loadComponent()).pipe((0,Ne.T)(zo),(0,ot.M)(de=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=de}),et(()=>{this.componentLoaders.delete(T)})),Y=new vt(M,()=>new ae.B).pipe(Ue());return this.componentLoaders.set(T,Y),Y}loadChildren(T,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,ce.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const de=function Go(y,w,D,T){return Zt(y.loadChildren()).pipe((0,Ne.T)(zo),(0,z.Z)(M=>M instanceof u.Co$||Array.isArray(M)?(0,ce.of)(M):(0,Te.H)(w.compileModuleAsync(M))),(0,Ne.T)(M=>{T&&T(y);let Y,de,at=!1;return Array.isArray(M)?(de=M,!0):(Y=M.create(D).injector,de=Y.get(ha,[],{optional:!0,self:!0}).flat()),{routes:de.map(Ni),injector:Y}}))}(M,this.compiler,T,this.onLoadEndListener).pipe(et(()=>{this.childrenLoaders.delete(M)})),at=new vt(de,()=>new ae.B).pipe(Ue());return this.childrenLoaders.set(M,at),at}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();function zo(y){return function ji(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Os=(()=>{var y;class w{}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:()=>(0,u.WQX)(Ks),providedIn:"root"}),w})(),Ks=(()=>{var y;class w{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,M){return T}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();const C=new u.nKC(""),k=new u.nKC("");function _e(y,w,D){const T=y.get(k),M=y.get(Ve.qQ);return y.get(u.SKi).runOutsideAngular(()=>{if(!M.startViewTransition||T.skipNextTransition)return T.skipNextTransition=!1,Promise.resolve();let Y;const de=new Promise(yt=>{Y=yt}),at=M.startViewTransition(()=>(Y(),function x(y){return new Promise(w=>{(0,u.mal)(w,{injector:y})})}(y))),{onViewTransitionCreated:Ht}=T;return Ht&&(0,u.N4e)(y,()=>Ht({transition:at,from:w,to:D})),de})}let ne=(()=>{var y;class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ae.B,this.transitionAbortSubject=new ae.B,this.configLoader=(0,u.WQX)(Po),this.environmentInjector=(0,u.WQX)(u.uvJ),this.urlSerializer=(0,u.WQX)($n),this.rootContexts=(0,u.WQX)(Pr),this.location=(0,u.WQX)(Ve.aZ),this.inputBindingEnabled=null!==(0,u.WQX)(gs,{optional:!0}),this.titleStrategy=(0,u.WQX)(Pa),this.options=(0,u.WQX)(ho,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,u.WQX)(Os),this.createViewTransition=(0,u.WQX)(C,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Y=>this.events.next(new ft(Y)),this.configLoader.onLoadStartListener=Y=>this.events.next(new it(Y))}complete(){var T;null===(T=this.transitions)||void 0===T||T.complete()}handleNavigationRequest(T){var M;const Y=++this.navigationId;null===(M=this.transitions)||void 0===M||M.next({...this.transitions.value,...T,id:Y})}setupNavigations(T,M,Y){return this.transitions=new ie.t({id:0,currentUrlTree:M,currentRawUrl:M,extractedUrl:this.urlHandlingStrategy.extract(M),urlAfterRedirects:this.urlHandlingStrategy.extract(M),rawUrl:M,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ie,restoredState:null,currentSnapshot:Y.snapshot,targetSnapshot:null,currentRouterState:Y,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,De.p)(de=>0!==de.id),(0,Ne.T)(de=>({...de,extractedUrl:this.urlHandlingStrategy.extract(de.rawUrl)})),(0,Xe.n)(de=>{let at=!1,Ht=!1;return(0,ce.of)(de).pipe((0,Xe.n)(yt=>{var Cn;if(this.navigationId>de.id)return this.cancelNavigationTransition(de,"",Yt.SupersededByNewNavigation),Me.w;this.currentTransition=de,this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const pr=!T.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),pi=null!==(Cn=yt.extras.onSameUrlNavigation)&&void 0!==Cn?Cn:T.onSameUrlNavigation;if(!pr&&"reload"!==pi){const zr="";return this.events.next(new On(yt.id,this.urlSerializer.serialize(yt.rawUrl),zr,sn.IgnoredSameUrlNavigation)),yt.resolve(null),Me.w}if(this.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,ce.of)(yt).pipe((0,Xe.n)(zr=>{var Jr,Wo;const ks=null===(Jr=this.transitions)||void 0===Jr?void 0:Jr.getValue();return this.events.next(new rt(zr.id,this.urlSerializer.serialize(zr.extractedUrl),zr.source,zr.restoredState)),ks!==(null===(Wo=this.transitions)||void 0===Wo?void 0:Wo.getValue())?Me.w:Promise.resolve(zr)}),function Ho(y,w,D,T,M,Y){return(0,z.Z)(de=>function Sa(y,w,D,T,M,Y,de="emptyOnly"){return new Ra(y,w,D,T,M,de,Y).recognize()}(y,w,D,T,de.extractedUrl,M,Y).pipe((0,Ne.T)(({state:at,tree:Ht})=>({...de,targetSnapshot:at,urlAfterRedirects:Ht}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ot.M)(zr=>{de.targetSnapshot=zr.targetSnapshot,de.urlAfterRedirects=zr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:zr.urlAfterRedirects};const Jr=new dt(zr.id,this.urlSerializer.serialize(zr.extractedUrl),this.urlSerializer.serialize(zr.urlAfterRedirects),zr.targetSnapshot);this.events.next(Jr)}));if(pr&&this.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:zr,extractedUrl:Jr,source:Wo,restoredState:ks,extras:Na}=yt,Gi=new rt(zr,this.urlSerializer.serialize(Jr),Wo,ks);this.events.next(Gi);const ll=ti(this.rootComponentType).snapshot;return this.currentTransition=de={...yt,targetSnapshot:ll,urlAfterRedirects:Jr,extras:{...Na,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Jr,(0,ce.of)(de)}{const zr="";return this.events.next(new On(yt.id,this.urlSerializer.serialize(yt.extractedUrl),zr,sn.IgnoredByUrlHandlingStrategy)),yt.resolve(null),Me.w}}),(0,ot.M)(yt=>{const Cn=new B(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(Cn)}),(0,Ne.T)(yt=>(this.currentTransition=de={...yt,guards:Lo(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},de)),function Ft(y,w){return(0,z.Z)(D=>{const{targetSnapshot:T,currentSnapshot:M,guards:{canActivateChecks:Y,canDeactivateChecks:de}}=D;return 0===de.length&&0===Y.length?(0,ce.of)({...D,guardsResult:!0}):function Rn(y,w,D,T){return(0,Te.H)(y).pipe((0,z.Z)(M=>function yo(y,w,D,T,M){const Y=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,ce.of)(!0);const de=Y.map(at=>{var Ht;const yt=null!==(Ht=yi(w))&&void 0!==Ht?Ht:M,Cn=$i(at,yt);return Zt(function L(y){return y&&uo(y.canDeactivate)}(Cn)?Cn.canDeactivate(y,w,D,T):(0,u.N4e)(yt,()=>Cn(y,w,D,T))).pipe((0,je.$)())});return(0,ce.of)(de).pipe(ue())}(M.component,M.route,D,w,T)),(0,je.$)(M=>!0!==M,!0))}(de,T,M,y).pipe((0,z.Z)(at=>at&&function aa(y){return"boolean"==typeof y}(at)?function Jn(y,w,D,T){return(0,Te.H)(w).pipe(Le(M=>(0,ge.x)(function Bo(y,w){return null!==y&&w&&w(new kt(y)),(0,ce.of)(!0)}(M.route.parent,T),function to(y,w){return null!==y&&w&&w(new zt(y)),(0,ce.of)(!0)}(M.route,T),function Ps(y,w,D){const T=w[w.length-1],Y=w.slice(0,w.length-1).reverse().map(de=>function Uo(y){const w=y.routeConfig?y.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:y,guards:w}:null}(de)).filter(de=>null!==de).map(de=>ke(()=>{const at=de.guards.map(Ht=>{var yt;const Cn=null!==(yt=yi(de.node))&&void 0!==yt?yt:D,pr=$i(Ht,Cn);return Zt(function vs(y){return y&&uo(y.canActivateChild)}(pr)?pr.canActivateChild(T,y):(0,u.N4e)(Cn,()=>pr(T,y))).pipe((0,je.$)())});return(0,ce.of)(at).pipe(ue())}));return(0,ce.of)(Y).pipe(ue())}(y,M.path,D),function co(y,w,D){const T=w.routeConfig?w.routeConfig.canActivate:null;if(!T||0===T.length)return(0,ce.of)(!0);const M=T.map(Y=>ke(()=>{var de;const at=null!==(de=yi(w))&&void 0!==de?de:D,Ht=$i(Y,at);return Zt(function Hs(y){return y&&uo(y.canActivate)}(Ht)?Ht.canActivate(w,y):(0,u.N4e)(at,()=>Ht(w,y))).pipe((0,je.$)())}));return(0,ce.of)(M).pipe(ue())}(y,M.route,D))),(0,je.$)(M=>!0!==M,!0))}(T,Y,y,w):(0,ce.of)(at)),(0,Ne.T)(at=>({...D,guardsResult:at})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,ot.M)(yt=>{if(de.guardsResult=yt.guardsResult,Br(yt.guardsResult))throw Ki(0,yt.guardsResult);const Cn=new q(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(Cn)}),(0,De.p)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",Yt.GuardRejected),!1)),Sl(yt=>{if(yt.guards.canActivateChecks.length)return(0,ce.of)(yt).pipe((0,ot.M)(Cn=>{const pr=new Pe(Cn.id,this.urlSerializer.serialize(Cn.extractedUrl),this.urlSerializer.serialize(Cn.urlAfterRedirects),Cn.targetSnapshot);this.events.next(pr)}),(0,Xe.n)(Cn=>{let pr=!1;return(0,ce.of)(Cn).pipe(function ca(y,w){return(0,z.Z)(D=>{const{targetSnapshot:T,guards:{canActivateChecks:M}}=D;if(!M.length)return(0,ce.of)(D);const Y=new Set(M.map(Ht=>Ht.route)),de=new Set;for(const Ht of Y)if(!de.has(Ht))for(const yt of Fr(Ht))de.add(yt);let at=0;return(0,Te.H)(de).pipe(Le(Ht=>Y.has(Ht)?function Eo(y,w,D,T){const M=y.routeConfig,Y=y._resolve;return void 0!==(null==M?void 0:M.title)&&!bs(M)&&(Y[$t]=M.title),function Ws(y,w,D,T){const M=gt(y);if(0===M.length)return(0,ce.of)({});const Y={};return(0,Te.H)(M).pipe((0,z.Z)(de=>function Co(y,w,D,T){var M;const Y=null!==(M=yi(w))&&void 0!==M?M:T,de=$i(y,Y);return Zt(de.resolve?de.resolve(w,D):(0,u.N4e)(Y,()=>de(w,D)))}(y[de],w,D,T).pipe((0,je.$)(),(0,ot.M)(at=>{Y[de]=at}))),st(1),function Re(y){return(0,Ne.T)(()=>y)}(Y),Mt(de=>Z(de)?Me.w:xe(de)))}(Y,y,w,T).pipe((0,Ne.T)(de=>(y._resolvedData=de,y.data=_i(y,y.parent,D).resolve,null)))}(Ht,T,y,w):(Ht.data=_i(Ht,Ht.parent,y).resolve,(0,ce.of)(void 0))),(0,ot.M)(()=>at++),st(1),(0,z.Z)(Ht=>at===de.size?(0,ce.of)(D):Me.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ot.M)({next:()=>pr=!0,complete:()=>{pr||this.cancelNavigationTransition(Cn,"",Yt.NoDataFromResolver)}}))}),(0,ot.M)(Cn=>{const pr=new be(Cn.id,this.urlSerializer.serialize(Cn.extractedUrl),this.urlSerializer.serialize(Cn.urlAfterRedirects),Cn.targetSnapshot);this.events.next(pr)}))}),Sl(yt=>{const Cn=pr=>{var pi;const zr=[];null!==(pi=pr.routeConfig)&&void 0!==pi&&pi.loadComponent&&!pr.routeConfig._loadedComponent&&zr.push(this.configLoader.loadComponent(pr.routeConfig).pipe((0,ot.M)(Jr=>{pr.component=Jr}),(0,Ne.T)(()=>{})));for(const Jr of pr.children)zr.push(...Cn(Jr));return zr};return(0,He.z)(Cn(yt.targetSnapshot.root)).pipe((0,kn.U)(null),(0,J.s)(1))}),Sl(()=>this.afterPreactivation()),(0,Xe.n)(()=>{var yt;const{currentSnapshot:Cn,targetSnapshot:pr}=de,pi=null===(yt=this.createViewTransition)||void 0===yt?void 0:yt.call(this,this.environmentInjector,Cn.root,pr.root);return pi?(0,Te.H)(pi).pipe((0,Ne.T)(()=>de)):(0,ce.of)(de)}),(0,Ne.T)(yt=>{const Cn=function vo(y,w,D){const T=ao(y,w._root,D?D._root:void 0);return new cr(T,w)}(T.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=de={...yt,targetRouterState:Cn},this.currentNavigation.targetRouterState=Cn,de}),(0,ot.M)(()=>{this.events.next(new Ut)}),((y,w,D,T)=>(0,Ne.T)(M=>(new sa(w,M.targetRouterState,M.currentRouterState,D,T).activate(y),M)))(this.rootContexts,T.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,J.s)(1),(0,ot.M)({next:yt=>{var Cn;at=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pt(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),null===(Cn=this.titleStrategy)||void 0===Cn||Cn.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{at=!0}}),function pt(y){return(0,Fe.N)((w,D)=>{(0,le.Tg)(y).subscribe((0,Oe._)(D,()=>D.complete(),me.l)),!D.closed&&w.subscribe(D)})}(this.transitionAbortSubject.pipe((0,ot.M)(yt=>{throw yt}))),et(()=>{var yt;!at&&!Ht&&this.cancelNavigationTransition(de,"",Yt.SupersededByNewNavigation),(null===(yt=this.currentTransition)||void 0===yt?void 0:yt.id)===de.id&&(this.currentNavigation=null,this.currentTransition=null)}),Mt(yt=>{if(Ht=!0,Ui(yt))this.events.next(new yn(de.id,this.urlSerializer.serialize(de.extractedUrl),yt.message,yt.cancellationCode)),function Jo(y){return Ui(y)&&Br(y.url)}(yt)?this.events.next(new En(yt.url)):de.resolve(!1);else{var Cn;this.events.next(new Gr(de.id,this.urlSerializer.serialize(de.extractedUrl),yt,null!==(Cn=de.targetSnapshot)&&void 0!==Cn?Cn:void 0));try{de.resolve(T.errorHandler(yt))}catch(pr){this.options.resolveNavigationPromiseOnError?de.resolve(!1):de.reject(pr)}}return Me.w}))}))}cancelNavigationTransition(T,M,Y){const de=new yn(T.id,this.urlSerializer.serialize(T.extractedUrl),M,Y);this.events.next(de),T.resolve(!1)}isUpdatingInternalState(){var T,M;return(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())!==(null===(M=this.currentTransition)||void 0===M?void 0:M.currentUrlTree.toString())}isUpdatedBrowserUrl(){var T,M;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())&&!(null!==(M=this.currentTransition)&&void 0!==M&&M.extras.skipLocationChange)}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();function Se(y){return y!==Ie}let At=(()=>{var y;class w{}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:()=>(0,u.WQX)(_r),providedIn:"root"}),w})();class Kt{shouldDetach(w){return!1}store(w,D){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,D){return w.routeConfig===D.routeConfig}}let _r=(()=>{var y;class w extends Kt{}return(y=w).\u0275fac=(()=>{let D;return function(M){return(D||(D=u.xGo(y)))(M||y)}})(),y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),w})(),Rr=(()=>{var y;class w{}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:()=>(0,u.WQX)(Mr),providedIn:"root"}),w})(),Mr=(()=>{var y;class w extends Rr{constructor(){super(...arguments),this.location=(0,u.WQX)(Ve.aZ),this.urlSerializer=(0,u.WQX)($n),this.options=(0,u.WQX)(ho,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,u.WQX)(Os),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ti(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var T,M;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(T=null===(M=this.restoredState())||void 0===M?void 0:M.\u0275routerPageId)&&void 0!==T?T:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(T){return this.location.subscribe(M=>{"popstate"===M.type&&T(M.url,M.state)})}handleRouterEvent(T,M){if(T instanceof rt)this.stateMemento=this.createStateMemento();else if(T instanceof On)this.rawUrlTree=M.initialUrl;else if(T instanceof dt){if("eager"===this.urlUpdateStrategy&&!M.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(M.finalUrl,M.initialUrl);this.setBrowserUrl(Y,M)}}else T instanceof Ut?(this.currentUrlTree=M.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(M.finalUrl,M.initialUrl),this.routerState=M.targetRouterState,"deferred"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,M))):T instanceof yn&&(T.code===Yt.GuardRejected||T.code===Yt.NoDataFromResolver)?this.restoreHistory(M):T instanceof Gr?this.restoreHistory(M,!0):T instanceof Pt&&(this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId)}setBrowserUrl(T,M){const Y=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(Y)||M.extras.replaceUrl){const at={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState(Y,"",at)}else{const de={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId+1)};this.location.go(Y,"",de)}}restoreHistory(T,M=!1){if("computed"===this.canceledNavigationResolution){const de=this.currentPageId-this.browserPageId;0!==de?this.location.historyGo(de):this.currentUrlTree===T.finalUrl&&0===de&&(this.resetState(T),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){var M;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(M=T.finalUrl)&&void 0!==M?M:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,M){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:M}:{navigationId:T}}}return(y=w).\u0275fac=(()=>{let D;return function(M){return(D||(D=u.xGo(y)))(M||y)}})(),y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();var fr=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(fr||{});function qr(y,w){y.events.pipe((0,De.p)(D=>D instanceof Pt||D instanceof yn||D instanceof Gr||D instanceof On),(0,Ne.T)(D=>D instanceof Pt||D instanceof On?fr.COMPLETE:D instanceof yn&&(D.code===Yt.Redirect||D.code===Yt.SupersededByNewNavigation)?fr.REDIRECTING:fr.FAILED),(0,De.p)(D=>D!==fr.REDIRECTING),(0,J.s)(1)).subscribe(()=>{w()})}function xr(y){throw y}const wi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bt=(()=>{var y;class w{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var T,M;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,u.WQX)(u.H3F),this.stateManager=(0,u.WQX)(Rr),this.options=(0,u.WQX)(ho,{optional:!0})||{},this.pendingTasks=(0,u.WQX)(u.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,u.WQX)(ne),this.urlSerializer=(0,u.WQX)($n),this.location=(0,u.WQX)(Ve.aZ),this.urlHandlingStrategy=(0,u.WQX)(Os),this._events=new ae.B,this.errorHandler=this.options.errorHandler||xr,this.navigated=!1,this.routeReuseStrategy=(0,u.WQX)(At),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(T=null===(M=(0,u.WQX)(ha,{optional:!0}))||void 0===M?void 0:M.flat())&&void 0!==T?T:[],this.componentInputBindingEnabled=!!(0,u.WQX)(gs,{optional:!0}),this.eventsSubscription=new Ze.yU,this.isNgZoneEnabled=(0,u.WQX)(u.SKi)instanceof u.SKi&&u.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Y=>{this.console.warn(Y)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(M=>{try{const Y=this.navigationTransitions.currentTransition,de=this.navigationTransitions.currentNavigation;if(null!==Y&&null!==de)if(this.stateManager.handleRouterEvent(M,de),M instanceof yn&&M.code!==Yt.Redirect&&M.code!==Yt.SupersededByNewNavigation)this.navigated=!0;else if(M instanceof Pt)this.navigated=!0;else if(M instanceof En){const at=this.urlHandlingStrategy.merge(M.url,Y.currentRawUrl),Ht={info:Y.extras.info,skipLocationChange:Y.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Se(Y.source)};this.scheduleNavigation(at,Ie,null,Ht,{resolve:Y.resolve,reject:Y.reject,promise:Y.promise})}(function Vr(y){return!(y instanceof Ut||y instanceof En)})(M)&&this._events.next(M)}catch(Y){this.navigationTransitions.transitionAbortSubject.next(Y)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ie,this.stateManager.restoredState())}setUpLocationChangeListener(){var T;null!==(T=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==T||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((M,Y)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(M,"popstate",Y)},0)}))}navigateToSyncWithBrowser(T,M,Y){const de={replaceUrl:!0},at=null!=Y&&Y.navigationId?Y:null;if(Y){const yt={...Y};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(de.state=yt)}const Ht=this.parseUrl(T);this.scheduleNavigation(Ht,M,at,de)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(Ni),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,M={}){const{relativeTo:Y,queryParams:de,fragment:at,queryParamsHandling:Ht,preserveFragment:yt}=M,Cn=yt?this.currentUrlTree.fragment:at;let pi,pr=null;switch(Ht){case"merge":pr={...this.currentUrlTree.queryParams,...de};break;case"preserve":pr=this.currentUrlTree.queryParams;break;default:pr=de||null}null!==pr&&(pr=this.removeEmptyProps(pr));try{pi=ki(Y?Y.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),pi=this.currentUrlTree.root}return Fi(pi,T,pr,null!=Cn?Cn:null)}navigateByUrl(T,M={skipLocationChange:!1}){const Y=Br(T)?T:this.parseUrl(T),de=this.urlHandlingStrategy.merge(Y,this.rawUrlTree);return this.scheduleNavigation(de,Ie,null,M)}navigate(T,M={skipLocationChange:!1}){return function Mn(y){for(let w=0;w<y.length;w++)if(null==y[w])throw new u.wOt(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,M),M)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){try{return this.urlSerializer.parse(T)}catch{return this.urlSerializer.parse("/")}}isActive(T,M){let Y;if(Y=!0===M?{...wi}:!1===M?{...dr}:M,Br(T))return Kn(this.currentUrlTree,T,Y);const de=this.parseUrl(T);return Kn(this.currentUrlTree,de,Y)}removeEmptyProps(T){return Object.entries(T).reduce((M,[Y,de])=>(null!=de&&(M[Y]=de),M),{})}scheduleNavigation(T,M,Y,de,at){if(this.disposed)return Promise.resolve(!1);let Ht,yt,Cn;at?(Ht=at.resolve,yt=at.reject,Cn=at.promise):Cn=new Promise((pi,zr)=>{Ht=pi,yt=zr});const pr=this.pendingTasks.add();return qr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(pr))}),this.navigationTransitions.handleNavigationRequest({source:M,restoredState:Y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:de,resolve:Ht,reject:yt,promise:Cn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Cn.catch(pi=>Promise.reject(pi))}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),w})(),Ii=(()=>{var y;class w{constructor(T,M,Y,de,at,Ht){var yt;this.router=T,this.route=M,this.tabIndexAttribute=Y,this.renderer=de,this.el=at,this.locationStrategy=Ht,this.href=null,this.commands=null,this.onChanges=new ae.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Cn=null===(yt=at.nativeElement.tagName)||void 0===yt?void 0:yt.toLowerCase();this.isAnchorElement="a"===Cn||"area"===Cn,this.isAnchorElement?this.subscription=T.events.subscribe(pr=>{pr instanceof Pt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,M,Y,de,at){const Ht=this.urlTree;return!!(null===Ht||this.isAnchorElement&&(0!==T||M||Y||de||at||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ht,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var T;null===(T=this.subscription)||void 0===T||T.unsubscribe()}updateHref(){var T;const M=this.urlTree;this.href=null!==M&&this.locationStrategy?null===(T=this.locationStrategy)||void 0===T?void 0:T.prepareExternalUrl(this.router.serializeUrl(M)):null;const Y=null===this.href?null:(0,u.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Y)}applyAttributeValue(T,M){const Y=this.renderer,de=this.el.nativeElement;null!==M?Y.setAttribute(de,T,M):Y.removeAttribute(de,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(y=w).\u0275fac=function(T){return new(T||y)(u.rXU(Bt),u.rXU(xi),u.kS0("tabindex"),u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(Ve.hb))},y.\u0275dir=u.FsC({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,M){1&T&&u.bIt("click",function(de){return M.onClick(de.button,de.ctrlKey,de.shiftKey,de.altKey,de.metaKey)}),2&T&&u.BMQ("target",M.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[u.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",u.L39],skipLocationChange:[u.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",u.L39],replaceUrl:[u.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",u.L39],routerLink:"routerLink"},standalone:!0,features:[u.GFd,u.OA$]}),w})();class Ei{}let ni=(()=>{var y;class w{preload(T,M){return M().pipe(Mt(()=>(0,ce.of)(null)))}}return(y=w).\u0275fac=function(T){return new(T||y)},y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),w})(),bn=(()=>{var y;class w{constructor(T,M,Y,de,at){this.router=T,this.injector=Y,this.preloadingStrategy=de,this.loader=at}setUpPreloading(){this.subscription=this.router.events.pipe((0,De.p)(T=>T instanceof Pt),Le(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,M){const Y=[];for(const yt of M){var de,at;yt.providers&&!yt._injector&&(yt._injector=(0,u.Ol2)(yt.providers,T,`Route: ${yt.path}`));const Cn=null!==(de=yt._injector)&&void 0!==de?de:T,pr=null!==(at=yt._loadedInjector)&&void 0!==at?at:Cn;var Ht;(yt.loadChildren&&!yt._loadedRoutes&&void 0===yt.canLoad||yt.loadComponent&&!yt._loadedComponent)&&Y.push(this.preloadConfig(Cn,yt)),(yt.children||yt._loadedRoutes)&&Y.push(this.processRoutes(pr,null!==(Ht=yt.children)&&void 0!==Ht?Ht:yt._loadedRoutes))}return(0,Te.H)(Y).pipe((0,bt.U)())}preloadConfig(T,M){return this.preloadingStrategy.preload(M,()=>{let Y;Y=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(T,M):(0,ce.of)(null);const de=Y.pipe((0,z.Z)(at=>{var Ht;return null===at?(0,ce.of)(void 0):(M._loadedRoutes=at.routes,M._loadedInjector=at.injector,this.processRoutes(null!==(Ht=at.injector)&&void 0!==Ht?Ht:T,at.routes))}));if(M.loadComponent&&!M._loadedComponent){const at=this.loader.loadComponent(M);return(0,Te.H)([de,at]).pipe((0,bt.U)())}return de})}}return(y=w).\u0275fac=function(T){return new(T||y)(u.KVO(Bt),u.KVO(u.Ql9),u.KVO(u.uvJ),u.KVO(Ei),u.KVO(Po))},y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"}),w})();const sr=new u.nKC("");let un=(()=>{var y;class w{constructor(T,M,Y,de,at={}){this.urlSerializer=T,this.transitions=M,this.viewportScroller=Y,this.zone=de,this.options=at,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},at.scrollPositionRestoration||(at.scrollPositionRestoration="disabled"),at.anchorScrolling||(at.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof rt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Pt?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof On&&T.code===sn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Wt&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wt(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){var T,M;null===(T=this.routerEventsSubscription)||void 0===T||T.unsubscribe(),null===(M=this.scrollEventsSubscription)||void 0===M||M.unsubscribe()}}return(y=w).\u0275fac=function(T){u.QTQ()},y.\u0275prov=u.jDH({token:y,factory:y.\u0275fac}),w})();function ar(y,w){return{\u0275kind:y,\u0275providers:w}}function Yu(){const y=(0,u.WQX)(u.zZn);return w=>{var D,T;const M=y.get(u.o8S);if(w!==M.components[0])return;const Y=y.get(Bt),de=y.get(fa);1===y.get(Is)&&Y.initialNavigation(),null===(D=y.get(xa,null,u.$GK.Optional))||void 0===D||D.setUpPreloading(),null===(T=y.get(sr,null,u.$GK.Optional))||void 0===T||T.init(),Y.resetRootComponentType(M.componentTypes[0]),de.closed||(de.next(),de.complete(),de.unsubscribe())}}const fa=new u.nKC("",{factory:()=>new ae.B}),Is=new u.nKC("",{providedIn:"root",factory:()=>1}),xa=new u.nKC("");function jn(y){return ar(0,[{provide:xa,useExisting:bn},{provide:Ei,useExisting:y}])}function Hi(y){return ar(9,[{provide:C,useValue:_e},{provide:k,useValue:{skipNextTransition:!(null==y||!y.skipInitialTransition),...y}}])}const cu=new u.nKC("ROUTER_FORROOT_GUARD"),Xr=[Ve.aZ,{provide:$n,useClass:Wn},Bt,Pr,{provide:xi,useFactory:function Vt(y){return y.routerState.root},deps:[Bt]},Po,[]];let fn=(()=>{var y;class w{constructor(T){}static forRoot(T,M){return{ngModule:w,providers:[Xr,[],{provide:ha,multi:!0,useValue:T},{provide:cu,useFactory:Rl,deps:[[Bt,new u.Xx1,new u.kdw]]},{provide:ho,useValue:M||{}},null!=M&&M.useHash?{provide:Ve.hb,useClass:Ve.fw}:{provide:Ve.hb,useClass:Ve.Sm},{provide:sr,useFactory:()=>{const y=(0,u.WQX)(Ve.Xr),w=(0,u.WQX)(u.SKi),D=(0,u.WQX)(ho),T=(0,u.WQX)(ne),M=(0,u.WQX)($n);return D.scrollOffset&&y.setOffset(D.scrollOffset),new un(M,T,y,w,D)}},null!=M&&M.preloadingStrategy?jn(M.preloadingStrategy).\u0275providers:[],null!=M&&M.initialNavigation?os(M):[],null!=M&&M.bindToComponentInputs?ar(8,[Ro,{provide:gs,useExisting:Ro}]).\u0275providers:[],null!=M&&M.enableViewTransitions?Hi().\u0275providers:[],[{provide:Zu,useFactory:Yu},{provide:u.iLQ,multi:!0,useExisting:Zu}]]}}static forChild(T){return{ngModule:w,providers:[{provide:ha,multi:!0,useValue:T}]}}}return(y=w).\u0275fac=function(T){return new(T||y)(u.KVO(cu,8))},y.\u0275mod=u.$C({type:y}),y.\u0275inj=u.G2t({}),w})();function Rl(y){return"guarded"}function os(y){return["disabled"===y.initialNavigation?ar(3,[{provide:u.hnV,multi:!0,useFactory:()=>{const w=(0,u.WQX)(Bt);return()=>{w.setUpLocationChangeListener()}}},{provide:Is,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?ar(2,[{provide:Is,useValue:0},{provide:u.hnV,multi:!0,deps:[u.zZn],useFactory:w=>{const D=w.get(Ve.hj,Promise.resolve());return()=>D.then(()=>new Promise(T=>{const M=w.get(Bt),Y=w.get(fa);qr(M,()=>{T(!0)}),w.get(ne).afterPreactivation=()=>(T(!0),Y.closed?(0,ce.of)(void 0):Y),M.initialNavigation()}))}}]).\u0275providers:[]]}const Zu=new u.nKC("")},3345:(Qt,Je,O)=>{"use strict";O.d(Je,{A:()=>Me});var u=O(1076),G=O(1362),oe=O(7852),j=O(8041);class Te{constructor(Fe,Oe){this._delegate=Fe,this.firebase=Oe,(0,oe._addComponent)(Fe,new G.uA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,oe.deleteApp)(this._delegate)))}_getService(Fe,Oe=oe._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(Fe);return!vt.isInitialized()&&"EXPLICIT"===(null===(Ue=vt.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:Oe})}_removeServiceInstance(Fe,Oe=oe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(Oe)}_addComponent(Fe){(0,oe._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,oe._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new u.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ge=function $e(){const Ze=function He(Ze){const Fe={},Oe={__esModule:!0,initializeApp:function ae(J,K={}){const De=oe.initializeApp(J,K);if((0,u.gR)(Fe,De.name))return Fe[De.name];const z=new Ze(De,Oe);return Fe[De.name]=z,z},app:vt,registerVersion:oe.registerVersion,setLogLevel:oe.setLogLevel,onLog:oe.onLog,apps:null,SDK_VERSION:oe.SDK_VERSION,INTERNAL:{registerComponent:function Ne(J){const K=J.name,De=K.replace("-compat","");if(oe._registerComponent(J)&&"PUBLIC"===J.type){const z=(je=vt())=>{if("function"!=typeof je[De])throw ie.create("invalid-app-argument",{appName:K});return je[De]()};void 0!==J.serviceProps&&(0,u.zw)(z,J.serviceProps),Oe[De]=z,Ze.prototype[De]=function(...je){return this._getService.bind(this,K).apply(this,J.multipleInstances?je:[])}}return"PUBLIC"===J.type?Oe[De]:null},removeApp:function Ue(J){delete Fe[J]},useAsService:function Xe(J,K){return"serverAuth"===K?null:K},modularAPIs:oe}};function vt(J){if(!(0,u.gR)(Fe,J=J||oe._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:J});return Fe[J]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function Ve(){return Object.keys(Fe).map(J=>Fe[J])}}),vt.App=Ze,Oe}(Te);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function Fe(Oe){(0,u.zw)(Ze,Oe)},createSubscribe:u.tD,ErrorFactory:u.FA,deepExtend:u.zw}),Ze}(),le=new j.Vy("@firebase/app-compat");if((0,u.Bd)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=ge;!function xe(Ze){(0,oe.registerVersion)("@firebase/app-compat","0.2.31",Ze)}()},7852:(Qt,Je,O)=>{"use strict";O.r(Je),O.d(Je,{FirebaseError:()=>j.g,SDK_VERSION:()=>hi,_DEFAULT_ENTRY_NAME:()=>xn,_addComponent:()=>mr,_addOrOverwriteComponent:()=>wr,_apps:()=>ln,_clearComponents:()=>$n,_components:()=>ur,_getProvider:()=>Dr,_isFirebaseApp:()=>_n,_isFirebaseServerApp:()=>oi,_registerComponent:()=>zn,_removeServiceInstance:()=>vi,_serverApps:()=>en,deleteApp:()=>mt,getApp:()=>Ye,getApps:()=>ze,initializeApp:()=>Qr,initializeServerApp:()=>si,onLog:()=>se,registerVersion:()=>ee,setLogLevel:()=>Ae});var u=O(467),G=O(1362),oe=O(8041),j=O(1076);const Te=(ut,tt)=>tt.some(Tt=>ut instanceof Tt);let ce,ie;const ge=new WeakMap,le=new WeakMap,ke=new WeakMap,we=new WeakMap,xe=new WeakMap;let Fe={get(ut,tt,Tt){if(ut instanceof IDBTransaction){if("done"===tt)return le.get(ut);if("objectStoreNames"===tt)return ut.objectStoreNames||ke.get(ut);if("store"===tt)return Tt.objectStoreNames[1]?void 0:Tt.objectStore(Tt.objectStoreNames[0])}return ae(ut[tt])},set:(ut,tt,Tt)=>(ut[tt]=Tt,!0),has:(ut,tt)=>ut instanceof IDBTransaction&&("done"===tt||"store"===tt)||tt in ut};function vt(ut){return"function"==typeof ut?function Ue(ut){return ut!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ut)?function(...tt){return ut.apply(Ve(this),tt),ae(ge.get(this))}:function(...tt){return ae(ut.apply(Ve(this),tt))}:function(tt,...Tt){const tn=ut.call(Ve(this),tt,...Tt);return ke.set(tn,tt.sort?tt.sort():[tt]),ae(tn)}}(ut):(ut instanceof IDBTransaction&&function Ze(ut){if(le.has(ut))return;const tt=new Promise((Tt,tn)=>{const Dn=()=>{ut.removeEventListener("complete",Ln),ut.removeEventListener("error",Un),ut.removeEventListener("abort",Un)},Ln=()=>{Tt(),Dn()},Un=()=>{tn(ut.error||new DOMException("AbortError","AbortError")),Dn()};ut.addEventListener("complete",Ln),ut.addEventListener("error",Un),ut.addEventListener("abort",Un)});le.set(ut,tt)}(ut),Te(ut,function He(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ut,Fe):ut)}function ae(ut){if(ut instanceof IDBRequest)return function Me(ut){const tt=new Promise((Tt,tn)=>{const Dn=()=>{ut.removeEventListener("success",Ln),ut.removeEventListener("error",Un)},Ln=()=>{Tt(ae(ut.result)),Dn()},Un=()=>{tn(ut.error),Dn()};ut.addEventListener("success",Ln),ut.addEventListener("error",Un)});return tt.then(Tt=>{Tt instanceof IDBCursor&&ge.set(Tt,ut)}).catch(()=>{}),xe.set(tt,ut),tt}(ut);if(we.has(ut))return we.get(ut);const tt=vt(ut);return tt!==ut&&(we.set(ut,tt),xe.set(tt,ut)),tt}const Ve=ut=>xe.get(ut),J=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],De=new Map;function z(ut,tt){if(!(ut instanceof IDBDatabase)||tt in ut||"string"!=typeof tt)return;if(De.get(tt))return De.get(tt);const Tt=tt.replace(/FromIndex$/,""),tn=tt!==Tt,Dn=K.includes(Tt);if(!(Tt in(tn?IDBIndex:IDBObjectStore).prototype)||!Dn&&!J.includes(Tt))return;const Ln=function(){var Un=(0,u.A)(function*(Bn,...Ir){const wn=this.transaction(Bn,Dn?"readwrite":"readonly");let Er=wn.store;return tn&&(Er=Er.index(Ir.shift())),(yield Promise.all([Er[Tt](...Ir),Dn&&wn.done]))[0]});return function(Ir){return Un.apply(this,arguments)}}();return De.set(tt,Ln),Ln}!function Oe(ut){Fe=ut(Fe)}(ut=>({...ut,get:(tt,Tt,tn)=>z(tt,Tt)||ut.get(tt,Tt,tn),has:(tt,Tt)=>!!z(tt,Tt)||ut.has(tt,Tt)}));class je{constructor(tt){this.container=tt}getPlatformInfoString(){return this.container.getProviders().map(Tt=>{if(function Le(ut){const tt=ut.getComponent();return"VERSION"===(null==tt?void 0:tt.type)}(Tt)){const tn=Tt.getImmediate();return`${tn.library}/${tn.version}`}return null}).filter(Tt=>Tt).join(" ")}}const ot="@firebase/app",Mt="0.10.1",an=new oe.Vy("@firebase/app"),xn="[DEFAULT]",Gn={[ot]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ln=new Map,en=new Map,ur=new Map;function mr(ut,tt){try{ut.container.addComponent(tt)}catch(Tt){an.debug(`Component ${tt.name} failed to register with FirebaseApp ${ut.name}`,Tt)}}function wr(ut,tt){ut.container.addOrOverwriteComponent(tt)}function zn(ut){const tt=ut.name;if(ur.has(tt))return an.debug(`There were multiple attempts to register component ${tt}.`),!1;ur.set(tt,ut);for(const Tt of ln.values())mr(Tt,ut);for(const Tt of en.values())mr(Tt,ut);return!0}function Dr(ut,tt){const Tt=ut.container.getProvider("heartbeat").getImmediate({optional:!0});return Tt&&Tt.triggerHeartbeat(),ut.container.getProvider(tt)}function vi(ut,tt,Tt=xn){Dr(ut,tt).clearInstance(Tt)}function _n(ut){return void 0!==ut.options}function oi(ut){return void 0!==ut.settings}function $n(){ur.clear()}const kr=new j.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class br{constructor(tt,Tt,tn){this._isDeleted=!1,this._options=Object.assign({},tt),this._config=Object.assign({},Tt),this._name=Tt.name,this._automaticDataCollectionEnabled=Tt.automaticDataCollectionEnabled,this._container=tn,this.container.addComponent(new G.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this.checkDestroyed(),this._automaticDataCollectionEnabled=tt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(tt){this._isDeleted=tt}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}class Hr extends br{constructor(tt,Tt,tn,Dn){const Ln=void 0!==Tt.automaticDataCollectionEnabled&&Tt.automaticDataCollectionEnabled,Un={name:tn,automaticDataCollectionEnabled:Ln};super(void 0!==tt.apiKey?tt:tt.options,Un,Dn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ln},Tt),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Tt.releaseOnDeref=void 0,ee(ot,Mt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(tt){this.isDeleted||(this._refCount++,void 0!==tt&&this._finalizationRegistry.register(tt,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){mt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw kr.create("server-app-deleted")}}const hi="10.11.0";function Qr(ut,tt={}){let Tt=ut;"object"!=typeof tt&&(tt={name:tt});const tn=Object.assign({name:xn,automaticDataCollectionEnabled:!1},tt),Dn=tn.name;if("string"!=typeof Dn||!Dn)throw kr.create("bad-app-name",{appName:String(Dn)});if(Tt||(Tt=(0,j.T9)()),!Tt)throw kr.create("no-options");const Ln=ln.get(Dn);if(Ln){if((0,j.bD)(Tt,Ln.options)&&(0,j.bD)(tn,Ln.config))return Ln;throw kr.create("duplicate-app",{appName:Dn})}const Un=new G.h1(Dn);for(const Ir of ur.values())Un.addComponent(Ir);const Bn=new br(Tt,tn,Un);return ln.set(Dn,Bn),Bn}function si(ut,tt){if((0,j.Bd)())throw kr.create("invalid-server-app-environment");let Tt;void 0===tt.automaticDataCollectionEnabled&&(tt.automaticDataCollectionEnabled=!1),Tt=_n(ut)?ut.options:ut;const tn=Object.assign(Object.assign({},tt),Tt);if(void 0!==tn.releaseOnDeref&&delete tn.releaseOnDeref,void 0!==tt.releaseOnDeref&&typeof FinalizationRegistry>"u")throw kr.create("finalization-registry-not-supported",{});const Ln=""+(wn=JSON.stringify(tn),[...wn].reduce((Er,nr)=>Math.imul(31,Er)+nr.charCodeAt(0)|0,0)),Un=en.get(Ln);var wn;if(Un)return Un.incRefCount(tt.releaseOnDeref),Un;const Bn=new G.h1(Ln);for(const wn of ur.values())Bn.addComponent(wn);const Ir=new Hr(Tt,tt,Ln,Bn);return en.set(Ln,Ir),Ir}function Ye(ut=xn){const tt=ln.get(ut);if(!tt&&ut===xn&&(0,j.T9)())return Qr();if(!tt)throw kr.create("no-app",{appName:ut});return tt}function ze(){return Array.from(ln.values())}function mt(ut){return We.apply(this,arguments)}function We(){return(We=(0,u.A)(function*(ut){let tt=!1;const Tt=ut.name;ln.has(Tt)?(tt=!0,ln.delete(Tt)):en.has(Tt)&&ut.decRefCount()<=0&&(en.delete(Tt),tt=!0),tt&&(yield Promise.all(ut.container.getProviders().map(tn=>tn.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function ee(ut,tt,Tt){var tn;let Dn=null!==(tn=Gn[ut])&&void 0!==tn?tn:ut;Tt&&(Dn+=`-${Tt}`);const Ln=Dn.match(/\s|\//),Un=tt.match(/\s|\//);if(Ln||Un){const Bn=[`Unable to register library "${Dn}" with version "${tt}":`];return Ln&&Bn.push(`library name "${Dn}" contains illegal characters (whitespace or "/")`),Ln&&Un&&Bn.push("and"),Un&&Bn.push(`version name "${tt}" contains illegal characters (whitespace or "/")`),void an.warn(Bn.join(" "))}zn(new G.uA(`${Dn}-version`,()=>({library:Dn,version:tt}),"VERSION"))}function se(ut,tt){if(null!==ut&&"function"!=typeof ut)throw kr.create("invalid-log-argument");(0,oe.Ey)(ut,tt)}function Ae(ut){(0,oe.He)(ut)}const lt="firebase-heartbeat-database",qe=1,jt="firebase-heartbeat-store";let pn=null;function qn(){return pn||(pn=function Ne(ut,tt,{blocked:Tt,upgrade:tn,blocking:Dn,terminated:Ln}={}){const Un=indexedDB.open(ut,tt),Bn=ae(Un);return tn&&Un.addEventListener("upgradeneeded",Ir=>{tn(ae(Un.result),Ir.oldVersion,Ir.newVersion,ae(Un.transaction),Ir)}),Tt&&Un.addEventListener("blocked",Ir=>Tt(Ir.oldVersion,Ir.newVersion,Ir)),Bn.then(Ir=>{Ln&&Ir.addEventListener("close",()=>Ln()),Dn&&Ir.addEventListener("versionchange",wn=>Dn(wn.oldVersion,wn.newVersion,wn))}).catch(()=>{}),Bn}(lt,qe,{upgrade:(ut,tt)=>{if(0===tt)try{ut.createObjectStore(jt)}catch(Tt){console.warn(Tt)}}}).catch(ut=>{throw kr.create("idb-open",{originalErrorMessage:ut.message})})),pn}function Ur(){return(Ur=(0,u.A)(function*(ut){try{const Tt=(yield qn()).transaction(jt),tn=yield Tt.objectStore(jt).get(Xt(ut));return yield Tt.done,tn}catch(tt){if(tt instanceof j.g)an.warn(tt.message);else{const Tt=kr.create("idb-get",{originalErrorMessage:null==tt?void 0:tt.message});an.warn(Tt.message)}}})).apply(this,arguments)}function Yr(ut,tt){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.A)(function*(ut,tt){try{const tn=(yield qn()).transaction(jt,"readwrite");yield tn.objectStore(jt).put(tt,Xt(ut)),yield tn.done}catch(Tt){if(Tt instanceof j.g)an.warn(Tt.message);else{const tn=kr.create("idb-set",{originalErrorMessage:null==Tt?void 0:Tt.message});an.warn(tn.message)}}})).apply(this,arguments)}function Xt(ut){return`${ut.name}!${ut.options.appId}`}class Pi{constructor(tt){this.container=tt,this._heartbeatsCache=null;const Tt=this.container.getProvider("app").getImmediate();this._storage=new Yn(Tt),this._heartbeatsCachePromise=this._storage.read().then(tn=>(this._heartbeatsCache=tn,tn))}triggerHeartbeat(){var tt=this;return(0,u.A)(function*(){var Tt,tn;const Ln=tt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Un=ki();if((null!=(null===(Tt=tt._heartbeatsCache)||void 0===Tt?void 0:Tt.heartbeats)||(tt._heartbeatsCache=yield tt._heartbeatsCachePromise,null!=(null===(tn=tt._heartbeatsCache)||void 0===tn?void 0:tn.heartbeats)))&&tt._heartbeatsCache.lastSentHeartbeatDate!==Un&&!tt._heartbeatsCache.heartbeats.some(Bn=>Bn.date===Un))return tt._heartbeatsCache.heartbeats.push({date:Un,agent:Ln}),tt._heartbeatsCache.heartbeats=tt._heartbeatsCache.heartbeats.filter(Bn=>{const Ir=new Date(Bn.date).valueOf();return Date.now()-Ir<=2592e6}),tt._storage.overwrite(tt._heartbeatsCache)})()}getHeartbeatsHeader(){var tt=this;return(0,u.A)(function*(){var Tt;if(null===tt._heartbeatsCache&&(yield tt._heartbeatsCachePromise),null==(null===(Tt=tt._heartbeatsCache)||void 0===Tt?void 0:Tt.heartbeats)||0===tt._heartbeatsCache.heartbeats.length)return"";const tn=ki(),{heartbeatsToSend:Dn,unsentEntries:Ln}=function Fi(ut,tt=1024){const Tt=[];let tn=ut.slice();for(const Dn of ut){const Ln=Tt.find(Un=>Un.agent===Dn.agent);if(Ln){if(Ln.dates.push(Dn.date),Si(Tt)>tt){Ln.dates.pop();break}}else if(Tt.push({agent:Dn.agent,dates:[Dn.date]}),Si(Tt)>tt){Tt.pop();break}tn=tn.slice(1)}return{heartbeatsToSend:Tt,unsentEntries:tn}}(tt._heartbeatsCache.heartbeats),Un=(0,j.Uj)(JSON.stringify({version:2,heartbeats:Dn}));return tt._heartbeatsCache.lastSentHeartbeatDate=tn,Ln.length>0?(tt._heartbeatsCache.heartbeats=Ln,yield tt._storage.overwrite(tt._heartbeatsCache)):(tt._heartbeatsCache.heartbeats=[],tt._storage.overwrite(tt._heartbeatsCache)),Un})()}}function ki(){return(new Date).toISOString().substring(0,10)}class Yn{constructor(tt){this.app=tt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.A)(function*(){return!!(0,j.zW)()&&(0,j.eX)().then(()=>!0).catch(()=>!1)})()}read(){var tt=this;return(0,u.A)(function*(){if(yield tt._canUseIndexedDBPromise){const tn=yield function er(ut){return Ur.apply(this,arguments)}(tt.app);return null!=tn&&tn.heartbeats?tn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(tt){var Tt=this;return(0,u.A)(function*(){var tn;if(yield Tt._canUseIndexedDBPromise){const Ln=yield Tt.read();return Yr(Tt.app,{lastSentHeartbeatDate:null!==(tn=tt.lastSentHeartbeatDate)&&void 0!==tn?tn:Ln.lastSentHeartbeatDate,heartbeats:tt.heartbeats})}})()}add(tt){var Tt=this;return(0,u.A)(function*(){var tn;if(yield Tt._canUseIndexedDBPromise){const Ln=yield Tt.read();return Yr(Tt.app,{lastSentHeartbeatDate:null!==(tn=tt.lastSentHeartbeatDate)&&void 0!==tn?tn:Ln.lastSentHeartbeatDate,heartbeats:[...Ln.heartbeats,...tt.heartbeats]})}})()}}function Si(ut){return(0,j.Uj)(JSON.stringify({version:2,heartbeats:ut})).length}!function Ai(ut){zn(new G.uA("platform-logger",tt=>new je(tt),"PRIVATE")),zn(new G.uA("heartbeat",tt=>new Pi(tt),"PRIVATE")),ee(ot,Mt,ut),ee(ot,Mt,"esm2017"),ee("fire-js","")}("")},1362:(Qt,Je,O)=>{"use strict";O.d(Je,{h1:()=>He,uA:()=>oe});var u=O(467),G=O(1076);class oe{constructor(ge,le,ke){this.name=ge,this.instanceFactory=le,this.type=ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const j="[DEFAULT]";class Te{constructor(ge,le){this.name=ge,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const le=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(le)){const ke=new G.cY;if(this.instancesDeferred.set(le,ke),this.isInitialized(le)||this.shouldAutoInitialize())try{const we=this.getOrInitializeService({instanceIdentifier:le});we&&ke.resolve(we)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ge){var le;const ke=this.normalizeInstanceIdentifier(null==ge?void 0:ge.identifier),we=null!==(le=null==ge?void 0:ge.optional)&&void 0!==le&&le;if(!this.isInitialized(ke)&&!this.shouldAutoInitialize()){if(we)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ke})}catch(xe){if(we)return null;throw xe}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function ie($e){return"EAGER"===$e.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:j})}catch{}for(const[le,ke]of this.instancesDeferred.entries()){const we=this.normalizeInstanceIdentifier(le);try{const xe=this.getOrInitializeService({instanceIdentifier:we});ke.resolve(xe)}catch{}}}}clearInstance(ge=j){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,u.A)(function*(){const le=Array.from(ge.instances.values());yield Promise.all([...le.filter(ke=>"INTERNAL"in ke).map(ke=>ke.INTERNAL.delete()),...le.filter(ke=>"_delete"in ke).map(ke=>ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=j){return this.instances.has(ge)}getOptions(ge=j){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:le={}}=ge,ke=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(ke))throw Error(`${this.name}(${ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const we=this.getOrInitializeService({instanceIdentifier:ke,options:le});for(const[xe,Me]of this.instancesDeferred.entries())ke===this.normalizeInstanceIdentifier(xe)&&Me.resolve(we);return we}onInit(ge,le){var ke;const we=this.normalizeInstanceIdentifier(le),xe=null!==(ke=this.onInitCallbacks.get(we))&&void 0!==ke?ke:new Set;xe.add(ge),this.onInitCallbacks.set(we,xe);const Me=this.instances.get(we);return Me&&ge(Me,we),()=>{xe.delete(ge)}}invokeOnInitCallbacks(ge,le){const ke=this.onInitCallbacks.get(le);if(ke)for(const we of ke)try{we(ge,le)}catch{}}getOrInitializeService({instanceIdentifier:ge,options:le={}}){let ke=this.instances.get(ge);if(!ke&&this.component&&(ke=this.component.instanceFactory(this.container,{instanceIdentifier:($e=ge,$e===j?void 0:$e),options:le}),this.instances.set(ge,ke),this.instancesOptions.set(ge,le),this.invokeOnInitCallbacks(ke,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,ke)}catch{}var $e;return ke||null}normalizeInstanceIdentifier(ge=j){return this.component?this.component.multipleInstances?ge:j:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const le=this.getProvider(ge.name);if(le.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);le.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const le=new Te(ge,this);return this.providers.set(ge,le),le}getProviders(){return Array.from(this.providers.values())}}},8041:(Qt,Je,O)=>{"use strict";O.d(Je,{$b:()=>G,Ey:()=>$e,He:()=>He,Vy:()=>ie});const u=[];var G=function(ge){return ge[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",ge}(G||{});const oe={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},j=G.INFO,Te={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},ce=(ge,le,...ke)=>{if(le<ge.logLevel)return;const we=(new Date).toISOString(),xe=Te[le];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[xe](`[${we}]  ${ge.name}:`,...ke)};class ie{constructor(le){this.name=le,this._logLevel=j,this._logHandler=ce,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in G))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?oe[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...le),this._logHandler(this,G.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...le),this._logHandler(this,G.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,G.INFO,...le),this._logHandler(this,G.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,G.WARN,...le),this._logHandler(this,G.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...le),this._logHandler(this,G.ERROR,...le)}}function He(ge){u.forEach(le=>{le.setLogLevel(ge)})}function $e(ge,le){for(const ke of u){let we=null;le&&le.level&&(we=oe[le.level]),ke.userLogHandler=null===ge?null:(xe,Me,...Ze)=>{const Fe=Ze.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");Me>=(null!=we?we:xe.logLevel)&&ge({level:G[Me].toLowerCase(),message:Fe,args:Ze,type:xe.name})}}}},7157:(Qt,Je,O)=>{"use strict";O.d(Je,{Yq:()=>wr,TS:()=>ln,sR:()=>en,el:()=>Si,Sb:()=>We,QE:()=>tn,CF:()=>Ye,Rg:()=>Xt,p4:()=>Dn,q9:()=>Sn,Kb:()=>mo,OD:()=>ht,CE:()=>Ai,pF:()=>ut,fL:()=>Un,YV:()=>ki,er:()=>Ln,z3:()=>Bn});var u=O(467),G=O(4438),oe=O(4964),j=O(177);class Te{constructor(){this.m=new Map}reset(Ie){this.m=new Map(Object.entries(Ie))}get(Ie,H){const pe=this.m.get(Ie);return void 0!==pe?pe:H}getBoolean(Ie,H=!1){const pe=this.m.get(Ie);return void 0===pe?H:"string"==typeof pe?"true"===pe:!!pe}getNumber(Ie,H){const pe=parseFloat(this.m.get(Ie));return isNaN(pe)?void 0!==H?H:NaN:pe}set(Ie,H){this.m.set(Ie,H)}}const ce=new Te,we=he=>Me(he),Me=(he=window)=>{if(typeof he>"u")return[];he.Ionic=he.Ionic||{};let Ie=he.Ionic.platforms;return null==Ie&&(Ie=he.Ionic.platforms=Ze(he),Ie.forEach(H=>he.document.documentElement.classList.add(`plt-${H}`))),Ie},Ze=he=>{const Ie=ce.get("platform");return Object.keys(kn).filter(H=>{const pe=null==Ie?void 0:Ie[H];return"function"==typeof pe?pe(he):kn[H](he)})},Oe=he=>!!(Mt(he,/iPad/i)||Mt(he,/Macintosh/i)&&J(he)),ae=he=>Mt(he,/android|sink/i),J=he=>an(he,"(any-pointer:coarse)"),De=he=>z(he)||je(he),z=he=>!!(he.cordova||he.phonegap||he.PhoneGap),je=he=>{const Ie=he.Capacitor;return!(null==Ie||!Ie.isNative)},Mt=(he,Ie)=>Ie.test(he.navigator.userAgent),an=(he,Ie)=>{var H;return null===(H=he.matchMedia)||void 0===H?void 0:H.call(he,Ie).matches},kn={ipad:Oe,iphone:he=>Mt(he,/iPhone/i),ios:he=>Mt(he,/iPhone|iPod/i)||Oe(he),android:ae,phablet:he=>{const Ie=he.innerWidth,H=he.innerHeight,pe=Math.min(Ie,H),rt=Math.max(Ie,H);return pe>390&&pe<520&&rt>620&&rt<800},tablet:he=>{const Ie=he.innerWidth,H=he.innerHeight,pe=Math.min(Ie,H),rt=Math.max(Ie,H);return Oe(he)||(he=>ae(he)&&!Mt(he,/mobile/i))(he)||pe>460&&pe<820&&rt>780&&rt<1400},cordova:z,capacitor:je,electron:he=>Mt(he,/electron/i),pwa:he=>{var Ie;return!!(null!==(Ie=he.matchMedia)&&void 0!==Ie&&Ie.call(he,"(display-mode: standalone)").matches||he.navigator.standalone)},mobile:J,mobileweb:he=>J(he)&&!De(he),desktop:he=>!J(he),hybrid:De};var ye=O(6031),Re=O(1656),et=O(1413),me=O(3726),pt=O(4412),bt=O(4572),xt=O(7673),_t=O(1635),$t=O(5964),Pn=O(5558),nn=O(3294),vn=O(4341);const on=["tabsInner"];let ht=(()=>{class he{constructor(H,pe){this.doc=H,this.backButton=new et.B,this.keyboardDidShow=new et.B,this.keyboardDidHide=new et.B,this.pause=new et.B,this.resume=new et.B,this.resize=new et.B,pe.run(()=>{var rt;let Pt;this.win=H.defaultView,this.backButton.subscribeWithPriority=function(Yt,sn){return this.subscribe(yn=>yn.register(Yt,On=>pe.run(()=>sn(On))))},Nn(this.pause,H,"pause",pe),Nn(this.resume,H,"resume",pe),Nn(this.backButton,H,"ionBackButton",pe),Nn(this.resize,this.win,"resize",pe),Nn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",pe),Nn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",pe),this._readyPromise=new Promise(Yt=>{Pt=Yt}),null!==(rt=this.win)&&void 0!==rt&&rt.cordova?H.addEventListener("deviceready",()=>{Pt("cordova")},{once:!0}):Pt("dom")})}is(H){return((he,Ie)=>("string"==typeof he&&(Ie=he,he=void 0),we(he).includes(Ie)))(this.win,H)}platforms(){return we(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(H){return Zt(this.win.location.href,H)}isLandscape(){return!this.isPortrait()}isPortrait(){var H,pe;return null===(H=(pe=this.win).matchMedia)||void 0===H?void 0:H.call(pe,"(orientation: portrait)").matches}testUserAgent(H){const pe=this.win.navigator;return!!(null!=pe&&pe.userAgent&&pe.userAgent.indexOf(H)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return he.\u0275fac=function(H){return new(H||he)(G.KVO(j.qQ),G.KVO(G.SKi))},he.\u0275prov=G.jDH({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();const Zt=(he,Ie)=>{Ie=Ie.replace(/[[\]\\]/g,"\\$&");const pe=new RegExp("[\\?&]"+Ie+"=([^&#]*)").exec(he);return pe?decodeURIComponent(pe[1].replace(/\+/g," ")):null},Nn=(he,Ie,H,pe)=>{Ie&&Ie.addEventListener(H,rt=>{pe.run(()=>{he.next(null!=rt?rt.detail:void 0)})})};let Sn=(()=>{class he{constructor(H,pe,rt,Pt){this.location=pe,this.serializer=rt,this.router=Pt,this.direction=xn,this.animated=Gn,this.guessDirection="forward",this.lastNavId=-1,Pt&&Pt.events.subscribe(Yt=>{if(Yt instanceof oe.Z){const sn=Yt.restoredState?Yt.restoredState.navigationId:Yt.id;this.guessDirection=sn<this.lastNavId?"back":"forward",this.guessAnimation=Yt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Yt.id:sn}}),H.backButton.subscribeWithPriority(0,Yt=>{this.pop(),Yt()})}navigateForward(H,pe={}){return this.setDirection("forward",pe.animated,pe.animationDirection,pe.animation),this.navigate(H,pe)}navigateBack(H,pe={}){return this.setDirection("back",pe.animated,pe.animationDirection,pe.animation),this.navigate(H,pe)}navigateRoot(H,pe={}){return this.setDirection("root",pe.animated,pe.animationDirection,pe.animation),this.navigate(H,pe)}back(H={animated:!0,animationDirection:"back"}){return this.setDirection("back",H.animated,H.animationDirection,H.animation),this.location.back()}pop(){var H=this;return(0,u.A)(function*(){let pe=H.topOutlet;for(;pe;){if(yield pe.pop())return!0;pe=pe.parentOutlet}return!1})()}setDirection(H,pe,rt,Pt){this.direction=H,this.animated=Kn(H,pe,rt),this.animationBuilder=Pt}setTopOutlet(H){this.topOutlet=H}consumeTransition(){let pe,H="root";const rt=this.animationBuilder;return"auto"===this.direction?(H=this.guessDirection,pe=this.guessAnimation):(pe=this.animated,H=this.direction),this.direction=xn,this.animated=Gn,this.animationBuilder=void 0,{direction:H,animation:pe,animationBuilder:rt}}navigate(H,pe){if(Array.isArray(H))return this.router.navigate(H,pe);{const rt=this.serializer.parse(H.toString());return void 0!==pe.queryParams&&(rt.queryParams={...pe.queryParams}),void 0!==pe.fragment&&(rt.fragment=pe.fragment),this.router.navigateByUrl(rt,pe)}}}return he.\u0275fac=function(H){return new(H||he)(G.KVO(ht),G.KVO(j.aZ),G.KVO(oe.Sd),G.KVO(oe.Ix,8))},he.\u0275prov=G.jDH({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();const Kn=(he,Ie,H)=>{if(!1!==Ie){if(void 0!==H)return H;if("forward"===he||"back"===he)return he;if("root"===he&&!0===Ie)return"forward"}},xn="auto",Gn=void 0;let ln=(()=>{class he{get(H,pe){const rt=ur();return rt?rt.get(H,pe):null}getBoolean(H,pe){const rt=ur();return!!rt&&rt.getBoolean(H,pe)}getNumber(H,pe){const rt=ur();return rt?rt.getNumber(H,pe):0}}return he.\u0275fac=function(H){return new(H||he)},he.\u0275prov=G.jDH({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();const en=new G.nKC("USERCONFIG"),ur=()=>{if(typeof window<"u"){const he=window.Ionic;if(null!=he&&he.config)return he.config}return null};class mr{constructor(Ie={}){this.data=Ie}get(Ie){return this.data[Ie]}}let wr=(()=>{class he{constructor(){this.zone=(0,G.WQX)(G.SKi),this.applicationRef=(0,G.WQX)(G.o8S)}create(H,pe,rt){return new zn(H,pe,this.applicationRef,this.zone,rt)}}return he.\u0275fac=function(H){return new(H||he)},he.\u0275prov=G.jDH({token:he,factory:he.\u0275fac}),he})();class zn{constructor(Ie,H,pe,rt,Pt){this.environmentInjector=Ie,this.injector=H,this.applicationRef=pe,this.zone=rt,this.elementReferenceKey=Pt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Ie,H,pe,rt){return this.zone.run(()=>new Promise(Pt=>{const Yt={...pe};void 0!==this.elementReferenceKey&&(Yt[this.elementReferenceKey]=Ie),Pt(Dr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Ie,H,Yt,rt,this.elementReferenceKey))}))}removeViewFromDom(Ie,H){return this.zone.run(()=>new Promise(pe=>{const rt=this.elRefMap.get(H);if(rt){rt.destroy(),this.elRefMap.delete(H);const Pt=this.elEventsMap.get(H);Pt&&(Pt(),this.elEventsMap.delete(H))}pe()}))}}const Dr=(he,Ie,H,pe,rt,Pt,Yt,sn,yn,On,Gr)=>{const dt=G.zZn.create({providers:$n(yn),parent:H}),B=(0,G.a0P)(sn,{environmentInjector:Ie,elementInjector:dt}),q=B.instance,Pe=B.location.nativeElement;if(yn&&(Gr&&void 0!==q[Gr]&&console.error(`[Ionic Error]: ${Gr} is a reserved property when using ${Yt.tagName.toLowerCase()}. Rename or remove the "${Gr}" property from ${sn.name}.`),Object.assign(q,yn)),On)for(const it of On)Pe.classList.add(it);const be=_n(he,q,Pe);return Yt.appendChild(Pe),pe.attachView(B.hostView),rt.set(Pe,B),Pt.set(Pe,be),Pe},vi=[ye.L,ye.a,ye.b,ye.c,ye.d],_n=(he,Ie,H)=>he.run(()=>{const pe=vi.filter(rt=>"function"==typeof Ie[rt]).map(rt=>{const Pt=Yt=>Ie[rt](Yt.detail);return H.addEventListener(rt,Pt),()=>H.removeEventListener(rt,Pt)});return()=>pe.forEach(rt=>rt())}),oi=new G.nKC("NavParamsToken"),$n=he=>[{provide:oi,useValue:he},{provide:mr,useFactory:Wn,deps:[oi]}],Wn=he=>new mr(he),kr=(he,Ie)=>{const H=he.prototype;Ie.forEach(pe=>{Object.defineProperty(H,pe,{get(){return this.el[pe]},set(rt){this.z.runOutsideAngular(()=>this.el[pe]=rt)}})})},br=(he,Ie)=>{const H=he.prototype;Ie.forEach(pe=>{H[pe]=function(){const rt=arguments;return this.z.runOutsideAngular(()=>this.el[pe].apply(this.el,rt))}})},Hr=(he,Ie,H)=>{H.forEach(pe=>he[pe]=(0,me.R)(Ie,pe))};function hi(he){return function(H){const{defineCustomElementFn:pe,inputs:rt,methods:Pt}=he;return void 0!==pe&&pe(),rt&&kr(H,rt),Pt&&br(H,Pt),H}}const Qr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],si=["present","dismiss","onDidDismiss","onWillDismiss"];let Ye=(()=>{let he=class{constructor(H,pe,rt){this.z=rt,this.isCmpOpen=!1,this.el=pe.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,H.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,H.detectChanges()}),Hr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return he.\u0275fac=function(H){return new(H||he)(G.rXU(G.gRc),G.rXU(G.aKT),G.rXU(G.SKi))},he.\u0275dir=G.FsC({type:he,selectors:[["ion-popover"]],contentQueries:function(H,pe,rt){if(1&H&&G.wni(rt,G.C4Q,5),2&H){let Pt;G.mGM(Pt=G.lsd())&&(pe.template=Pt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),he=(0,_t.Cg)([hi({inputs:Qr,methods:si})],he),he})();const ze=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],mt=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let We=(()=>{let he=class{constructor(H,pe,rt){this.z=rt,this.isCmpOpen=!1,this.el=pe.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,H.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,H.detectChanges()}),Hr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return he.\u0275fac=function(H){return new(H||he)(G.rXU(G.gRc),G.rXU(G.aKT),G.rXU(G.SKi))},he.\u0275dir=G.FsC({type:he,selectors:[["ion-modal"]],contentQueries:function(H,pe,rt){if(1&H&&G.wni(rt,G.C4Q,5),2&H){let Pt;G.mGM(Pt=G.lsd())&&(pe.template=Pt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),he=(0,_t.Cg)([hi({inputs:ze,methods:mt})],he),he})();const se=(he,Ie)=>((he=he.filter(H=>H.stackId!==Ie.stackId)).push(Ie),he),qe=(he,Ie)=>{const H=he.createUrlTree(["."],{relativeTo:Ie});return he.serializeUrl(H)},jt=(he,Ie)=>!Ie||he.stackId!==Ie.stackId,pn=(he,Ie)=>{if(!he)return;const H=qn(Ie);for(let pe=0;pe<H.length;pe++){if(pe>=he.length)return H[pe];if(H[pe]!==he[pe])return}},qn=he=>he.split("/").map(Ie=>Ie.trim()).filter(Ie=>""!==Ie),er=he=>{he&&(he.ref.destroy(),he.unlistenEvents())};class Ur{constructor(Ie,H,pe,rt,Pt,Yt){this.containerEl=H,this.router=pe,this.navCtrl=rt,this.zone=Pt,this.location=Yt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Ie?qn(Ie):void 0}createView(Ie,H){var pe;const rt=qe(this.router,H),Pt=null==Ie||null===(pe=Ie.location)||void 0===pe?void 0:pe.nativeElement,Yt=_n(this.zone,Ie.instance,Pt);return{id:this.nextId++,stackId:pn(this.tabsPrefix,rt),unlistenEvents:Yt,element:Pt,ref:Ie,url:rt}}getExistingView(Ie){const H=qe(this.router,Ie),pe=this.views.find(rt=>rt.url===H);return pe&&pe.ref.changeDetectorRef.reattach(),pe}setActive(Ie){var H,pe;const rt=this.navCtrl.consumeTransition();let{direction:Pt,animation:Yt,animationBuilder:sn}=rt;const yn=this.activeView,On=jt(Ie,yn);On&&(Pt="back",Yt=void 0);const Gr=this.views.slice();let dt;const B=this.router;B.getCurrentNavigation?dt=B.getCurrentNavigation():null!==(H=B.navigations)&&void 0!==H&&H.value&&(dt=B.navigations.value),null!==(pe=dt)&&void 0!==pe&&null!==(pe=pe.extras)&&void 0!==pe&&pe.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const q=this.views.includes(Ie),Pe=this.insertView(Ie,Pt);q||Ie.ref.changeDetectorRef.detectChanges();const be=Ie.animationBuilder;return void 0===sn&&"back"===Pt&&!On&&void 0!==be&&(sn=be),yn&&(yn.animationBuilder=sn),this.zone.runOutsideAngular(()=>this.wait(()=>(yn&&yn.ref.changeDetectorRef.detach(),Ie.ref.changeDetectorRef.reattach(),this.transition(Ie,yn,Yt,this.canGoBack(1),!1,sn).then(()=>Yr(Ie,Pe,Gr,this.location,this.zone)).then(()=>({enteringView:Ie,direction:Pt,animation:Yt,tabSwitch:On})))))}canGoBack(Ie,H=this.getActiveStackId()){return this.getStack(H).length>Ie}pop(Ie,H=this.getActiveStackId()){return this.zone.run(()=>{const pe=this.getStack(H);if(pe.length<=Ie)return Promise.resolve(!1);const rt=pe[pe.length-Ie-1];let Pt=rt.url;const Yt=rt.savedData;if(Yt){var sn;const On=Yt.get("primary");null!=On&&null!==(sn=On.route)&&void 0!==sn&&null!==(sn=sn._routerState)&&void 0!==sn&&sn.snapshot.url&&(Pt=On.route._routerState.snapshot.url)}const{animationBuilder:yn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Pt,{...rt.savedExtras,animation:yn}).then(()=>!0)})}startBackTransition(){const Ie=this.activeView;if(Ie){const H=this.getStack(Ie.stackId),pe=H[H.length-2],rt=pe.animationBuilder;return this.wait(()=>this.transition(pe,Ie,"back",this.canGoBack(2),!0,rt))}return Promise.resolve()}endBackTransition(Ie){Ie?(this.skipTransition=!0,this.pop(1)):this.activeView&&dn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Ie){const H=this.getStack(Ie);return H.length>0?H[H.length-1]:void 0}getRootUrl(Ie){const H=this.getStack(Ie);return H.length>0?H[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(er),this.activeView=void 0,this.views=[]}getStack(Ie){return this.views.filter(H=>H.stackId===Ie)}insertView(Ie,H){return this.activeView=Ie,this.views=((he,Ie,H)=>"root"===H?se(he,Ie):"forward"===H?((he,Ie)=>(he.indexOf(Ie)>=0?he=he.filter(pe=>pe.stackId!==Ie.stackId||pe.id<=Ie.id):he.push(Ie),he))(he,Ie):((he,Ie)=>he.indexOf(Ie)>=0?he.filter(pe=>pe.stackId!==Ie.stackId||pe.id<=Ie.id):se(he,Ie))(he,Ie))(this.views,Ie,H),this.views.slice()}transition(Ie,H,pe,rt,Pt,Yt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(H===Ie)return Promise.resolve(!1);const sn=Ie?Ie.element:void 0,yn=H?H.element:void 0,On=this.containerEl;return sn&&sn!==yn&&(sn.classList.add("ion-page"),sn.classList.add("ion-page-invisible"),sn.parentElement!==On&&On.appendChild(sn),On.commit)?On.commit(sn,yn,{duration:void 0===pe?0:void 0,direction:pe,showGoBack:rt,progressAnimation:Pt,animationBuilder:Yt}):Promise.resolve(!1)}wait(Ie){var H=this;return(0,u.A)(function*(){void 0!==H.runningTask&&(yield H.runningTask,H.runningTask=void 0);const pe=H.runningTask=Ie();return pe.finally(()=>H.runningTask=void 0),pe})()}}const Yr=(he,Ie,H,pe,rt)=>"function"==typeof requestAnimationFrame?new Promise(Pt=>{requestAnimationFrame(()=>{dn(he,Ie,H,pe,rt),Pt()})}):Promise.resolve(),dn=(he,Ie,H,pe,rt)=>{rt.run(()=>H.filter(Pt=>!Ie.includes(Pt)).forEach(er)),Ie.forEach(Pt=>{const sn=pe.path().split("?")[0].split("#")[0];if(Pt!==he&&Pt.url!==sn){const yn=Pt.element;yn.setAttribute("aria-hidden","true"),yn.classList.add("ion-page-hidden"),Pt.ref.changeDetectorRef.detach()}})};let Xt=(()=>{class he{constructor(H,pe,rt,Pt,Yt,sn,yn,On){this.parentOutlet=On,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new pt.t(null),this.activated=null,this._activatedRoute=null,this.name=oe.Xk,this.stackWillChange=new G.bkB,this.stackDidChange=new G.bkB,this.activateEvents=new G.bkB,this.deactivateEvents=new G.bkB,this.parentContexts=(0,G.WQX)(oe.Zp),this.location=(0,G.WQX)(G.c1b),this.environmentInjector=(0,G.WQX)(G.uvJ),this.inputBinder=(0,G.WQX)(Br,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,G.WQX)(ln),this.navCtrl=(0,G.WQX)(Sn),this.nativeEl=Pt.nativeElement,this.name=H||oe.Xk,this.tabsPrefix="true"===pe?qe(Yt,yn):void 0,this.stackCtrl=new Ur(this.tabsPrefix,this.nativeEl,Yt,this.navCtrl,sn,rt),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(H){this.nativeEl.animation=H}set animated(H){this.nativeEl.animated=H}set swipeGesture(H){this._swipeGesture=H,this.nativeEl.swipeHandler=H?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:pe=>this.stackCtrl.endBackTransition(pe)}:void 0}ngOnDestroy(){var H;this.stackCtrl.destroy(),null===(H=this.inputBinder)||void 0===H||H.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const H=this.getContext();null!=H&&H.route&&this.activateWith(H.route,H.injector)}new Promise(H=>(0,Re.c)(this.nativeEl,H)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(H,pe){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const pe=this.getContext();this.activatedView.savedData=new Map(pe.children.contexts);const rt=this.activatedView.savedData.get("primary");if(rt&&pe.route&&(rt.route={...pe.route}),this.activatedView.savedExtras={},pe.route){const Pt=pe.route.snapshot;this.activatedView.savedExtras.queryParams=Pt.queryParams,this.activatedView.savedExtras.fragment=Pt.fragment}}const H=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(H)}}activateWith(H,pe){var rt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=H;let Pt,Yt=this.stackCtrl.getExistingView(H);if(Yt){Pt=this.activated=Yt.ref;const On=Yt.savedData;On&&(this.getContext().children.contexts=On),this.updateActivatedRouteProxy(Pt.instance,H)}else{var sn;const On=H._futureSnapshot,Gr=this.parentContexts.getOrCreateContext(this.name).children,dt=new pt.t(null),B=this.createActivatedRouteProxy(dt,H),q=new bi(B,Gr,this.location.injector),Pe=null!==(sn=On.routeConfig.component)&&void 0!==sn?sn:On.component;Pt=this.activated=this.location.createComponent(Pe,{index:this.location.length,injector:q,environmentInjector:null!=pe?pe:this.environmentInjector}),dt.next(Pt.instance),Yt=this.stackCtrl.createView(this.activated,H),this.proxyMap.set(Pt.instance,B),this.currentActivatedRoute$.next({component:Pt.instance,activatedRoute:H})}null===(rt=this.inputBinder)||void 0===rt||rt.bindActivatedRouteToOutletComponent(this),this.activatedView=Yt,this.navCtrl.setTopOutlet(this);const yn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Yt,tabSwitch:jt(Yt,yn)}),this.stackCtrl.setActive(Yt).then(On=>{this.activateEvents.emit(Pt.instance),this.stackDidChange.emit(On)})}canGoBack(H=1,pe){return this.stackCtrl.canGoBack(H,pe)}pop(H=1,pe){return this.stackCtrl.pop(H,pe)}getLastUrl(H){const pe=this.stackCtrl.getLastUrl(H);return pe?pe.url:void 0}getLastRouteView(H){return this.stackCtrl.getLastUrl(H)}getRootView(H){return this.stackCtrl.getRootUrl(H)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(H,pe){const rt=new oe.nX;return rt._futureSnapshot=pe._futureSnapshot,rt._routerState=pe._routerState,rt.snapshot=pe.snapshot,rt.outlet=pe.outlet,rt.component=pe.component,rt._paramMap=this.proxyObservable(H,"paramMap"),rt._queryParamMap=this.proxyObservable(H,"queryParamMap"),rt.url=this.proxyObservable(H,"url"),rt.params=this.proxyObservable(H,"params"),rt.queryParams=this.proxyObservable(H,"queryParams"),rt.fragment=this.proxyObservable(H,"fragment"),rt.data=this.proxyObservable(H,"data"),rt}proxyObservable(H,pe){return H.pipe((0,$t.p)(rt=>!!rt),(0,Pn.n)(rt=>this.currentActivatedRoute$.pipe((0,$t.p)(Pt=>null!==Pt&&Pt.component===rt),(0,Pn.n)(Pt=>Pt&&Pt.activatedRoute[pe]),(0,nn.F)())))}updateActivatedRouteProxy(H,pe){const rt=this.proxyMap.get(H);if(!rt)throw new Error("Could not find activated route proxy for view");rt._futureSnapshot=pe._futureSnapshot,rt._routerState=pe._routerState,rt.snapshot=pe.snapshot,rt.outlet=pe.outlet,rt.component=pe.component,this.currentActivatedRoute$.next({component:H,activatedRoute:pe})}}return he.\u0275fac=function(H){return new(H||he)(G.kS0("name"),G.kS0("tabs"),G.rXU(j.aZ),G.rXU(G.aKT),G.rXU(oe.Ix),G.rXU(G.SKi),G.rXU(oe.nX),G.rXU(he,12))},he.\u0275dir=G.FsC({type:he,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),he})();class bi{constructor(Ie,H,pe){this.route=Ie,this.childContexts=H,this.parent=pe}get(Ie,H){return Ie===oe.nX?this.route:Ie===oe.Zp?this.childContexts:this.parent.get(Ie,H)}}const Br=new G.nKC("");let Pi=(()=>{class he{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(H){this.unsubscribeFromRouteData(H),this.subscribeToRouteData(H)}unsubscribeFromRouteData(H){var pe;null===(pe=this.outletDataSubscriptions.get(H))||void 0===pe||pe.unsubscribe(),this.outletDataSubscriptions.delete(H)}subscribeToRouteData(H){const{activatedRoute:pe}=H,rt=(0,bt.z)([pe.queryParams,pe.params,pe.data]).pipe((0,Pn.n)(([Pt,Yt,sn],yn)=>(sn={...Pt,...Yt,...sn},0===yn?(0,xt.of)(sn):Promise.resolve(sn)))).subscribe(Pt=>{if(!H.isActivated||!H.activatedComponentRef||H.activatedRoute!==pe||null===pe.component)return void this.unsubscribeFromRouteData(H);const Yt=(0,G.HJs)(pe.component);if(Yt)for(const{templateName:sn}of Yt.inputs)H.activatedComponentRef.setInput(sn,Pt[sn]);else this.unsubscribeFromRouteData(H)});this.outletDataSubscriptions.set(H,rt)}}return he.\u0275fac=function(H){return new(H||he)},he.\u0275prov=G.jDH({token:he,factory:he.\u0275fac}),he})();const ki=()=>({provide:Br,useFactory:Fi,deps:[oe.Ix]});function Fi(he){return null!=he&&he.componentInputBindingEnabled?new Pi:null}const Yn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Si=(()=>{let he=class{constructor(H,pe,rt,Pt,Yt,sn){this.routerOutlet=H,this.navCtrl=pe,this.config=rt,this.r=Pt,this.z=Yt,sn.detach(),this.el=this.r.nativeElement}onClick(H){var pe;const rt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(pe=this.routerOutlet)&&void 0!==pe&&pe.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),H.preventDefault()):null!=rt&&(this.navCtrl.navigateBack(rt,{animation:this.routerAnimation}),H.preventDefault())}};return he.\u0275fac=function(H){return new(H||he)(G.rXU(Xt,8),G.rXU(Sn),G.rXU(ln),G.rXU(G.aKT),G.rXU(G.SKi),G.rXU(G.gRc))},he.\u0275dir=G.FsC({type:he,hostBindings:function(H,pe){1&H&&G.bIt("click",function(Pt){return pe.onClick(Pt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),he=(0,_t.Cg)([hi({inputs:Yn})],he),he})(),Ai=(()=>{class he{constructor(H,pe,rt,Pt,Yt){this.locationStrategy=H,this.navCtrl=pe,this.elementRef=rt,this.router=Pt,this.routerLink=Yt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var H;if(null!==(H=this.routerLink)&&void 0!==H&&H.urlTree){const pe=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=pe}}onClick(H){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),H.preventDefault()}}return he.\u0275fac=function(H){return new(H||he)(G.rXU(j.hb),G.rXU(Sn),G.rXU(G.aKT),G.rXU(oe.Ix),G.rXU(oe.Wk,8))},he.\u0275dir=G.FsC({type:he,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(H,pe){1&H&&G.bIt("click",function(Pt){return pe.onClick(Pt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[G.OA$]}),he})(),ut=(()=>{class he{constructor(H,pe,rt,Pt,Yt){this.locationStrategy=H,this.navCtrl=pe,this.elementRef=rt,this.router=Pt,this.routerLink=Yt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var H;if(null!==(H=this.routerLink)&&void 0!==H&&H.urlTree){const pe=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=pe}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return he.\u0275fac=function(H){return new(H||he)(G.rXU(j.hb),G.rXU(Sn),G.rXU(G.aKT),G.rXU(oe.Ix),G.rXU(oe.Wk,8))},he.\u0275dir=G.FsC({type:he,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(H,pe){1&H&&G.bIt("click",function(){return pe.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[G.OA$]}),he})();const tt=["animated","animation","root","rootParams","swipeGesture"],Tt=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let tn=(()=>{let he=class{constructor(H,pe,rt,Pt,Yt,sn){this.z=Yt,sn.detach(),this.el=H.nativeElement,H.nativeElement.delegate=Pt.create(pe,rt),Hr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return he.\u0275fac=function(H){return new(H||he)(G.rXU(G.aKT),G.rXU(G.uvJ),G.rXU(G.zZn),G.rXU(wr),G.rXU(G.SKi),G.rXU(G.gRc))},he.\u0275dir=G.FsC({type:he,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),he=(0,_t.Cg)([hi({inputs:tt,methods:Tt})],he),he})(),Dn=(()=>{class he{constructor(H){this.navCtrl=H,this.ionTabsWillChange=new G.bkB,this.ionTabsDidChange=new G.bkB,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:H,tabSwitch:pe}){const rt=H.stackId;pe&&void 0!==rt&&this.ionTabsWillChange.emit({tab:rt})}onStackDidChange({enteringView:H,tabSwitch:pe}){const rt=H.stackId;pe&&void 0!==rt&&(this.tabBar&&(this.tabBar.selectedTab=rt),this.ionTabsDidChange.emit({tab:rt}))}select(H){const pe="string"==typeof H,rt=pe?H:H.detail.tab,Pt=this.outlet.getActiveStackId()===rt,Yt=`${this.outlet.tabsPrefix}/${rt}`;if(pe||H.stopPropagation(),Pt){const sn=this.outlet.getActiveStackId(),yn=this.outlet.getLastRouteView(sn);if((null==yn?void 0:yn.url)===Yt)return;const On=this.outlet.getRootView(rt);return this.navCtrl.navigateRoot(Yt,{...On&&Yt===On.url&&On.savedExtras,animated:!0,animationDirection:"back"})}{const sn=this.outlet.getLastRouteView(rt);return this.navCtrl.navigateRoot((null==sn?void 0:sn.url)||Yt,{...null==sn?void 0:sn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(H=>{const pe=H.el.getAttribute("slot");pe!==this.tabBarSlot&&(this.tabBarSlot=pe,this.relocateTabBar())})}relocateTabBar(){const H=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(H):this.tabsInner.nativeElement.after(H)}}return he.\u0275fac=function(H){return new(H||he)(G.rXU(Sn))},he.\u0275dir=G.FsC({type:he,selectors:[["ion-tabs"]],viewQuery:function(H,pe){if(1&H&&G.GBs(on,7,G.aKT),2&H){let rt;G.mGM(rt=G.lsd())&&(pe.tabsInner=rt.first)}},hostBindings:function(H,pe){1&H&&G.bIt("ionTabButtonClick",function(Pt){return pe.select(Pt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),he})();const Ln=he=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(he):"function"==typeof requestAnimationFrame?requestAnimationFrame(he):setTimeout(he);let Un=(()=>{class he{constructor(H,pe){this.injector=H,this.elementRef=pe,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(H){this.elementRef.nativeElement.value=this.lastValue=H,Bn(this.elementRef)}handleValueChange(H,pe){H===this.elementRef.nativeElement&&(pe!==this.lastValue&&(this.lastValue=pe,this.onChange(pe)),Bn(this.elementRef))}_handleBlurEvent(H){H===this.elementRef.nativeElement&&(this.onTouched(),Bn(this.elementRef))}registerOnChange(H){this.onChange=H}registerOnTouched(H){this.onTouched=H}setDisabledState(H){this.elementRef.nativeElement.disabled=H}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let H;try{H=this.injector.get(vn.vO)}catch{}if(!H)return;H.statusChanges&&(this.statusChanges=H.statusChanges.subscribe(()=>Bn(this.elementRef)));const pe=H.control;pe&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Pt=>{if(typeof pe[Pt]<"u"){const Yt=pe[Pt].bind(pe);pe[Pt]=(...sn)=>{Yt(...sn),Bn(this.elementRef)}}})}}return he.\u0275fac=function(H){return new(H||he)(G.rXU(G.zZn),G.rXU(G.aKT))},he.\u0275dir=G.FsC({type:he,hostBindings:function(H,pe){1&H&&G.bIt("ionBlur",function(Pt){return pe._handleBlurEvent(Pt.target)})}}),he})();const Bn=he=>{Ln(()=>{const Ie=he.nativeElement,H=null!=Ie.value&&Ie.value.toString().length>0,pe=Ir(Ie);wn(Ie,pe);const rt=Ie.closest("ion-item");rt&&wn(rt,H?[...pe,"item-has-value"]:pe)})},Ir=he=>{const Ie=he.classList,H=[];for(let pe=0;pe<Ie.length;pe++){const rt=Ie.item(pe);null!==rt&&Er(rt,"ng-")&&H.push(`ion-${rt.substring(3)}`)}return H},wn=(he,Ie)=>{const H=he.classList;H.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),H.add(...Ie)},Er=(he,Ie)=>he.substring(0,Ie.length)===Ie;class mo{constructor(Ie){this.ctrl=Ie}create(Ie){return this.ctrl.create(Ie||{})}dismiss(Ie,H,pe){return this.ctrl.dismiss(Ie,H,pe)}getTop(){return this.ctrl.getTop()}}},4488:(Qt,Je,O)=>{"use strict";O.d(Je,{hG:()=>Pe,U1:()=>$t,el:()=>rt,Jm:()=>gt,QW:()=>It,b_:()=>ht,I9:()=>Zt,ME:()=>Nn,hU:()=>ln,W9:()=>en,M0:()=>vi,lO:()=>_n,eU:()=>oi,iq:()=>$n,$w:()=>Hr,uz:()=>hi,he:()=>We,nf:()=>ee,Rg:()=>H,ln:()=>Yn,Nm:()=>tt,Ip:()=>Tt,BC:()=>nr,ai:()=>Ie,bv:()=>Pr,W3:()=>zt,N7:()=>Yt,oY:()=>sn,Je:()=>st,Gw:()=>Ee});var u=O(4438),G=O(4341),oe=O(7157),j=O(1635),Te=O(3726),ce=O(177),ie=O(4964),we=(O(3503),O(6451),O(7278),O(9354),O(405),O(8886)),xe=O(464),Ze=(O(6691),O(5049)),Oe=(O(8476),O(773));O(8221),O(6471);var Ne=O(467);const Xe=we.i,J=function(){var A=(0,Ne.A)(function*(te,P){if(!(typeof window>"u"))return yield Xe(),(0,Oe.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),P)});return function(P,re){return A.apply(this,arguments)}}(),K=["*"];let st=(()=>{class A extends oe.fL{constructor(P,re){super(P,re)}_handleChangeEvent(P){this.handleValueChange(P,P.value)}}return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.zZn),u.rXU(u.aKT))},A.\u0275dir=u.FsC({type:A,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(P,re){1&P&&u.bIt("ionChange",function(cr){return re._handleChangeEvent(cr.target)})},features:[u.Jv_([{provide:G.kq,useExisting:A,multi:!0}]),u.Vt3]}),A})(),Ee=(()=>{class A extends oe.fL{constructor(P,re){super(P,re)}_handleInputEvent(P){this.handleValueChange(P,P.value)}}return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.zZn),u.rXU(u.aKT))},A.\u0275dir=u.FsC({type:A,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(P,re){1&P&&u.bIt("ionInput",function(cr){return re._handleInputEvent(cr.target)})},features:[u.Jv_([{provide:G.kq,useExisting:A,multi:!0}]),u.Vt3]}),A})();const fe=(A,te)=>{const P=A.prototype;te.forEach(re=>{Object.defineProperty(P,re,{get(){return this.el[re]},set(Qe){this.z.runOutsideAngular(()=>this.el[re]=Qe)},configurable:!0})})},ye=(A,te)=>{const P=A.prototype;te.forEach(re=>{P[re]=function(){const Qe=arguments;return this.z.runOutsideAngular(()=>this.el[re].apply(this.el,Qe))}})},Re=(A,te,P)=>{P.forEach(re=>A[re]=(0,Te.R)(te,re))};function me(A){return function(P){const{defineCustomElementFn:re,inputs:Qe,methods:cr}=A;return void 0!==re&&re(),Qe&&fe(P,Qe),cr&&ye(P,cr),P}}let $t=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-app"]],ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({})],A),A})(),gt=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement,Re(this,this.el,["ionFocus","ionBlur"])}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],A),A})(),It=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["collapse"]})],A),A})(),ht=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],A),A})(),Zt=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["mode"]})],A),A})(),Nn=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["color","mode","translucent"]})],A),A})(),ln=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],A),A})(),en=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement,Re(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],A),A})(),vi=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["collapse","mode","translucent"]})],A),A})(),_n=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["fixed"]})],A),A})(),oi=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["collapse","mode","translucent"]})],A),A})(),$n=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],A),A})(),Hr=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement,Re(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],A),A})(),hi=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],A),A})(),We=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["color","mode","position"]})],A),A})(),ee=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],A),A})(),Yn=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-row"]],ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({})],A),A})(),tt=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement,Re(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],A),A})(),Tt=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["disabled","value"]})],A),A})(),nr=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["color","size"]})],A),A})(),Ie=(()=>{let A=class{constructor(P,re,Qe){this.z=Qe,P.detach(),this.el=re.nativeElement}};return A.\u0275fac=function(P){return new(P||A)(u.rXU(u.gRc),u.rXU(u.aKT),u.rXU(u.SKi))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A=(0,j.Cg)([me({inputs:["color","mode"]})],A),A})(),H=(()=>{class A extends oe.Rg{constructor(P,re,Qe,cr,ti,Wi,xi,_i){super(P,re,Qe,cr,ti,Wi,xi,_i),this.parentOutlet=_i}}return A.\u0275fac=function(P){return new(P||A)(u.kS0("name"),u.kS0("tabs"),u.rXU(ce.aZ),u.rXU(u.aKT),u.rXU(ie.Ix),u.rXU(u.SKi),u.rXU(ie.nX),u.rXU(A,12))},A.\u0275dir=u.FsC({type:A,selectors:[["ion-router-outlet"]],features:[u.Vt3]}),A})(),rt=(()=>{class A extends oe.el{constructor(P,re,Qe,cr,ti,Wi){super(P,re,Qe,cr,ti,Wi)}}return A.\u0275fac=function(P){return new(P||A)(u.rXU(H,8),u.rXU(oe.q9),u.rXU(oe.TS),u.rXU(u.aKT),u.rXU(u.SKi),u.rXU(u.gRc))},A.\u0275cmp=u.VBU({type:A,selectors:[["ion-back-button"]],features:[u.Vt3],ngContentSelectors:K,decls:1,vars:0,template:function(P,re){1&P&&(u.NAR(),u.SdG(0))},encapsulation:2,changeDetection:0}),A})(),Yt=(()=>{class A extends oe.CE{}return A.\u0275fac=(()=>{let te;return function(re){return(te||(te=u.xGo(A)))(re||A)}})(),A.\u0275dir=u.FsC({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],features:[u.Vt3]}),A})(),sn=(()=>{class A extends oe.pF{}return A.\u0275fac=(()=>{let te;return function(re){return(te||(te=u.xGo(A)))(re||A)}})(),A.\u0275dir=u.FsC({type:A,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[u.Vt3]}),A})();const Gr={provide:G.cz,useExisting:(0,u.Rfq)(()=>dt),multi:!0};let dt=(()=>{class A extends G.zX{}return A.\u0275fac=(()=>{let te;return function(re){return(te||(te=u.xGo(A)))(re||A)}})(),A.\u0275dir=u.FsC({type:A,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(P,re){2&P&&u.BMQ("max",re._enabled?re.max:null)},features:[u.Jv_([Gr]),u.Vt3]}),A})();const B={provide:G.cz,useExisting:(0,u.Rfq)(()=>q),multi:!0};let q=(()=>{class A extends G.VZ{}return A.\u0275fac=(()=>{let te;return function(re){return(te||(te=u.xGo(A)))(re||A)}})(),A.\u0275dir=u.FsC({type:A,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(P,re){2&P&&u.BMQ("min",re._enabled?re.min:null)},features:[u.Jv_([B]),u.Vt3]}),A})(),Pe=(()=>{class A extends oe.Kb{constructor(){super(Ze.a)}}return A.\u0275fac=function(P){return new(P||A)},A.\u0275prov=u.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),zt=(()=>{class A extends oe.Kb{constructor(){super(Ze.m),this.angularDelegate=(0,u.WQX)(oe.Yq),this.injector=(0,u.WQX)(u.zZn),this.environmentInjector=(0,u.WQX)(u.uvJ)}create(P){return super.create({...P,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return A.\u0275fac=function(P){return new(P||A)},A.\u0275prov=u.jDH({token:A,factory:A.\u0275fac}),A})();class Wt extends oe.Kb{constructor(){super(Ze.c),this.angularDelegate=(0,u.WQX)(oe.Yq),this.injector=(0,u.WQX)(u.zZn),this.environmentInjector=(0,u.WQX)(u.uvJ)}create(te){return super.create({...te,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const En=(A,te,P)=>()=>{const re=te.defaultView;if(re&&typeof window<"u"){(0,xe.s)({...A,_zoneGate:cr=>P.run(cr)});const Qe="__zone_symbol__addEventListener"in te.body?"__zone_symbol__addEventListener":"addEventListener";return function Ve(){var A=[];if(typeof window<"u"){var te=window;(!te.customElements||te.Element&&(!te.Element.prototype.closest||!te.Element.prototype.matches||!te.Element.prototype.remove||!te.Element.prototype.getRootNode))&&A.push(O.e(7278).then(O.t.bind(O,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||te.NodeList&&!te.NodeList.prototype.forEach||!te.fetch||!function(){try{var re=new URL("b","http://a");return re.pathname="c%20d","http://a/c%20d"===re.href&&re.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&A.push(O.e(9329).then(O.t.bind(O,7783,23)))}return Promise.all(A)}().then(()=>J(re,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:oe.er,jmp:cr=>P.runOutsideAngular(cr),ael(cr,ti,Wi,xi){cr[Qe](ti,Wi,xi)},rel(cr,ti,Wi,xi){cr.removeEventListener(ti,Wi,xi)}}))}};let Pr=(()=>{class A{static forRoot(P){return{ngModule:A,providers:[{provide:oe.sR,useValue:P},{provide:u.hnV,useFactory:En,multi:!0,deps:[oe.sR,ce.qQ,u.SKi]},(0,oe.YV)()]}}}return A.\u0275fac=function(P){return new(P||A)},A.\u0275mod=u.$C({type:A}),A.\u0275inj=u.G2t({providers:[oe.Yq,zt,Wt],imports:[ce.MD]}),A})()},7935:(Qt,Je,O)=>{"use strict";O.d(Je,{A:()=>u.A});var u=O(3345);u.A.registerVersion("firebase","10.11.0","app-compat")},509:(Qt,Je,O)=>{"use strict";O.r(Je);var u=O(467),G=O(3345),oe=O(7852),j=O(1076),Te=O(8041),ce=O(1635),ie=O(1362);const $e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Me=function we(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ze=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new j.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new Te.Vy("@firebase/auth");function ae(v,...f){Ue.logLevel<=Te.$b.ERROR&&Ue.error(`Auth (${oe.SDK_VERSION}): ${v}`,...f)}function Ve(v,...f){throw De(v,...f)}function Ne(v,...f){return De(v,...f)}function Xe(v,f,p){const I=Object.assign(Object.assign({},Ze()),{[f]:p});return new j.FA("auth","Firebase",I).create(f,{appName:v.name})}function J(v){return Xe(v,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K(v,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Ve(v,"argument-error"),Xe(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function De(v,...f){if("string"!=typeof v){const p=f[0],I=[...f.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(p,...I)}return Fe.create(v,...f)}function z(v,f,...p){if(!v)throw De(f,...p)}function je(v){const f="INTERNAL ASSERTION FAILED: "+v;throw ae(f),new Error(f)}function Le(v,f){v||je(f)}function ot(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Mt(){return"http:"===an()||"https:"===an()}function an(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ee{constructor(f,p){this.shortDelay=f,this.longDelay=p,Le(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,j.jZ)()||(0,j.lV)()}get(){return function kn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,j.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fe(v,f){Le(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class ye{static initialize(f,p,I){this.fetchImpl=f,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Re={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},et=new Ee(3e4,6e4);function me(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function pt(v,f,p,I){return bt.apply(this,arguments)}function bt(){return(bt=(0,u.A)(function*(v,f,p,I,F={}){return xt(v,F,(0,u.A)(function*(){let X={},Be={};I&&("GET"===f?Be=I:X={body:JSON.stringify(I)});const nt=(0,j.Am)(Object.assign({key:v.config.apiKey},Be)).slice(1),Nt=yield v._getAdditionalHeaders();return Nt["Content-Type"]="application/json",v.languageCode&&(Nt["X-Firebase-Locale"]=v.languageCode),ye.fetch()(nn(v,v.config.apiHost,p,nt),Object.assign({method:f,headers:Nt,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function xt(v,f,p){return _t.apply(this,arguments)}function _t(){return(_t=(0,u.A)(function*(v,f,p){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},Re),f);try{const F=new on(v),X=yield Promise.race([p(),F.promise]);F.clearNetworkTimeout();const Be=yield X.json();if("needConfirmation"in Be)throw Ct(v,"account-exists-with-different-credential",Be);if(X.ok&&!("errorMessage"in Be))return Be;{const nt=X.ok?Be.errorMessage:Be.error.message,[Nt,mn]=nt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nt)throw Ct(v,"credential-already-in-use",Be);if("EMAIL_EXISTS"===Nt)throw Ct(v,"email-already-in-use",Be);if("USER_DISABLED"===Nt)throw Ct(v,"user-disabled",Be);const An=I[Nt]||Nt.toLowerCase().replace(/[_\s]+/g,"-");if(mn)throw Xe(v,An,mn);Ve(v,An)}}catch(F){if(F instanceof j.g)throw F;Ve(v,"network-request-failed",{message:String(F)})}})).apply(this,arguments)}function $t(v,f,p,I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.A)(function*(v,f,p,I,F={}){const X=yield pt(v,f,p,I,F);return"mfaPendingCredential"in X&&Ve(v,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function nn(v,f,p,I){const F=`${f}${p}?${I}`;return v.config.emulator?fe(v.config,F):`${v.config.apiScheme}://${F}`}function vn(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class on{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(Ne(this.auth,"network-request-failed")),et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ct(v,f,p){const I={appName:v.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const F=Ne(v,f,I);return F.customData._tokenResponse=p,F}function gt(v){return void 0!==v&&void 0!==v.getResponse}function It(v){return void 0!==v&&void 0!==v.enterprise}class ht{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===f)return vn(p.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function Nn(){return(Nn=(0,u.A)(function*(v){return(yield pt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sn(v,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.A)(function*(v,f){return pt(v,"GET","/v2/recaptchaConfig",me(v,f))})).apply(this,arguments)}function Gn(){return(Gn=(0,u.A)(function*(v,f){return pt(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function en(){return(en=(0,u.A)(function*(v,f){return pt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ur(v,f){return mr.apply(this,arguments)}function mr(){return(mr=(0,u.A)(function*(v,f){return pt(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function wr(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function vi(){return(vi=(0,u.A)(function*(v,f=!1){const p=(0,j.Ku)(v),I=yield p.getIdToken(f),F=oi(I);z(F&&F.exp&&F.auth_time&&F.iat,p.auth,"internal-error");const X="object"==typeof F.firebase?F.firebase:void 0,Be=null==X?void 0:X.sign_in_provider;return{claims:F,token:I,authTime:wr(_n(F.auth_time)),issuedAtTime:wr(_n(F.iat)),expirationTime:wr(_n(F.exp)),signInProvider:Be||null,signInSecondFactor:(null==X?void 0:X.sign_in_second_factor)||null}})).apply(this,arguments)}function _n(v){return 1e3*Number(v)}function oi(v){const[f,p,I]=v.split(".");if(void 0===f||void 0===p||void 0===I)return ae("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,j.u)(p);return F?JSON.parse(F):(ae("Failed to decode base64 JWT payload"),null)}catch(F){return ae("Caught error parsing JWT payload as JSON",null==F?void 0:F.toString()),null}}function $n(v){const f=oi(v);return z(f,"internal-error"),z(typeof f.exp<"u","internal-error"),z(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}function Wn(v,f){return kr.apply(this,arguments)}function kr(){return(kr=(0,u.A)(function*(v,f,p=!1){if(p)return f;try{return yield f}catch(I){throw I instanceof j.g&&function br({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class Hr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const F=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(f);this.timerId=setTimeout((0,u.A)(function*(){yield p.iteration()}),I)}iteration(){var f=this;return(0,u.A)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===(null==p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class hi{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=wr(this.lastLoginAt),this.creationTime=wr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qr(v){return si.apply(this,arguments)}function si(){return(si=(0,u.A)(function*(v){var f;const p=v.auth,I=yield v.getIdToken(),F=yield Wn(v,ur(p,{idToken:I}));z(null==F?void 0:F.users.length,p,"internal-error");const X=F.users[0];v._notifyReloadListener(X);const Be=null!==(f=X.providerUserInfo)&&void 0!==f&&f.length?We(X.providerUserInfo):[],nt=function mt(v,f){return[...v.filter(I=>!f.some(F=>F.providerId===I.providerId)),...f]}(v.providerData,Be),An=!!v.isAnonymous&&!(v.email&&X.passwordHash||null!=nt&&nt.length),gn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:nt,metadata:new hi(X.createdAt,X.lastLoginAt),isAnonymous:An};Object.assign(v,gn)})).apply(this,arguments)}function ze(){return(ze=(0,u.A)(function*(v){const f=(0,j.Ku)(v);yield Qr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function We(v){return v.map(f=>{var{providerId:p}=f,I=(0,ce.Tt)(f,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function se(){return(se=(0,u.A)(function*(v,f){const p=yield xt(v,{},(0,u.A)(function*(){const I=(0,j.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:F,apiKey:X}=v.config,Be=nn(v,F,"/v1/token",`key=${X}`),nt=yield v._getAdditionalHeaders();return nt["Content-Type"]="application/x-www-form-urlencoded",ye.fetch()(Be,{method:"POST",headers:nt,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function lt(){return(lt=(0,u.A)(function*(v,f){return pt(v,"POST","/v2/accounts:revokeToken",me(v,f))})).apply(this,arguments)}class qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){z(f.idToken,"internal-error"),z(typeof f.idToken<"u","internal-error"),z(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):$n(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}updateFromIdToken(f){z(0!==f.length,"internal-error");const p=$n(f);this.updateTokensAndExpiration(f,null,p)}getToken(f,p=!1){var I=this;return(0,u.A)(function*(){return p||!I.accessToken||I.isExpired?(z(I.refreshToken,f,"user-token-expired"),I.refreshToken?(yield I.refresh(f,I.refreshToken),I.accessToken):null):I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var I=this;return(0,u.A)(function*(){const{accessToken:F,refreshToken:X,expiresIn:Be}=yield function ee(v,f){return se.apply(this,arguments)}(f,p);I.updateTokensAndExpiration(F,X,Number(Be))})()}updateTokensAndExpiration(f,p,I){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(f,p){const{refreshToken:I,accessToken:F,expirationTime:X}=p,Be=new qe;return I&&(z("string"==typeof I,"internal-error",{appName:f}),Be.refreshToken=I),F&&(z("string"==typeof F,"internal-error",{appName:f}),Be.accessToken=F),X&&(z("number"==typeof X,"internal-error",{appName:f}),Be.expirationTime=X),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new qe,this.toJSON())}_performRefresh(){return je("not implemented")}}function jt(v,f){z("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class pn{constructor(f){var{uid:p,auth:I,stsTokenManager:F}=f,X=(0,ce.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new hi(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,u.A)(function*(){const I=yield Wn(p,p.stsTokenManager.getToken(p.auth,f));return z(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(f){return function Dr(v){return vi.apply(this,arguments)}(this,f)}reload(){return function Ye(v){return ze.apply(this,arguments)}(this)}_assign(f){this!==f&&(z(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new pn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var I=this;return(0,u.A)(function*(){let F=!1;f.idToken&&f.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(f),F=!0),p&&(yield Qr(I)),yield I.auth._persistUserIfCurrent(I),F&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var f=this;return(0,u.A)(function*(){if((0,oe._isFirebaseServerApp)(f.auth.app))return Promise.reject(J(f.auth));const p=yield f.getIdToken();return yield Wn(f,function xn(v,f){return Gn.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var I,F,X,Be,nt,Nt,mn,An;const gn=null!==(I=p.displayName)&&void 0!==I?I:void 0,gi=null!==(F=p.email)&&void 0!==F?F:void 0,Zr=null!==(X=p.phoneNumber)&&void 0!==X?X:void 0,zl=null!==(Be=p.photoURL)&&void 0!==Be?Be:void 0,Td=null!==(nt=p.tenantId)&&void 0!==nt?nt:void 0,Dc=null!==(Nt=p._redirectEventId)&&void 0!==Nt?Nt:void 0,bu=null!==(mn=p.createdAt)&&void 0!==mn?mn:void 0,Ls=null!==(An=p.lastLoginAt)&&void 0!==An?An:void 0,{uid:wd,emailVerified:bd,isAnonymous:Sd,providerData:Rd,stsTokenManager:Ph}=p;z(wd&&Ph,f,"internal-error");const tp=qe.fromJSON(this.name,Ph);z("string"==typeof wd,f,"internal-error"),jt(gn,f.name),jt(gi,f.name),z("boolean"==typeof bd,f,"internal-error"),z("boolean"==typeof Sd,f,"internal-error"),jt(Zr,f.name),jt(zl,f.name),jt(Td,f.name),jt(Dc,f.name),jt(bu,f.name),jt(Ls,f.name);const Md=new pn({uid:wd,auth:f,email:gi,emailVerified:bd,displayName:gn,isAnonymous:Sd,photoURL:zl,phoneNumber:Zr,tenantId:Td,stsTokenManager:tp,createdAt:bu,lastLoginAt:Ls});return Rd&&Array.isArray(Rd)&&(Md.providerData=Rd.map(np=>Object.assign({},np))),Dc&&(Md._redirectEventId=Dc),Md}static _fromIdTokenResponse(f,p,I=!1){return(0,u.A)(function*(){const F=new qe;F.updateFromServerResponse(p);const X=new pn({uid:p.localId,auth:f,stsTokenManager:F,isAnonymous:I});return yield Qr(X),X})()}static _fromGetAccountInfoResponse(f,p,I){return(0,u.A)(function*(){const F=p.users[0];z(void 0!==F.localId,"internal-error");const X=void 0!==F.providerUserInfo?We(F.providerUserInfo):[],Be=!(F.email&&F.passwordHash||null!=X&&X.length),nt=new qe;nt.updateFromIdToken(I);const Nt=new pn({uid:F.localId,auth:f,stsTokenManager:nt,isAnonymous:Be}),mn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:X,metadata:new hi(F.createdAt,F.lastLoginAt),isAnonymous:!(F.email&&F.passwordHash||null!=X&&X.length)};return Object.assign(Nt,mn),Nt})()}}const qn=new Map;function er(v){Le(v instanceof Function,"Expected a class definition");let f=qn.get(v);return f?(Le(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,qn.set(v,f),f)}const Yr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.A)(function*(){return!0})()}_set(p,I){var F=this;return(0,u.A)(function*(){F.storage[p]=I})()}_get(p){var I=this;return(0,u.A)(function*(){const F=I.storage[p];return void 0===F?null:F})()}_remove(p){var I=this;return(0,u.A)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return v.type="NONE",v})();function dn(v,f,p){return`firebase:${v}:${f}:${p}`}class Xt{constructor(f,p,I){this.persistence=f,this.auth=p,this.userKey=I;const{config:F,name:X}=this.auth;this.fullUserKey=dn(this.userKey,F.apiKey,X),this.fullPersistenceKey=dn("persistence",F.apiKey,X),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.A)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?pn._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,u.A)(function*(){if(p.persistence===f)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,I="authUser"){return(0,u.A)(function*(){if(!p.length)return new Xt(er(Yr),f,I);const F=(yield Promise.all(p.map(function(){var mn=(0,u.A)(function*(An){if(yield An._isAvailable())return An});return function(An){return mn.apply(this,arguments)}}()))).filter(mn=>mn);let X=F[0]||er(Yr);const Be=dn(I,f.config.apiKey,f.name);let nt=null;for(const mn of p)try{const An=yield mn._get(Be);if(An){const gn=pn._fromJSON(f,An);mn!==X&&(nt=gn),X=mn;break}}catch{}const Nt=F.filter(mn=>mn._shouldAllowMigration);return X._shouldAllowMigration&&Nt.length?(X=Nt[0],nt&&(yield X._set(Be,nt.toJSON())),yield Promise.all(p.map(function(){var mn=(0,u.A)(function*(An){if(An!==X)try{yield An._remove(Be)}catch{}});return function(An){return mn.apply(this,arguments)}}())),new Xt(X,f,I)):new Xt(X,f,I)})()}}function bi(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Fi(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Br(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Si(f))return"Blackberry";if(Ai(f))return"Webos";if(Pi(f))return"Safari";if((f.includes("chrome/")||ki(f))&&!f.includes("edge/"))return"Chrome";if(Yn(f))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Br(v=(0,j.ZQ)()){return/firefox\//i.test(v)}function Pi(v=(0,j.ZQ)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ki(v=(0,j.ZQ)()){return/crios\//i.test(v)}function Fi(v=(0,j.ZQ)()){return/iemobile/i.test(v)}function Yn(v=(0,j.ZQ)()){return/android/i.test(v)}function Si(v=(0,j.ZQ)()){return/blackberry/i.test(v)}function Ai(v=(0,j.ZQ)()){return/webos/i.test(v)}function ut(v=(0,j.ZQ)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Dn(v=(0,j.ZQ)()){return ut(v)||Yn(v)||Ai(v)||Si(v)||/windows phone/i.test(v)||Fi(v)}function Un(v,f=[]){let p;switch(v){case"Browser":p=bi((0,j.ZQ)());break;case"Worker":p=`${bi((0,j.ZQ)())}-${v}`;break;default:p=v}const I=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${oe.SDK_VERSION}/${I}`}class Bn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const I=X=>new Promise((Be,nt)=>{try{Be(f(X))}catch(Nt){nt(Nt)}});I.onAbort=p,this.queue.push(I);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,u.A)(function*(){if(p.auth.currentUser===f)return;const I=[];try{for(const F of p.queue)yield F(f),F.onAbort&&I.push(F.onAbort)}catch(F){I.reverse();for(const X of I)try{X()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null==F?void 0:F.message})}})()}}function wn(){return(wn=(0,u.A)(function*(v,f={}){return pt(v,"GET","/v2/passwordPolicy",me(v,f))})).apply(this,arguments)}class nr{constructor(f){var p,I,F,X;const Be=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Be.minPasswordLength)&&void 0!==p?p:6,Be.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Be.maxPasswordLength),void 0!==Be.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Be.containsLowercaseCharacter),void 0!==Be.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Be.containsUppercaseCharacter),void 0!==Be.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Be.containsNumericCharacter),void 0!==Be.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Be.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(F=null===(I=f.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==F?F:"",this.forceUpgradeOnSignin=null!==(X=f.forceUpgradeOnSignin)&&void 0!==X&&X,this.schemaVersion=f.schemaVersion}validatePassword(f){var p,I,F,X,Be,nt;const Nt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,Nt),this.validatePasswordCharacterOptions(f,Nt),Nt.isValid&&(Nt.isValid=null===(p=Nt.meetsMinPasswordLength)||void 0===p||p),Nt.isValid&&(Nt.isValid=null===(I=Nt.meetsMaxPasswordLength)||void 0===I||I),Nt.isValid&&(Nt.isValid=null===(F=Nt.containsLowercaseLetter)||void 0===F||F),Nt.isValid&&(Nt.isValid=null===(X=Nt.containsUppercaseLetter)||void 0===X||X),Nt.isValid&&(Nt.isValid=null===(Be=Nt.containsNumericCharacter)||void 0===Be||Be),Nt.isValid&&(Nt.isValid=null===(nt=Nt.containsNonAlphanumericCharacter)||void 0===nt||nt),Nt}validatePasswordLengthOptions(f,p){const I=this.customStrengthOptions.minPasswordLength,F=this.customStrengthOptions.maxPasswordLength;I&&(p.meetsMinPasswordLength=f.length>=I),F&&(p.meetsMaxPasswordLength=f.length<=F)}validatePasswordCharacterOptions(f,p){let I;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let F=0;F<f.length;F++)I=f.charAt(F),this.updatePasswordCharacterOptionsStatuses(p,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(f,p,I,F,X){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=F)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=X))}}class mo{constructor(f,p,I,F){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=F,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ie(this),this.idTokenSubscription=new Ie(this),this.beforeStateQueue=new Bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=F.sdkClientVersion}_initializeWithPersistence(f,p){var I=this;return p&&(this._popupRedirectResolver=er(p)),this._initializationPromise=this.queue((0,u.A)(function*(){var F,X;if(!I._deleted&&(I.persistenceManager=yield Xt.create(I,f),!I._deleted)){if(null!==(F=I._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(X=I.currentUser)||void 0===X?void 0:X.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.A)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(f){var p=this;return(0,u.A)(function*(){try{const I=yield ur(p,{idToken:f}),F=yield pn._fromGetAccountInfoResponse(p,I,f);yield p.directlySetCurrentUser(F)}catch(I){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",I),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(f){var p=this;return(0,u.A)(function*(){var I;if((0,oe._isFirebaseServerApp)(p.app)){const nt=p.app.settings.authIdToken;return nt?new Promise(Nt=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(nt).then(Nt,Nt))}):p.directlySetCurrentUser(null)}const F=yield p.assertedPersistence.getCurrentUser();let X=F,Be=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const nt=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,Nt=null==X?void 0:X._redirectEventId,mn=yield p.tryRedirectSignIn(f);(!nt||nt===Nt)&&null!=mn&&mn.user&&(X=mn.user,Be=!0)}if(!X)return p.directlySetCurrentUser(null);if(!X._redirectEventId){if(Be)try{yield p.beforeStateQueue.runMiddleware(X)}catch(nt){X=F,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(nt))}return X?p.reloadAndSetCurrentUserOrClear(X):p.directlySetCurrentUser(null)}return z(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===X._redirectEventId?p.directlySetCurrentUser(X):p.reloadAndSetCurrentUserOrClear(X)})()}tryRedirectSignIn(f){var p=this;return(0,u.A)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,u.A)(function*(){try{yield Qr(f)}catch(I){if("auth/network-request-failed"!==(null==I?void 0:I.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function st(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,u.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,u.A)(function*(){if((0,oe._isFirebaseServerApp)(p.app))return Promise.reject(J(p));const I=f?(0,j.Ku)(f):null;return I&&z(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(f,p=!1){var I=this;return(0,u.A)(function*(){if(!I._deleted)return f&&z(I.tenantId===f.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(f)),I.queue((0,u.A)(function*(){yield I.directlySetCurrentUser(f),I.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.A)(function*(){return(0,oe._isFirebaseServerApp)(f.app)?Promise.reject(J(f)):(yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0))})()}setPersistence(f){var p=this;return(0,oe._isFirebaseServerApp)(this.app)?Promise.reject(J(this)):this.queue((0,u.A)(function*(){yield p.assertedPersistence.setPersistence(er(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var p=this;return(0,u.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const I=p._getPasswordPolicyInternal();return I.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,u.A)(function*(){const p=yield function Ir(v){return wn.apply(this,arguments)}(f),I=new nr(p);null===f.tenantId?f._projectPasswordPolicy=I:f._tenantPasswordPolicies[f.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new j.FA("auth","Firebase",f())}onAuthStateChanged(f,p,I){return this.registerStateListener(this.authStateSubscription,f,p,I)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,I){return this.registerStateListener(this.idTokenSubscription,f,p,I)}authStateReady(){return new Promise((f,p)=>{if(this.currentUser)f();else{const I=this.onAuthStateChanged(()=>{I(),f()},p)}})}revokeAccessToken(f){var p=this;return(0,u.A)(function*(){if(p.currentUser){const I=yield p.currentUser.getIdToken(),F={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:I};null!=p.tenantId&&(F.tenantId=p.tenantId),yield function Ae(v,f){return lt.apply(this,arguments)}(p,F)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var I=this;return(0,u.A)(function*(){const F=yield I.getOrInitRedirectPersistenceManager(p);return null===f?F.removeCurrentUser():F.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,u.A)(function*(){if(!p.redirectPersistenceManager){const I=f&&er(f)||p._popupRedirectResolver;z(I,p,"argument-error"),p.redirectPersistenceManager=yield Xt.create(p,[er(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,u.A)(function*(){var I,F;return p._isInitialized&&(yield p.queue((0,u.A)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===f?p._currentUser:(null===(F=p.redirectUser)||void 0===F?void 0:F._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,u.A)(function*(){if(f===p.currentUser)return p.queue((0,u.A)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,I,F){if(this._deleted)return()=>{};const X="function"==typeof p?p:p.next.bind(p);let Be=!1;const nt=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(nt,this,"internal-error"),nt.then(()=>{Be||X(this.currentUser)}),"function"==typeof p){const Nt=f.addObserver(p,I,F);return()=>{Be=!0,Nt()}}{const Nt=f.addObserver(p);return()=>{Be=!0,Nt()}}}directlySetCurrentUser(f){var p=this;return(0,u.A)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.A)(function*(){var p;const I={"X-Client-Version":f.clientVersion};f.app.options.appId&&(I["X-Firebase-gmpid"]=f.app.options.appId);const F=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();F&&(I["X-Firebase-Client"]=F);const X=yield f._getAppCheckToken();return X&&(I["X-Firebase-AppCheck"]=X),I})()}_getAppCheckToken(){var f=this;return(0,u.A)(function*(){var p;const I=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return null!=I&&I.error&&function vt(v,...f){Ue.logLevel<=Te.$b.WARN&&Ue.warn(`Auth (${oe.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${I.error}`),null==I?void 0:I.token})()}}function he(v){return(0,j.Ku)(v)}class Ie{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,j.tD)(p=>this.observer=p)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let H={loadJS:()=>(0,u.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rt(v){return H.loadJS(v)}function yn(v){return`__${v}${Math.floor(1e6*Math.random())}`}class dt{constructor(f){this.type="recaptcha-enterprise",this.auth=he(f)}verify(f="verify",p=!1){var I=this;return(0,u.A)(function*(){function X(){return X=(0,u.A)(function*(nt){if(!p){if(null==nt.tenantId&&null!=nt._agentRecaptchaConfig)return nt._agentRecaptchaConfig.siteKey;if(null!=nt.tenantId&&void 0!==nt._tenantRecaptchaConfigs[nt.tenantId])return nt._tenantRecaptchaConfigs[nt.tenantId].siteKey}return new Promise(function(){var Nt=(0,u.A)(function*(mn,An){Sn(nt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(gn=>{if(void 0!==gn.recaptchaKey){const gi=new ht(gn);return null==nt.tenantId?nt._agentRecaptchaConfig=gi:nt._tenantRecaptchaConfigs[nt.tenantId]=gi,mn(gi.siteKey)}An(new Error("recaptcha Enterprise site key undefined"))}).catch(gn=>{An(gn)})});return function(mn,An){return Nt.apply(this,arguments)}}())}),X.apply(this,arguments)}function Be(nt,Nt,mn){const An=window.grecaptcha;It(An)?An.enterprise.ready(()=>{An.enterprise.execute(nt,{action:f}).then(gn=>{Nt(gn)}).catch(()=>{Nt("NO_RECAPTCHA")})}):mn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((nt,Nt)=>{(function F(nt){return X.apply(this,arguments)})(I.auth).then(mn=>{if(!p&&It(window.grecaptcha))Be(mn,nt,Nt);else{if(typeof window>"u")return void Nt(new Error("RecaptchaVerifier is only supported in browser"));let An=function Yt(){return H.recaptchaEnterpriseScript}();0!==An.length&&(An+=mn),rt(An).then(()=>{Be(mn,nt,Nt)}).catch(gn=>{Nt(gn)})}}).catch(mn=>{Nt(mn)})})})()}}function B(v,f,p){return q.apply(this,arguments)}function q(){return(q=(0,u.A)(function*(v,f,p,I=!1){const F=new dt(v);let X;try{X=yield F.verify(p)}catch{X=yield F.verify(p,!0)}const Be=Object.assign({},f);return Object.assign(Be,I?{captchaResp:X}:{captchaResponse:X}),Object.assign(Be,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Be,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Be})).apply(this,arguments)}function Pe(v,f,p,I){return be.apply(this,arguments)}function be(){return be=(0,u.A)(function*(v,f,p,I){var F;if(null!==(F=v._getRecaptchaConfig())&&void 0!==F&&F.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const X=yield B(v,f,p,"getOobCode"===p);return I(v,X)}return I(v,f).catch(function(){var X=(0,u.A)(function*(Be){if("auth/missing-recaptcha-token"===Be.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const nt=yield B(v,f,p,"getOobCode"===p);return I(v,nt)}return Promise.reject(Be)});return function(Be){return X.apply(this,arguments)}}())}),be.apply(this,arguments)}function Gt(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Ut(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class rr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return je("not implemented")}_getIdTokenResponse(f){return je("not implemented")}_linkToIdToken(f,p){return je("not implemented")}_getReauthenticationResolver(f){return je("not implemented")}}function hr(v,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,u.A)(function*(v,f){return pt(v,"POST","/v1/accounts:resetPassword",me(v,f))})).apply(this,arguments)}function te(){return(te=(0,u.A)(function*(v,f){return pt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function P(v,f){return re.apply(this,arguments)}function re(){return(re=(0,u.A)(function*(v,f){return pt(v,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function cr(){return(cr=(0,u.A)(function*(v,f){return pt(v,"POST","/v1/accounts:update",me(v,f))})).apply(this,arguments)}function ti(v,f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.A)(function*(v,f){return $t(v,"POST","/v1/accounts:signInWithPassword",me(v,f))})).apply(this,arguments)}function xi(v,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,u.A)(function*(v,f){return pt(v,"POST","/v1/accounts:sendOobCode",me(v,f))})).apply(this,arguments)}function Vi(){return(Vi=(0,u.A)(function*(v,f){return xi(v,f)})).apply(this,arguments)}function fs(v,f){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,u.A)(function*(v,f){return xi(v,f)})).apply(this,arguments)}function Vo(v,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.A)(function*(v,f){return xi(v,f)})).apply(this,arguments)}function Ss(){return(Ss=(0,u.A)(function*(v,f){return xi(v,f)})).apply(this,arguments)}function gs(){return(gs=(0,u.A)(function*(v,f){return $t(v,"POST","/v1/accounts:signInWithEmailLink",me(v,f))})).apply(this,arguments)}function vo(){return(vo=(0,u.A)(function*(v,f){return $t(v,"POST","/v1/accounts:signInWithEmailLink",me(v,f))})).apply(this,arguments)}class ao extends rr{constructor(f,p,I,F=null){super("password",I),this._email=f,this._password=p,this._tenantId=F}static _fromEmailAndPassword(f,p){return new ao(f,p,"password")}static _fromEmailAndCode(f,p,I=null){return new ao(f,p,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(null!=p&&p.email&&null!=p&&p.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,u.A)(function*(){switch(p.signInMethod){case"password":return Pe(f,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ti);case"emailLink":return function ps(v,f){return gs.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Ve(f,"internal-error")}})()}_linkToIdToken(f,p){var I=this;return(0,u.A)(function*(){switch(I.signInMethod){case"password":return Pe(f,{idToken:p,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",P);case"emailLink":return function Ro(v,f){return vo.apply(this,arguments)}(f,{idToken:p,email:I._email,oobCode:I._password});default:Ve(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Li(v,f){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.A)(function*(v,f){return $t(v,"POST","/v1/accounts:signInWithIdp",me(v,f))})).apply(this,arguments)}class Ki extends rr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Ki(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Ve("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:F}=p,X=(0,ce.Tt)(p,["providerId","signInMethod"]);if(!I||!F)return null;const Be=new Ki(I,F);return Be.idToken=X.idToken||void 0,Be.accessToken=X.accessToken||void 0,Be.secret=X.secret,Be.nonce=X.nonce,Be.pendingToken=X.pendingToken||null,Be}_getIdTokenResponse(f){return Li(f,this.buildRequest())}_linkToIdToken(f,p){const I=this.buildRequest();return I.idToken=p,Li(f,I)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Li(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,j.Am)(p)}return f}}function Jo(){return(Jo=(0,u.A)(function*(v,f){return pt(v,"POST","/v1/accounts:sendVerificationCode",me(v,f))})).apply(this,arguments)}function Bi(){return(Bi=(0,u.A)(function*(v,f){return $t(v,"POST","/v1/accounts:signInWithPhoneNumber",me(v,f))})).apply(this,arguments)}function ms(){return(ms=(0,u.A)(function*(v,f){const p=yield $t(v,"POST","/v1/accounts:signInWithPhoneNumber",me(v,f));if(p.temporaryProof)throw Ct(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Rs={USER_NOT_FOUND:"user-not-found"};function es(){return(es=(0,u.A)(function*(v,f){return $t(v,"POST","/v1/accounts:signInWithPhoneNumber",me(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Rs)})).apply(this,arguments)}class eo extends rr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new eo({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new eo({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Ui(v,f){return Bi.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function tl(v,f){return ms.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Aa(v,f){return es.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:I,verificationCode:F}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:I,code:F}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:I,phoneNumber:F,temporaryProof:X}=f;return I||p||F||X?new eo({verificationId:p,verificationCode:I,phoneNumber:F,temporaryProof:X}):null}}class ts{constructor(f){var p,I,F,X,Be,nt;const Nt=(0,j.I9)((0,j.hp)(f)),mn=null!==(p=Nt.apiKey)&&void 0!==p?p:null,An=null!==(I=Nt.oobCode)&&void 0!==I?I:null,gn=function Ta(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=Nt.mode)&&void 0!==F?F:null);z(mn&&An&&gn,"argument-error"),this.apiKey=mn,this.operation=gn,this.code=An,this.continueUrl=null!==(X=Nt.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(Be=Nt.languageCode)&&void 0!==Be?Be:null,this.tenantId=null!==(nt=Nt.tenantId)&&void 0!==nt?nt:null}static parseLink(f){const p=function qi(v){const f=(0,j.I9)((0,j.hp)(v)).link,p=f?(0,j.I9)((0,j.hp)(f)).deep_link_id:null,I=(0,j.I9)((0,j.hp)(v)).deep_link_id;return(I?(0,j.I9)((0,j.hp)(I)).link:null)||I||p||f||v}(f);try{return new ts(p)}catch{return null}}}let lo=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,I){return ao._fromEmailAndPassword(p,I)}static credentialWithLink(p,I){const F=ts.parseLink(I);return z(F,"argument-error"),ao._fromEmailAndCode(p,F.code,F.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Mo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class yi extends Mo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ar extends yi{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return z("providerId"in p&&"signInMethod"in p,"argument-error"),Ki._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return z(f.idToken||f.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ar.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ar.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:I,oauthTokenSecret:F,pendingToken:X,nonce:Be,providerId:nt}=f;if(!I&&!F&&!p&&!X||!nt)return null;try{return new Ar(nt)._credential({idToken:p,accessToken:I,nonce:Be,pendingToken:X})}catch{return null}}}let ns=(()=>{class v extends yi{constructor(){super("facebook.com")}static credential(p){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),sa=(()=>{class v extends yi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,I){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:I})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:I,oauthAccessToken:F}=p;if(!I&&!F)return null;try{return v.credential(I,F)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Ms=(()=>{class v extends yi{constructor(){super("github.com")}static credential(p){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Lo extends rr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Li(f,this.buildRequest())}_linkToIdToken(f,p){const I=this.buildRequest();return I.idToken=p,Li(f,I)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Li(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:I,signInMethod:F,pendingToken:X}=p;return I&&F&&X&&I===F?new Lo(I,X):null}static _create(f,p){return new Lo(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $i extends Mo{constructor(f){z(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return $i.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return $i.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Lo.fromJSON(f);return z(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:I}=f;if(!p||!I)return null;try{return Lo._create(I,p)}catch{return null}}}let Bs=(()=>{class v extends yi{constructor(){super("twitter.com")}static credential(p,I){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:I})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:I,oauthTokenSecret:F}=p;if(!I||!F)return null;try{return v.credential(I,F)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function wa(v,f){return $s.apply(this,arguments)}function $s(){return($s=(0,u.A)(function*(v,f){return $t(v,"POST","/v1/accounts:signUp",me(v,f))})).apply(this,arguments)}class Ti{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,I,F=!1){return(0,u.A)(function*(){const X=yield pn._fromIdTokenResponse(f,I,F),Be=uo(I);return new Ti({user:X,providerId:Be,_tokenResponse:I,operationType:p})})()}static _forOperation(f,p,I){return(0,u.A)(function*(){yield f._updateTokensIfNecessary(I,!0);const F=uo(I);return new Ti({user:f,providerId:F,_tokenResponse:I,operationType:p})})()}}function uo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function js(){return(js=(0,u.A)(function*(v){var f;if((0,oe._isFirebaseServerApp)(v.app))return Promise.reject(J(v));const p=he(v);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new Ti({user:p.currentUser,providerId:null,operationType:"signIn"});const I=yield wa(p,{returnSecureToken:!0}),F=yield Ti._fromIdTokenResponse(p,"signIn",I,!0);return yield p._updateCurrentUser(F.user),F})).apply(this,arguments)}class Hs extends j.g{constructor(f,p,I,F){var X;super(p.code,p.message),this.operationType=I,this.user=F,Object.setPrototypeOf(this,Hs.prototype),this.customData={appName:f.name,tenantId:null!==(X=f.tenantId)&&void 0!==X?X:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(f,p,I,F){return new Hs(f,p,I,F)}}function vs(v,f,p,I){return("reauthenticate"===f?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?Hs._fromErrorAndOperation(v,X,f,I):X})}function L(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function Z(){return Z=(0,u.A)(function*(v,f){const p=(0,j.Ku)(v);yield Ft(!0,p,f);const{providerUserInfo:I}=yield function ln(v,f){return en.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),F=L(I||[]);return p.providerData=p.providerData.filter(X=>F.has(X.providerId)),F.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Z.apply(this,arguments)}function V(v,f){return ue.apply(this,arguments)}function ue(){return(ue=(0,u.A)(function*(v,f,p=!1){const I=yield Wn(v,f._linkToIdToken(v.auth,yield v.getIdToken()),p);return Ti._forOperation(v,"link",I)})).apply(this,arguments)}function Ft(v,f,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,u.A)(function*(v,f,p){yield Qr(f);const F=!1===v?"provider-already-linked":"no-such-provider";z(L(f.providerData).has(p)===v,f.auth,F)})).apply(this,arguments)}function Jn(v,f){return to.apply(this,arguments)}function to(){return(to=(0,u.A)(function*(v,f,p=!1){const{auth:I}=v;if((0,oe._isFirebaseServerApp)(I.app))return Promise.reject(J(I));const F="reauthenticate";try{const X=yield Wn(v,vs(I,F,f,v),p);z(X.idToken,I,"internal-error");const Be=oi(X.idToken);z(Be,I,"internal-error");const{sub:nt}=Be;return z(v.uid===nt,I,"user-mismatch"),Ti._forOperation(v,F,X)}catch(X){throw"auth/user-not-found"===(null==X?void 0:X.code)&&Ve(I,"user-mismatch"),X}})).apply(this,arguments)}function Bo(v,f){return co.apply(this,arguments)}function co(){return(co=(0,u.A)(function*(v,f,p=!1){if((0,oe._isFirebaseServerApp)(v.app))return Promise.reject(J(v));const I="signIn",F=yield vs(v,I,f),X=yield Ti._fromIdTokenResponse(v,I,F);return p||(yield v._updateCurrentUser(X.user)),X})).apply(this,arguments)}function Ps(v,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,u.A)(function*(v,f){return Bo(he(v),f)})).apply(this,arguments)}function Tl(v,f){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.A)(function*(v,f){const p=(0,j.Ku)(v);return yield Ft(!1,p,f.providerId),V(p,f)})).apply(this,arguments)}function bl(v,f){return xs.apply(this,arguments)}function xs(){return(xs=(0,u.A)(function*(v,f){return Jn((0,j.Ku)(v),f)})).apply(this,arguments)}function _s(){return(_s=(0,u.A)(function*(v,f){return $t(v,"POST","/v1/accounts:signInWithCustomToken",me(v,f))})).apply(this,arguments)}function vr(){return vr=(0,u.A)(function*(v,f){if((0,oe._isFirebaseServerApp)(v.app))return Promise.reject(J(v));const p=he(v),I=yield function Gs(v,f){return _s.apply(this,arguments)}(p,{token:f,returnSecureToken:!0}),F=yield Ti._fromIdTokenResponse(p,"signIn",I);return yield p._updateCurrentUser(F.user),F}),vr.apply(this,arguments)}class ui{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?ci._fromServerResponse(f,p):"totpInfo"in p?no._fromServerResponse(f,p):Ve(f,"internal-error")}}class ci extends ui{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new ci(p)}}class no extends ui{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new no(p)}}function Oi(v,f,p){var I;z((null===(I=p.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),z(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(z(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(z(p.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function ys(v){return la.apply(this,arguments)}function la(){return(la=(0,u.A)(function*(v){const f=he(v);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function rl(){return(rl=(0,u.A)(function*(v,f,p){const I=he(v),F={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};p&&Oi(I,F,p),yield Pe(I,F,"getOobCode",fs)})).apply(this,arguments)}function ua(){return ua=(0,u.A)(function*(v,f,p){yield hr((0,j.Ku)(v),{oobCode:f,newPassword:p}).catch(function(){var I=(0,u.A)(function*(F){throw"auth/password-does-not-meet-requirements"===F.code&&ys(v),F});return function(F){return I.apply(this,arguments)}}())}),ua.apply(this,arguments)}function is(){return is=(0,u.A)(function*(v,f){yield function Qe(v,f){return cr.apply(this,arguments)}((0,j.Ku)(v),{oobCode:f})}),is.apply(this,arguments)}function il(v,f){return $o.apply(this,arguments)}function $o(){return($o=(0,u.A)(function*(v,f){const p=(0,j.Ku)(v),I=yield hr(p,{oobCode:f}),F=I.requestType;switch(z(F,p,"internal-error"),F){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(I.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(I.mfaInfo,p,"internal-error");default:z(I.email,p,"internal-error")}let X=null;return I.mfaInfo&&(X=ui._fromServerResponse(he(p),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:X},operation:F}})).apply(this,arguments)}function Sa(){return(Sa=(0,u.A)(function*(v,f){const{data:p}=yield il((0,j.Ku)(v),f);return p.email})).apply(this,arguments)}function Ra(){return(Ra=(0,u.A)(function*(v,f,p){if((0,oe._isFirebaseServerApp)(v.app))return Promise.reject(J(v));const I=he(v),Be=yield Pe(I,{returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wa).catch(Nt=>{throw"auth/password-does-not-meet-requirements"===Nt.code&&ys(v),Nt}),nt=yield Ti._fromIdTokenResponse(I,"signIn",Be);return yield I._updateCurrentUser(nt.user),nt})).apply(this,arguments)}function jo(){return(jo=(0,u.A)(function*(v,f,p){const I=he(v),F={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function X(Be,nt){z(nt.handleCodeInApp,I,"argument-error"),nt&&Oi(I,Be,nt)})(F,p),yield Pe(I,F,"getOobCode",Vo)})).apply(this,arguments)}function Ma(){return(Ma=(0,u.A)(function*(v,f,p){if((0,oe._isFirebaseServerApp)(v.app))return Promise.reject(J(v));const I=(0,j.Ku)(v),F=lo.credentialWithLink(f,p||ot());return z(F._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Ps(I,F)})).apply(this,arguments)}function ca(){return(ca=(0,u.A)(function*(v,f){return pt(v,"POST","/v1/accounts:createAuthUri",me(v,f))})).apply(this,arguments)}function Eo(){return Eo=(0,u.A)(function*(v,f){const I={identifier:f,continueUri:Mt()?ot():"http://localhost"},{signinMethods:F}=yield function Ho(v,f){return ca.apply(this,arguments)}((0,j.Ku)(v),I);return F||[]}),Eo.apply(this,arguments)}function Co(){return Co=(0,u.A)(function*(v,f){const p=(0,j.Ku)(v),F={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&Oi(p.auth,F,f);const{email:X}=yield function Us(v,f){return Vi.apply(this,arguments)}(p.auth,F);X!==v.email&&(yield v.reload())}),Co.apply(this,arguments)}function Pa(){return Pa=(0,u.A)(function*(v,f,p){const I=(0,j.Ku)(v),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};p&&Oi(I.auth,X,p);const{email:Be}=yield function bs(v,f){return Ss.apply(this,arguments)}(I.auth,X);Be!==v.email&&(yield v.reload())}),Pa.apply(this,arguments)}function ho(){return(ho=(0,u.A)(function*(v,f){return pt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Po(){return Po=(0,u.A)(function*(v,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const I=(0,j.Ku)(v),X={idToken:yield I.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},Be=yield Wn(I,function da(v,f){return ho.apply(this,arguments)}(I.auth,X));I.displayName=Be.displayName||null,I.photoURL=Be.photoUrl||null;const nt=I.providerData.find(({providerId:Nt})=>"password"===Nt);nt&&(nt.displayName=I.displayName,nt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Be)}),Po.apply(this,arguments)}function zo(v,f,p){return Os.apply(this,arguments)}function Os(){return Os=(0,u.A)(function*(v,f,p){const{auth:I}=v,X={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(X.email=f),p&&(X.password=p);const Be=yield Wn(v,function A(v,f){return te.apply(this,arguments)}(I,X));yield v._updateTokensIfNecessary(Be,!0)}),Os.apply(this,arguments)}class C{constructor(f,p,I={}){this.isNewUser=f,this.providerId=p,this.profile=I}}class k extends C{constructor(f,p,I,F){super(f,p,I),this.username=F}}class _e extends C{constructor(f,p){super(f,"facebook.com",p)}}class x extends k{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class ne extends C{constructor(f,p){super(f,"google.com",p)}}class Se extends k{constructor(f,p,I){super(f,"twitter.com",p,I)}}function At(v){const{user:f,_tokenResponse:p}=v;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Ks(v){var f,p;if(!v)return null;const{providerId:I}=v,F=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},X=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&null!=v&&v.idToken){const Be=null===(p=null===(f=oi(v.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(Be)return new C(X,"anonymous"!==Be&&"custom"!==Be?Be:null)}if(!I)return null;switch(I){case"facebook.com":return new _e(X,F);case"github.com":return new x(X,F);case"google.com":return new ne(X,F);case"twitter.com":return new Se(X,F,v.screenName||null);case"custom":case"anonymous":return new C(X,null);default:return new C(X,I,F)}}(p)}class St{constructor(f,p,I){this.type=f,this.credential=p,this.user=I}static _fromIdtoken(f,p){return new St("enroll",f,p)}static _fromMfaPendingCredential(f){return new St("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,I;if(null!=f&&f.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return St._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(I=f.multiFactorSession)&&void 0!==I&&I.idToken)return St._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Tr{constructor(f,p,I){this.session=f,this.hints=p,this.signInResolver=I}static _fromError(f,p){const I=he(f),F=p.customData._serverResponse,X=(F.mfaInfo||[]).map(nt=>ui._fromServerResponse(I,nt));z(F.mfaPendingCredential,I,"internal-error");const Be=St._fromMfaPendingCredential(F.mfaPendingCredential);return new Tr(Be,X,function(){var nt=(0,u.A)(function*(Nt){const mn=yield Nt._process(I,Be);delete F.mfaInfo,delete F.mfaPendingCredential;const An=Object.assign(Object.assign({},F),{idToken:mn.idToken,refreshToken:mn.refreshToken});switch(p.operationType){case"signIn":const gn=yield Ti._fromIdTokenResponse(I,p.operationType,An);return yield I._updateCurrentUser(gn.user),gn;case"reauthenticate":return z(p.user,I,"internal-error"),Ti._forOperation(p.user,p.operationType,An);default:Ve(I,"internal-error")}});return function(Nt){return nt.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,u.A)(function*(){return p.signInResolver(f)})()}}class Dt{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(I=>ui._fromServerResponse(f.auth,I)))})}static _fromUser(f){return new Dt(f)}getSession(){var f=this;return(0,u.A)(function*(){return St._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,p){var I=this;return(0,u.A)(function*(){const F=f,X=yield I.getSession(),Be=yield Wn(I.user,F._process(I.user.auth,X,p));return yield I.user._updateTokensIfNecessary(Be),I.user.reload()})()}unenroll(f){var p=this;return(0,u.A)(function*(){const I="string"==typeof f?f:f.uid,F=yield p.user.getIdToken();try{const X=yield Wn(p.user,function un(v,f){return pt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",me(v,f))}(p.user.auth,{idToken:F,mfaEnrollmentId:I}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Be})=>Be!==I),yield p.user._updateTokensIfNecessary(X),yield p.user.reload()}catch(X){throw X}})()}}const Vt=new WeakMap,qs="__sak";class sl{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(qs,"1"),this.storage.removeItem(qs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Is=(()=>{class v extends sl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xs(){const v=(0,j.ZQ)();return Pi(v)||ut(v)}()&&function Ln(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Dn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const F=this.storage.getItem(I),X=this.localCache[I];F!==X&&p(I,X,F)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((nt,Nt,mn)=>{this.notifyListeners(nt,mn)});const F=p.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const nt=this.storage.getItem(F);if(p.newValue!==nt)null!==p.newValue?this.storage.setItem(F,p.newValue):this.storage.removeItem(F);else if(this.localCache[F]===p.newValue&&!I)return}const X=()=>{const nt=this.storage.getItem(F);!I&&this.localCache[F]===nt||this.notifyListeners(F,nt)},Be=this.storage.getItem(F);!function tn(){return(0,j.lT)()&&10===document.documentMode}()||Be===p.newValue||p.newValue===p.oldValue?X():setTimeout(X,10)}notifyListeners(p,I){this.localCache[p]=I;const F=this.listeners[p];if(F)for(const X of Array.from(F))X(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var F=()=>super._set,X=this;return(0,u.A)(function*(){yield F().call(X,p,I),X.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,F=this;return(0,u.A)(function*(){const X=yield I().call(F,p);return F.localCache[p]=JSON.stringify(X),X})()}_remove(p){var I=()=>super._remove,F=this;return(0,u.A)(function*(){yield I().call(F,p),delete F.localCache[p]})()}}return v.type="LOCAL",v})(),ir=(()=>{class v extends sl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return v.type="SESSION",v})();let xa=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(X=>X.isListeningto(p));if(I)return I;const F=new v(p);return this.receivers.push(F),F}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,u.A)(function*(){const F=p,{eventId:X,eventType:Be,data:nt}=F.data,Nt=I.handlersMap[Be];if(null==Nt||!Nt.size)return;F.ports[0].postMessage({status:"ack",eventId:X,eventType:Be});const mn=Array.from(Nt).map(function(){var gn=(0,u.A)(function*(gi){return gi(F.origin,nt)});return function(gi){return gn.apply(this,arguments)}}()),An=yield function Jc(v){return Promise.all(v.map(function(){var f=(0,u.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(I){return{fulfilled:!1,reason:I}}});return function(p){return f.apply(this,arguments)}}()))}(mn);F.ports[0].postMessage({status:"done",eventId:X,eventType:Be,response:An})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function jn(v="",f=10){let p="";for(let I=0;I<f;I++)p+=Math.floor(10*Math.random());return v+p}class pa{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,I=50){var F=this;return(0,u.A)(function*(){const X=typeof MessageChannel<"u"?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let Be,nt;return new Promise((Nt,mn)=>{const An=jn("",20);X.port1.start();const gn=setTimeout(()=>{mn(new Error("unsupported_event"))},I);nt={messageChannel:X,onMessage(gi){const Zr=gi;if(Zr.data.eventId===An)switch(Zr.data.status){case"ack":clearTimeout(gn),Be=setTimeout(()=>{mn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Be),Nt(Zr.data.response);break;default:clearTimeout(gn),clearTimeout(Be),mn(new Error("invalid_response"))}}},F.handlers.add(nt),X.port1.addEventListener("message",nt.onMessage),F.target.postMessage({eventType:f,eventId:An,data:p},[X.port2])}).finally(()=>{nt&&F.removeMessageHandler(nt)})})()}}function fi(){return window}function Fn(){return typeof fi().WorkerGlobalScope<"u"&&"function"==typeof fi().importScripts}function tr(){return(tr=(0,u.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const fn="firebaseLocalStorageDb",ga="firebaseLocalStorage",ma="fbase_key";class Rl{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function os(v,f){return v.transaction([ga],f?"readwrite":"readonly").objectStore(ga)}function va(){const v=indexedDB.open(fn,1);return new Promise((f,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(ga,{keyPath:ma})}catch(F){p(F)}}),v.addEventListener("success",(0,u.A)(function*(){const I=v.result;I.objectStoreNames.contains(ga)?f(I):(I.close(),yield function Zu(){const v=indexedDB.deleteDatabase(fn);return new Rl(v).toPromise()}(),f(yield va()))}))})}function du(v,f,p){return ed.apply(this,arguments)}function ed(){return(ed=(0,u.A)(function*(v,f,p){const I=os(v,!0).put({[ma]:f,value:p});return new Rl(I).toPromise()})).apply(this,arguments)}function Ju(){return(Ju=(0,u.A)(function*(v,f){const p=os(v,!1).get(f),I=yield new Rl(p).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ch(v,f){const p=os(v,!0).delete(f);return new Rl(p).toPromise()}const D=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,u.A)(function*(){return p.db||(p.db=yield va()),p.db})()}_withRetries(p){var I=this;return(0,u.A)(function*(){let F=0;for(;;)try{const X=yield I._openDb();return yield p(X)}catch(X){if(F++>3)throw X;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,u.A)(function*(){return Fn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,u.A)(function*(){p.receiver=xa._getInstance(function Xr(){return Fn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var I=(0,u.A)(function*(F,X){return{keyProcessed:(yield p._poll()).includes(X.key)}});return function(F,X){return I.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var I=(0,u.A)(function*(F,X){return["keyChanged"]});return function(F,X){return I.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,u.A)(function*(){var I,F;if(p.activeServiceWorker=yield function Hi(){return tr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new pa(p.activeServiceWorker);const X=yield p.sender._send("ping",{},800);X&&null!==(I=X[0])&&void 0!==I&&I.fulfilled&&null!==(F=X[0])&&void 0!==F&&F.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,u.A)(function*(){if(I.sender&&I.activeServiceWorker&&function cu(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.A)(function*(){try{if(!indexedDB)return!1;const p=yield va();return yield du(p,qs,"1"),yield ch(p,qs),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,u.A)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var F=this;return(0,u.A)(function*(){return F._withPendingWrite((0,u.A)(function*(){return yield F._withRetries(X=>du(X,p,I)),F.localCache[p]=I,F.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,u.A)(function*(){const F=yield I._withRetries(X=>function Es(v,f){return Ju.apply(this,arguments)}(X,p));return I.localCache[p]=F,F})()}_remove(p){var I=this;return(0,u.A)(function*(){return I._withPendingWrite((0,u.A)(function*(){return yield I._withRetries(F=>ch(F,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,u.A)(function*(){const I=yield p._withRetries(Be=>{const nt=os(Be,!1).getAll();return new Rl(nt).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const F=[],X=new Set;if(0!==I.length)for(const{fbase_key:Be,value:nt}of I)X.add(Be),JSON.stringify(p.localCache[Be])!==JSON.stringify(nt)&&(p.notifyListeners(Be,nt),F.push(Be));for(const Be of Object.keys(p.localCache))p.localCache[Be]&&!X.has(Be)&&(p.notifyListeners(Be,null),F.push(Be));return F})()}notifyListeners(p,I){this.localCache[p]=I;const F=this.listeners[p];if(F)for(const X of Array.from(F))X(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,u.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Ht=1e12;class yt{constructor(f){this.auth=f,this.counter=Ht,this._widgets=new Map}render(f,p){const I=this.counter;return this._widgets.set(I,new Cn(f,this.auth.name,p||{})),this.counter++,I}reset(f){var p;const I=f||Ht;null===(p=this._widgets.get(I))||void 0===p||p.delete(),this._widgets.delete(I)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Ht))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,u.A)(function*(){var I;return null===(I=p._widgets.get(f||Ht))||void 0===I||I.execute(),""})()}}class Cn{constructor(f,p,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const F="string"==typeof f?document.getElementById(f):f;z(F,"argument-error",{appName:p}),this.container=F,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pr(v){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)f.push(p.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pi=yn("rcb"),zr=new Ee(3e4,6e4);class Jr{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=fi().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return z(function Wo(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&gt(fi().grecaptcha)?Promise.resolve(fi().grecaptcha):new Promise((I,F)=>{const X=fi().setTimeout(()=>{F(Ne(f,"network-request-failed"))},zr.get());fi()[pi]=()=>{fi().clearTimeout(X),delete fi()[pi];const nt=fi().grecaptcha;if(!nt||!gt(nt))return void F(Ne(f,"internal-error"));const Nt=nt.render;nt.render=(mn,An)=>{const gn=Nt(mn,An);return this.counter++,gn},this.hostLanguage=p,I(nt)},rt(`${function Pt(){return H.recaptchaV2Script}()}?${(0,j.Am)({onload:pi,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(X),F(Ne(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=fi().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ks{load(f){return(0,u.A)(function*(){return new yt(f)})()}clearedOneInstance(){}}const Na="recaptcha",Gi={theme:"light",type:"image"};class ll{constructor(f,p,I=Object.assign({},Gi)){this.parameters=I,this.type=Na,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=he(f),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const F="string"==typeof p?document.getElementById(p):p;z(F,this.auth,"argument-error"),this.container=F,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ks:new Jr,this.validateStartingState()}verify(){var f=this;return(0,u.A)(function*(){f.assertNotDestroyed();const p=yield f.render(),I=f.getAssertedRecaptcha();return I.getResponse(p)||new Promise(X=>{const Be=nt=>{nt&&(f.tokenChangeListeners.delete(Be),X(nt))};f.tokenChangeListeners.add(Be),f.isInvisible&&I.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(I=>I(p)),"function"==typeof f)f(p);else if("string"==typeof f){const I=fi()[f];"function"==typeof I&&I(p)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.A)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const I=document.createElement("div");p.appendChild(I),p=I}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.A)(function*(){z(Mt()&&!Fn(),f.auth,"internal-error"),yield function ec(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function Zt(v){return Nn.apply(this,arguments)}(f.auth);z(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class po{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=eo._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function hu(){return(hu=(0,u.A)(function*(v,f,p){if((0,oe._isFirebaseServerApp)(v.app))return Promise.reject(J(v));const I=he(v),F=yield id(I,f,(0,j.Ku)(p));return new po(F,X=>Ps(I,X))})).apply(this,arguments)}function nd(){return(nd=(0,u.A)(function*(v,f,p){const I=(0,j.Ku)(v);yield Ft(!1,I,"phone");const F=yield id(I.auth,f,(0,j.Ku)(p));return new po(F,X=>Tl(I,X))})).apply(this,arguments)}function rd(){return(rd=(0,u.A)(function*(v,f,p){const I=(0,j.Ku)(v);if((0,oe._isFirebaseServerApp)(I.auth.app))return Promise.reject(J(I.auth));const F=yield id(I.auth,f,(0,j.Ku)(p));return new po(F,X=>bl(I,X))})).apply(this,arguments)}function id(v,f,p){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,u.A)(function*(v,f,p){var I;const F=yield p.verify();try{let X;if(z("string"==typeof F,v,"argument-error"),z(p.type===Na,v,"argument-error"),X="string"==typeof f?{phoneNumber:f}:f,"session"in X){const Be=X.session;if("phoneNumber"in X)return z("enroll"===Be.type,v,"internal-error"),(yield function ni(v,f){return pt(v,"POST","/v2/accounts/mfaEnrollment:start",me(v,f))}(v,{idToken:Be.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:F}})).phoneSessionInfo.sessionInfo;{z("signin"===Be.type,v,"internal-error");const nt=(null===(I=X.multiFactorHint)||void 0===I?void 0:I.uid)||X.multiFactorUid;return z(nt,v,"missing-multi-factor-info"),(yield function T(v,f){return pt(v,"POST","/v2/accounts/mfaSignIn:start",me(v,f))}(v,{mfaPendingCredential:Be.credential,mfaEnrollmentId:nt,phoneSignInInfo:{recaptchaToken:F}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Be}=yield function _o(v,f){return Jo.apply(this,arguments)}(v,{phoneNumber:X.phoneNumber,recaptchaToken:F});return Be}}finally{p._reset()}}),Vf.apply(this,arguments)}function tc(){return(tc=(0,u.A)(function*(v,f){const p=(0,j.Ku)(v);if((0,oe._isFirebaseServerApp)(p.auth.app))return Promise.reject(J(p.auth));yield V(p,f)})).apply(this,arguments)}let Oa=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=he(p)}verifyPhoneNumber(p,I){return id(this.auth,p,(0,j.Ku)(I))}static credential(p,I){return eo._fromVerification(p,I)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:I,temporaryProof:F}=p;return I&&F?eo._fromTokenResponse(I,F):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Xi(v,f){return f?er(f):(z(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class dh extends rr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Li(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Li(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Li(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function nc(v){return Bo(v.auth,new dh(v),v.bypassAuthState)}function fu(v){const{auth:f,user:p}=v;return z(p,f,"internal-error"),Jn(p,new dh(v),v.bypassAuthState)}function Cs(v){return hh.apply(this,arguments)}function hh(){return(hh=(0,u.A)(function*(v){const{auth:f,user:p}=v;return z(p,f,"internal-error"),V(p,new dh(v),v.bypassAuthState)})).apply(this,arguments)}class od{constructor(f,p,I,F,X=!1){this.auth=f,this.resolver=I,this.user=F,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,u.A)(function*(I,F){f.pendingPromise={resolve:I,reject:F};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(X){f.reject(X)}});return function(I,F){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,u.A)(function*(){const{urlResponse:I,sessionId:F,postBody:X,tenantId:Be,error:nt,type:Nt}=f;if(nt)return void p.reject(nt);const mn={auth:p.auth,requestUri:I,sessionId:F,tenantId:Be||void 0,postBody:X||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Nt)(mn))}catch(An){p.reject(An)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return nc;case"linkViaPopup":case"linkViaRedirect":return Cs;case"reauthViaPopup":case"reauthViaRedirect":return fu;default:Ve(this.auth,"internal-error")}}resolve(f){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lf=new Ee(2e3,1e4);function rc(){return(rc=(0,u.A)(function*(v,f,p){if((0,oe._isFirebaseServerApp)(v.app))return Promise.reject(Ne(v,"operation-not-supported-in-this-environment"));const I=he(v);K(v,f,Mo);const F=Xi(I,p);return new Ri(I,"signInViaPopup",f,F).executeNotNull()})).apply(this,arguments)}function ic(){return(ic=(0,u.A)(function*(v,f,p){const I=(0,j.Ku)(v);if((0,oe._isFirebaseServerApp)(I.auth.app))return Promise.reject(Ne(I.auth,"operation-not-supported-in-this-environment"));K(I.auth,f,Mo);const F=Xi(I.auth,p);return new Ri(I.auth,"reauthViaPopup",f,F,I).executeNotNull()})).apply(this,arguments)}function Ml(){return(Ml=(0,u.A)(function*(v,f,p){const I=(0,j.Ku)(v);K(I.auth,f,Mo);const F=Xi(I.auth,p);return new Ri(I.auth,"linkViaPopup",f,F,I).executeNotNull()})).apply(this,arguments)}let Ri=(()=>{class v extends od{constructor(p,I,F,X,Be){super(p,I,X,Be),this.provider=F,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,u.A)(function*(){const I=yield p.execute();return z(I,p.auth,"internal-error"),I})()}onExecution(){var p=this;return(0,u.A)(function*(){Le(1===p.filter.length,"Popup operations only handle one event");const I=jn();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],I),p.authWindow.associatedEvent=I,p.resolver._originValidation(p.auth).catch(F=>{p.reject(F)}),p.resolver._isIframeWebStorageSupported(p.auth,F=>{F||p.reject(Ne(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var I,F;this.pollId=null!==(F=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==F&&F.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Lf.get())};p()}}return v.currentPopupAction=null,v})();const oc="pendingRedirect",ss=new Map;class ul extends od{constructor(f,p,I=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,u.A)(function*(){let I=ss.get(p.auth._key());if(!I){try{const X=(yield function Tn(v,f){return Pl.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;I=()=>Promise.resolve(X)}catch(F){I=()=>Promise.reject(F)}ss.set(p.auth._key(),I)}return p.bypassAuthState||ss.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,I=this;return(0,u.A)(function*(){if("signInViaRedirect"===f.type)return p().call(I,f);if("unknown"!==f.type){if(f.eventId){const F=yield I.auth._redirectUserForId(f.eventId);if(F)return I.user=F,p().call(I,f);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,u.A)(function*(){})()}cleanUp(){}}function Pl(){return(Pl=(0,u.A)(function*(v,f){const p=dl(f),I=xo(v);if(!(yield I._isAvailable()))return!1;const F="true"===(yield I._get(p));return yield I._remove(p),F})).apply(this,arguments)}function go(v,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.A)(function*(v,f){return xo(v)._set(dl(f),"true")})).apply(this,arguments)}function cl(v,f){ss.set(v._key(),f)}function xo(v){return er(v._redirectPersistence)}function dl(v){return dn(oc,v.config.apiKey,v.name)}function xg(v,f,p){return function io(v,f,p){return ph.apply(this,arguments)}(v,f,p)}function ph(){return(ph=(0,u.A)(function*(v,f,p){if((0,oe._isFirebaseServerApp)(v.app))return Promise.reject(J(v));const I=he(v);K(v,f,Mo),yield I._initializationPromise;const F=Xi(I,p);return yield go(F,I),F._openRedirect(I,f,"signInViaRedirect")})).apply(this,arguments)}function ka(v,f,p){return function zi(v,f,p){return wt.apply(this,arguments)}(v,f,p)}function wt(){return(wt=(0,u.A)(function*(v,f,p){const I=(0,j.Ku)(v);if(K(I.auth,f,Mo),(0,oe._isFirebaseServerApp)(I.auth.app))return Promise.reject(J(I.auth));yield I.auth._initializationPromise;const F=Xi(I.auth,p);yield go(F,I.auth);const X=yield Zs(I);return F._openRedirect(I.auth,f,"reauthViaRedirect",X)})).apply(this,arguments)}function Nr(v,f,p){return function sc(v,f,p){return hl.apply(this,arguments)}(v,f,p)}function hl(){return(hl=(0,u.A)(function*(v,f,p){const I=(0,j.Ku)(v);K(I.auth,f,Mo),yield I.auth._initializationPromise;const F=Xi(I.auth,p);yield Ft(!1,I,f.providerId),yield go(F,I.auth);const X=yield Zs(I);return F._openRedirect(I.auth,f,"linkViaRedirect",X)})).apply(this,arguments)}function Ys(){return(Ys=(0,u.A)(function*(v,f){return yield he(v)._initializationPromise,Ko(v,f,!1)})).apply(this,arguments)}function Ko(v,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,u.A)(function*(v,f,p=!1){if((0,oe._isFirebaseServerApp)(v.app))return Promise.reject(J(v));const I=he(v),F=Xi(I,f),Be=yield new ul(I,F,p).execute();return Be&&!p&&(delete Be.user._redirectEventId,yield I._persistUserIfCurrent(Be.user),yield I._setRedirectUser(null,f)),Be})).apply(this,arguments)}function Zs(v){return as.apply(this,arguments)}function as(){return(as=(0,u.A)(function*(v){const f=jn(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class fl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(f,I)&&(p=!0,this.sendToConsumer(f,I),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Js(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qi(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var I;if(f.error&&!Qi(f)){const F=(null===(I=f.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(Ne(this.auth,F))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const I=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&I}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sd(f))}saveEventToCache(f){this.cachedEventUids.add(sd(f)),this.lastProcessedEventTime=Date.now()}}function sd(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function Qi({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===(null==f?void 0:f.code)}function pu(v){return oo.apply(this,arguments)}function oo(){return(oo=(0,u.A)(function*(v,f={}){return pt(v,"GET","/v1/projects",f)})).apply(this,arguments)}const ea=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lc=/^https?/;function ad(){return(ad=(0,u.A)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield pu(v);for(const p of f)try{if(ld(p))return}catch{}Ve(v,"unauthorized-domain")})).apply(this,arguments)}function ld(v){const f=ot(),{protocol:p,hostname:I}=new URL(f);if(v.startsWith("chrome-extension://")){const Be=new URL(v);return""===Be.hostname&&""===I?"chrome-extension:"===p&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&Be.hostname===I}if(!lc.test(p))return!1;if(ea.test(v))return I===v;const F=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(I)}const xl=new Ee(3e4,6e4);function uc(){const v=fi().___jsl;if(null!=v&&v.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Nl=null;const vh=new Ee(5e3,15e3),so="__/auth/iframe",_h="emulator/auth/iframe",Ci={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yh(v){const f=v.config;z(f.authDomain,v,"auth-domain-config-required");const p=f.emulator?fe(f,_h):`https://${v.config.authDomain}/${so}`,I={apiKey:f.apiKey,appName:v.name,v:oe.SDK_VERSION},F=Fa.get(v.config.apiHost);F&&(I.eid=F);const X=v._getFrameworks();return X.length&&(I.fw=X.join(",")),`${p}?${(0,j.Am)(I).slice(1)}`}function Ol(){return Ol=(0,u.A)(function*(v){const f=yield function $f(v){return Nl=Nl||function mh(v){return new Promise((f,p)=>{var I,F,X;function Be(){uc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{uc(),p(Ne(v,"network-request-failed"))},timeout:xl.get()})}if(null!==(F=null===(I=fi().gapi)||void 0===I?void 0:I.iframes)&&void 0!==F&&F.Iframe)f(gapi.iframes.getContext());else{if(null===(X=fi().gapi)||void 0===X||!X.load){const nt=yn("iframefcb");return fi()[nt]=()=>{gapi.load?Be():p(Ne(v,"network-request-failed"))},rt(`${function sn(){return H.gapiScript}()}?onload=${nt}`).catch(Nt=>p(Nt))}Be()}}).catch(f=>{throw Nl=null,f})}(v),Nl}(v),p=fi().gapi;return z(p,v,"internal-error"),f.open({where:document.body,url:yh(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ci,dontclear:!0},I=>new Promise(function(){var F=(0,u.A)(function*(X,Be){yield I.restyle({setHideOnLeave:!1});const nt=Ne(v,"network-request-failed"),Nt=fi().setTimeout(()=>{Be(nt)},vh.get());function mn(){fi().clearTimeout(Nt),X(I)}I.ping(mn).then(mn,()=>{Be(nt)})});return function(X,Be){return F.apply(this,arguments)}}()))}),Ol.apply(this,arguments)}const No={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const dd="__/auth/handler",mu="emulator/auth/handler",ta=encodeURIComponent("fac");function hd(v,f,p,I,F,X){return vu.apply(this,arguments)}function vu(){return(vu=(0,u.A)(function*(v,f,p,I,F,X){z(v.config.authDomain,v,"auth-domain-config-required"),z(v.config.apiKey,v,"invalid-api-key");const Be={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:I,v:oe.SDK_VERSION,eventId:F};if(f instanceof Mo){f.setDefaultLanguage(v.languageCode),Be.providerId=f.providerId||"",(0,j.Im)(f.getCustomParameters())||(Be.customParameters=JSON.stringify(f.getCustomParameters()));for(const[An,gn]of Object.entries(X||{}))Be[An]=gn}if(f instanceof yi){const An=f.getScopes().filter(gn=>""!==gn);An.length>0&&(Be.scopes=An.join(","))}v.tenantId&&(Be.tid=v.tenantId);const nt=Be;for(const An of Object.keys(nt))void 0===nt[An]&&delete nt[An];const Nt=yield v._getAppCheckToken(),mn=Nt?`#${ta}=${encodeURIComponent(Nt)}`:"";return`${function fd({config:v}){return v.emulator?fe(v,mu):`https://${v.authDomain}/${dd}`}(v)}?${(0,j.Am)(nt).slice(1)}${mn}`})).apply(this,arguments)}const _u="webStorageSupport",Ch=class pd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ir,this._completeRedirectFn=Ko,this._overrideRedirectResult=cl}_openPopup(f,p,I,F){var X=this;return(0,u.A)(function*(){var Be;Le(null===(Be=X.eventManagers[f._key()])||void 0===Be?void 0:Be.manager,"_initialize() not called before _openPopup()");const nt=yield hd(f,p,I,ot(),F);return function Ih(v,f,p,I=500,F=600){const X=Math.max((window.screen.availHeight-F)/2,0).toString(),Be=Math.max((window.screen.availWidth-I)/2,0).toString();let nt="";const Nt=Object.assign(Object.assign({},No),{width:I.toString(),height:F.toString(),top:X,left:Be}),mn=(0,j.ZQ)().toLowerCase();p&&(nt=ki(mn)?"_blank":p),Br(mn)&&(f=f||"http://localhost",Nt.scrollbars="yes");const An=Object.entries(Nt).reduce((gi,[Zr,zl])=>`${gi}${Zr}=${zl},`,"");if(function Tt(v=(0,j.ZQ)()){var f;return ut(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(mn)&&"_self"!==nt)return function Eh(v,f){const p=document.createElement("a");p.href=v,p.target=f;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(f||"",nt),new cd(null);const gn=window.open(f||"",nt,An);z(gn,v,"popup-blocked");try{gn.focus()}catch{}return new cd(gn)}(f,nt,jn())})()}_openRedirect(f,p,I,F){var X=this;return(0,u.A)(function*(){return yield X._originValidation(f),function Cr(v){fi().location.href=v}(yield hd(f,p,I,ot(),F)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:F,promise:X}=this.eventManagers[p];return F?Promise.resolve(F):(Le(X,"If manager is not set, promise should be"),X)}const I=this.initAndGetManager(f);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(f){var p=this;return(0,u.A)(function*(){const I=yield function ud(v){return Ol.apply(this,arguments)}(f),F=new fl(f);return I.register("authEvent",X=>(z(null==X?void 0:X.authEvent,f,"invalid-auth-event"),{status:F.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:F},p.iframes[f._key()]=I,F})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(_u,{type:_u},F=>{var X;const Be=null===(X=null==F?void 0:F[0])||void 0===X?void 0:X[_u];void 0!==Be&&p(!!Be),Ve(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function gh(v){return ad.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Dn()||Pi()||ut()}};class gd{constructor(f){this.factorId=f}_process(f,p,I){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,I);case"signin":return this._finalizeSignIn(f,p.credential);default:return je("unexpected MultiFactorSessionType")}}}class Dh extends gd{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Dh(f)}_finalizeEnroll(f,p,I){return function hn(v,f){return pt(v,"POST","/v2/accounts/mfaEnrollment:finalize",me(v,f))}(f,{idToken:p,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function M(v,f){return pt(v,"POST","/v2/accounts/mfaSignIn:finalize",me(v,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yu=(()=>{class v{constructor(){}static assertion(p){return Dh._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var dc="@firebase/auth";class Ng{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,u.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(I=>{f((null==I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);p&&(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Va(){return window}(0,j.XA)("authIdTokenMaxAge"),function pe(v){H=v}({loadJS:v=>new Promise((f,p)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=f,I.onerror=F=>{const X=Ne("internal-error");X.customData=F,p(X)},I.type="text/javascript",I.charset="UTF-8",function ls(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function na(v){(0,oe._registerComponent)(new ie.uA("auth",(f,{options:p})=>{const I=f.getProvider("app").getImmediate(),F=f.getProvider("heartbeat"),X=f.getProvider("app-check-internal"),{apiKey:Be,authDomain:nt}=I.options;z(Be&&!Be.includes(":"),"invalid-api-key",{appName:I.name});const Nt={apiKey:Be,authDomain:nt,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Un(v)},mn=new mo(I,F,X,Nt);return function Lt(v,f){const p=(null==f?void 0:f.persistence)||[],I=(Array.isArray(p)?p:[p]).map(er);null!=f&&f.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(I,null==f?void 0:f.popupRedirectResolver)}(mn,p),mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,I)=>{f.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new ie.uA("auth-internal",f=>{const p=he(f.getProvider("auth").getImmediate());return new Ng(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(dc,"1.7.1",function Og(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(v)),(0,oe.registerVersion)(dc,"1.7.1","esm2017")}("Browser");function Oo(){return Oo=(0,u.A)(function*(v,f,p){var I;const{BuildInfo:F}=Va();Le(f.sessionId,"AuthEvent did not contain a session ID");const X=yield function La(v){return yd.apply(this,arguments)}(f.sessionId),Be={};return ut()?Be.ibi=F.packageName:Yn()?Be.apn=F.packageName:Ve(v,"operation-not-supported-in-this-environment"),F.displayName&&(Be.appDisplayName=F.displayName),Be.sessionId=X,hd(v,p,f.type,void 0,null!==(I=f.eventId)&&void 0!==I?I:void 0,Be)}),Oo.apply(this,arguments)}function ra(){return(ra=(0,u.A)(function*(v){const{BuildInfo:f}=Va(),p={};ut()?p.iosBundleId=f.packageName:Yn()?p.androidPackageName=f.packageName:Ve(v,"operation-not-supported-in-this-environment"),yield pu(v,p)})).apply(this,arguments)}function Vl(){return(Vl=(0,u.A)(function*(v,f,p){const{cordova:I}=Va();let F=()=>{};try{yield new Promise((X,Be)=>{let nt=null;function Nt(){var gn;X();const gi=null===(gn=I.plugins.browsertab)||void 0===gn?void 0:gn.close;"function"==typeof gi&&gi(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function mn(){nt||(nt=window.setTimeout(()=>{Be(Ne(v,"redirect-cancelled-by-user"))},2e3))}function An(){"visible"===(null==document?void 0:document.visibilityState)&&mn()}f.addPassiveListener(Nt),document.addEventListener("resume",mn,!1),Yn()&&document.addEventListener("visibilitychange",An,!1),F=()=>{f.removePassiveListener(Nt),document.removeEventListener("resume",mn,!1),document.removeEventListener("visibilitychange",An,!1),nt&&window.clearTimeout(nt)}})}finally{F()}})).apply(this,arguments)}function yd(){return(yd=(0,u.A)(function*(v){const f=function Xo(v){if(Le(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),p=new Uint8Array(f);for(let I=0;I<v.length;I++)p[I]=v.charCodeAt(I);return p}(v),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(F=>F.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Cu extends fl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.A)(function*(){yield f.initPromise})()}}function Ua(v){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,u.A)(function*(v){const f=yield gr()._get(vl(v));return f&&(yield gr()._remove(vl(v))),f})).apply(this,arguments)}function zf(){const v=[];for(let p=0;p<20;p++){const I=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return v.join("")}function gr(){return er(Is)}function vl(v){return dn("authEvent",v.config.apiKey,v.name)}function Du(v){if(null==v||!v.includes("?"))return{};const[f,...p]=v.split("?");return(0,j.I9)(p.join("?"))}const Kf=class Ed{constructor(){this._redirectPersistence=ir,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ko,this._overrideRedirectResult=cl}_initialize(f){var p=this;return(0,u.A)(function*(){const I=f._key();let F=p.eventManagers.get(I);return F||(F=new Cu(f),p.eventManagers.set(I,F),p.attachCallbackListeners(f,F)),F})()}_openPopup(f){Ve(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,I,F){var X=this;return(0,u.A)(function*(){!function Th(v){var f,p,I,F,X,Be,nt,Nt,mn,An;const gn=Va();z("function"==typeof(null===(f=null==gn?void 0:gn.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(typeof(null===(p=null==gn?void 0:gn.BuildInfo)||void 0===p?void 0:p.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(X=null===(F=null===(I=null==gn?void 0:gn.cordova)||void 0===I?void 0:I.plugins)||void 0===F?void 0:F.browsertab)||void 0===X?void 0:X.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(Nt=null===(nt=null===(Be=null==gn?void 0:gn.cordova)||void 0===Be?void 0:Be.plugins)||void 0===nt?void 0:nt.browsertab)||void 0===Nt?void 0:Nt.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(An=null===(mn=null==gn?void 0:gn.cordova)||void 0===mn?void 0:mn.InAppBrowser)||void 0===An?void 0:An.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Be=yield X._initialize(f);yield Be.initialized(),Be.resetRedirect(),function Bf(){ss.clear()}(),yield X._originValidation(f);const nt=function Hf(v,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:zf(),postBody:null,tenantId:v.tenantId,error:Ne(v,"no-auth-event")}}(f,I,F);yield function Ds(v,f){return gr()._set(vl(v),f)}(f,nt);const Nt=yield function _d(v,f,p){return Oo.apply(this,arguments)}(f,nt,p),mn=yield function Fl(v){const{cordova:f}=Va();return new Promise(p=>{f.plugins.browsertab.isAvailable(I=>{let F=null;I?f.plugins.browsertab.openUrl(v):F=f.InAppBrowser.open(v,function tt(v=(0,j.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),p(F)})})}(Nt);return function Ah(v,f,p){return Vl.apply(this,arguments)}(f,Be,mn)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function jf(v){return ra.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:I,handleOpenURL:F,BuildInfo:X}=Va(),Be=setTimeout((0,u.A)(function*(){yield Ua(f),p.onEvent(pc())}),500),nt=function(){var An=(0,u.A)(function*(gn){clearTimeout(Be);const gi=yield Ua(f);let Zr=null;gi&&null!=gn&&gn.url&&(Zr=function Gf(v,f){var p,I;const F=function Wf(v){const f=Du(v),p=f.link?decodeURIComponent(f.link):void 0,I=Du(p).link,F=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Du(F).link||F||I||p||v}(f);if(F.includes("/__/auth/callback")){const X=Du(F),Be=X.firebaseError?function Yi(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(X.firebaseError)):null,nt=null===(I=null===(p=null==Be?void 0:Be.code)||void 0===p?void 0:p.split("auth/"))||void 0===I?void 0:I[1],Nt=nt?Ne(nt):null;return Nt?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Nt,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:F,postBody:null}}return null}(gi,gn.url)),p.onEvent(Zr||pc())});return function(gi){return An.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,nt);const Nt=F,mn=`${X.packageName.toLowerCase()}://`;Va().handleOpenURL=function(){var An=(0,u.A)(function*(gn){if(gn.toLowerCase().startsWith(mn)&&nt({url:gn}),"function"==typeof Nt)try{Nt(gn)}catch(gi){console.error(gi)}});return function(gn){return An.apply(this,arguments)}}()}};function pc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ne("no-auth-event")}}function Fs(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Bl(v=(0,j.ZQ)()){return!("file:"!==Fs()&&"ionic:"!==Fs()&&"capacitor:"!==Fs()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zf(){try{const v=self.localStorage,f=jn();if(v)return v.setItem(f,"1"),v.removeItem(f),!function Yf(v=(0,j.ZQ)()){return function bh(){return(0,j.lT)()&&11===(null==document?void 0:document.documentMode)}()||function mc(v=(0,j.ZQ)()){return/Edge\/\d+/.test(v)}(v)}()||(0,j.zW)()}catch{return Di()&&(0,j.zW)()}return!1}function Di(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vc(){return(function Xf(){return"http:"===Fs()||"https:"===Fs()}()||(0,j.sr)()||Bl())&&!function Qf(){return(0,j.lV)()||(0,j.Ll)()}()&&Zf()&&!Di()}function Au(){return Bl()&&typeof document<"u"}function Qo(){return(Qo=(0,u.A)(function*(){return!!Au()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const us={LOCAL:"local",NONE:"none",SESSION:"session"},_c=z,$a="persistence";function yc(v){return ja.apply(this,arguments)}function ja(){return(ja=(0,u.A)(function*(v){yield v._initializationPromise;const f=$l(),p=dn($a,v.config.apiKey,v.name);f&&f.setItem(p,v._getPersistence())})).apply(this,arguments)}function $l(){var v;try{return(null===(v=function Cd(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Dd=z;class Ha{constructor(){this.browserResolver=er(Ch),this.cordovaResolver=er(Kf),this.underlyingResolver=null,this._redirectPersistence=ir,this._completeRedirectFn=Ko,this._overrideRedirectResult=cl}_initialize(f){var p=this;return(0,u.A)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,I,F){var X=this;return(0,u.A)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openPopup(f,p,I,F)})()}_openRedirect(f,p,I,F){var X=this;return(0,u.A)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openRedirect(f,p,I,F)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Au()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.A)(function*(){if(f.underlyingResolver)return;const p=yield function Sh(){return Qo.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function Rh(v){return v.unwrap()}function Nv(v){return Zi(v)}function Zi(v){const{_tokenResponse:f}=v instanceof j.g?v.customData:v;if(!f)return null;if(!(v instanceof j.g)&&"temporaryProof"in f&&"phoneNumber"in f)return Oa.credentialFromResult(v);const p=f.providerId;if(!p||p===$e.PASSWORD)return null;let I;switch(p){case $e.GOOGLE:I=sa;break;case $e.FACEBOOK:I=ns;break;case $e.GITHUB:I=Ms;break;case $e.TWITTER:I=Bs;break;default:const{oauthIdToken:F,oauthAccessToken:X,oauthTokenSecret:Be,pendingToken:nt,nonce:Nt}=f;return X||Be||F||nt?nt?p.startsWith("saml.")?Lo._create(p,nt):Ki._fromParams({providerId:p,signInMethod:p,pendingToken:nt,idToken:F,accessToken:X}):new Ar(p).credential({idToken:F,accessToken:X,rawNonce:Nt}):null}return v instanceof j.g?I.credentialFromError(v):I.credentialFromResult(v)}function lr(v,f){return f.catch(p=>{throw p instanceof j.g&&function Ov(v,f){var p;const I=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null==f?void 0:f.code))f.resolver=new Ad(v,function Ei(v,f){var p;const I=(0,j.Ku)(v),F=f;return z(f.customData.operationType,I,"argument-error"),z(null===(p=F.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,I,"argument-error"),Tr._fromError(I,F)}(v,f));else if(I){const F=Zi(f),X=f;F&&(X.credential=F,X.tenantId=I.tenantId||void 0,X.email=I.email||void 0,X.phoneNumber=I.phoneNumber||void 0)}}(v,p),p}).then(p=>{const F=p.user;return{operationType:p.operationType,credential:Nv(p),additionalUserInfo:At(p),user:Vs.getOrCreate(F)}})}function _l(v,f){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,u.A)(function*(v,f){const p=yield f;return{verificationId:p.verificationId,confirm:I=>lr(v,p.confirm(I))}})).apply(this,arguments)}class Ad{constructor(f,p){this.resolver=p,this.auth=function ep(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return lr(Rh(this.auth),this.resolver.resolveSignIn(f))}}class Vs{constructor(f){this._delegate=f,this.multiFactor=function ar(v){const f=(0,j.Ku)(v);return Vt.has(f)||Vt.set(f,Dt._fromUser(f)),Vt.get(f)}(f)}static getOrCreate(f){return Vs.USER_MAP.has(f)||Vs.USER_MAP.set(f,new Vs(f)),Vs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,u.A)(function*(){return lr(p.auth,Tl(p._delegate,f))})()}linkWithPhoneNumber(f,p){var I=this;return(0,u.A)(function*(){return _l(I.auth,function Qs(v,f,p){return nd.apply(this,arguments)}(I._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,u.A)(function*(){return lr(p.auth,function fh(v,f,p){return Ml.apply(this,arguments)}(p._delegate,f,Ha))})()}linkWithRedirect(f){var p=this;return(0,u.A)(function*(){return yield yc(he(p.auth)),Nr(p._delegate,f,Ha)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,u.A)(function*(){return lr(p.auth,bl(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return _l(this.auth,function Ff(v,f,p){return rd.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return lr(this.auth,function Uf(v,f,p){return ic.apply(this,arguments)}(this._delegate,f,Ha))}reauthenticateWithRedirect(f){var p=this;return(0,u.A)(function*(){return yield yc(he(p.auth)),ka(p._delegate,f,Ha)})()}sendEmailVerification(f){return function Ws(v,f){return Co.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,u.A)(function*(){return yield function R(v,f){return Z.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function Go(v,f){const p=(0,j.Ku)(v);return(0,oe._isFirebaseServerApp)(p.auth.app)?Promise.reject(J(p.auth)):zo(p,f,null)}(this._delegate,f)}updatePassword(f){return function ji(v,f){return zo((0,j.Ku)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function di(v,f){return tc.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ha(v,f){return Po.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function Sl(v,f,p){return Pa.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vs.USER_MAP=new WeakMap;const cs=z;let Mh=(()=>{class v{constructor(p,I){if(this.app=p,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:F}=p.options;cs(F,"invalid-api-key",{appName:p.name}),cs(F,"invalid-api-key",{appName:p.name});const X=typeof window<"u"?Ha:void 0;this._delegate=I.initialize({options:{persistence:jl(F,p.name),popupRedirectResolver:X}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,I){!function zt(v,f,p){const I=he(v);z(I._canInitEmulator,I,"emulator-config-failed"),z(/^https?:\/\//.test(f),I,"invalid-emulator-scheme");const F=!(null==p||!p.disableWarnings),X=Gt(f),{host:Be,port:nt}=function Wt(v){const f=Gt(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(I);if(F){const X=F[1];return{host:X,port:Ut(I.substr(X.length+1))}}{const[X,Be]=I.split(":");return{host:X,port:Ut(Be)}}}(f);I.config.emulator={url:`${X}//${Be}${null===nt?"":`:${nt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Be,port:nt,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function En(){function v(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,p,I)}applyActionCode(p){return function ba(v,f){return is.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return il(this._delegate,p)}confirmPasswordReset(p,I){return function lu(v,f,p){return ua.apply(this,arguments)}(this._delegate,p,I)}createUserWithEmailAndPassword(p,I){var F=this;return(0,u.A)(function*(){return lr(F._delegate,function Xu(v,f,p){return Ra.apply(this,arguments)}(F._delegate,p,I))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Fr(v,f){return Eo.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Qu(v,f){const p=ts.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,u.A)(function*(){cs(vc(),p._delegate,"operation-not-supported-in-this-environment");const I=yield function ai(v,f){return Ys.apply(this,arguments)}(p._delegate,Ha);return I?lr(p._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function qf(v,f){he(v)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,I,F){const{next:X,error:Be,complete:nt}=Ec(p,I,F);return this._delegate.onAuthStateChanged(X,Be,nt)}onIdTokenChanged(p,I,F){const{next:X,error:Be,complete:nt}=Ec(p,I,F);return this._delegate.onIdTokenChanged(X,Be,nt)}sendSignInLinkToEmail(p,I){return function Io(v,f,p){return jo.apply(this,arguments)}(this._delegate,p,I)}sendPasswordResetEmail(p,I){return function zs(v,f,p){return rl.apply(this,arguments)}(this._delegate,p,I||void 0)}setPersistence(p){var I=this;return(0,u.A)(function*(){let F;switch(function Do(v,f){_c(Object.values(us).includes(f),v,"invalid-persistence-type"),(0,j.lV)()?_c(f!==us.SESSION,v,"unsupported-persistence-type"):(0,j.Ll)()?_c(f===us.NONE,v,"unsupported-persistence-type"):Di()?_c(f===us.NONE||f===us.LOCAL&&(0,j.zW)(),v,"unsupported-persistence-type"):_c(f===us.NONE||Zf(),v,"unsupported-persistence-type")}(I._delegate,p),p){case us.SESSION:F=ir;break;case us.LOCAL:F=(yield er(D)._isAvailable())?D:Is;break;case us.NONE:F=Yr;break;default:return Ve("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(F)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return lr(this._delegate,function aa(v){return js.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return lr(this._delegate,Ps(this._delegate,p))}signInWithCustomToken(p){return lr(this._delegate,function nl(v,f){return vr.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,I){return lr(this._delegate,function ol(v,f,p){return(0,oe._isFirebaseServerApp)(v.app)?Promise.reject(J(v)):Ps((0,j.Ku)(v),lo.credential(f,p)).catch(function(){var I=(0,u.A)(function*(F){throw"auth/password-does-not-meet-requirements"===F.code&&ys(v),F});return function(F){return I.apply(this,arguments)}}())}(this._delegate,p,I))}signInWithEmailLink(p,I){return lr(this._delegate,function Ns(v,f,p){return Ma.apply(this,arguments)}(this._delegate,p,I))}signInWithPhoneNumber(p,I){return _l(this._delegate,function td(v,f,p){return hu.apply(this,arguments)}(this._delegate,p,I))}signInWithPopup(p){var I=this;return(0,u.A)(function*(){return cs(vc(),I._delegate,"operation-not-supported-in-this-environment"),lr(I._delegate,function _a(v,f,p){return rc.apply(this,arguments)}(I._delegate,p,Ha))})()}signInWithRedirect(p){var I=this;return(0,u.A)(function*(){return cs(vc(),I._delegate,"operation-not-supported-in-this-environment"),yield yc(I._delegate),xg(I._delegate,p,Ha)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Zc(v,f){return Sa.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=us,v})();function Ec(v,f,p){let I=v;"function"!=typeof v&&({next:I,error:f,complete:p}=v);const F=I;return{next:Be=>F(Be&&Vs.getOrCreate(Be)),error:f,complete:p}}function jl(v,f){const p=function Jf(v,f){const p=$l();if(!p)return[];const I=dn($a,v,f);switch(p.getItem(I)){case us.NONE:return[Yr];case us.LOCAL:return[D,ir];case us.SESSION:return[ir];default:return[]}}(v,f);if(typeof self<"u"&&!p.includes(D)&&p.push(D),typeof window<"u")for(const I of[Is,ir])p.includes(I)||p.push(I);return p.includes(Yr)||p.push(Yr),p}class Hl{constructor(){this.providerId="phone",this._delegate=new Oa(Rh(G.A.auth()))}static credential(f,p){return Oa.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}Hl.PHONE_SIGN_IN_METHOD=Oa.PHONE_SIGN_IN_METHOD,Hl.PROVIDER_ID=Oa.PROVIDER_ID;const Tu=z;class wu{constructor(f,p,I=G.A.app()){var F;Tu(null===(F=I.options)||void 0===F?void 0:F.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new ll(I.auth(),f,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cc(v){v.INTERNAL.registerComponent(new ie.uA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),I=f.getProvider("auth");return new Mh(p,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:lo,FacebookAuthProvider:ns,GithubAuthProvider:Ms,GoogleAuthProvider:sa,OAuthProvider:Ar,SAMLAuthProvider:$i,PhoneAuthProvider:Hl,PhoneMultiFactorGenerator:yu,RecaptchaVerifier:wu,TwitterAuthProvider:Bs,Auth:Mh,AuthCredential:rr,Error:j.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.5.6")}(G.A)},467:(Qt,Je,O)=>{"use strict";function u(oe,j,Te,ce,ie,He,$e){try{var ge=oe[He]($e),le=ge.value}catch(ke){return void Te(ke)}ge.done?j(le):Promise.resolve(le).then(ce,ie)}function G(oe){return function(){var j=this,Te=arguments;return new Promise(function(ce,ie){var He=oe.apply(j,Te);function $e(le){u(He,ce,ie,$e,ge,"next",le)}function ge(le){u(He,ce,ie,$e,ge,"throw",le)}$e(void 0)})}}O.d(Je,{A:()=>G})},9842:(Qt,Je,O)=>{"use strict";function u(Te){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(Te)}function j(Te,ce,ie){return(ce=function oe(Te){var ce=function G(Te,ce){if("object"!=u(Te)||!Te)return Te;var ie=Te[Symbol.toPrimitive];if(void 0!==ie){var He=ie.call(Te,ce||"default");if("object"!=u(He))return He;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ce?String:Number)(Te)}(Te,"string");return"symbol"==u(ce)?ce:String(ce)}(ce))in Te?Object.defineProperty(Te,ce,{value:ie,enumerable:!0,configurable:!0,writable:!0}):Te[ce]=ie,Te}O.d(Je,{A:()=>j})},1635:(Qt,Je,O)=>{"use strict";function j(Ee,fe){var ye={};for(var Re in Ee)Object.prototype.hasOwnProperty.call(Ee,Re)&&fe.indexOf(Re)<0&&(ye[Re]=Ee[Re]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(Re=Object.getOwnPropertySymbols(Ee);et<Re.length;et++)fe.indexOf(Re[et])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Re[et])&&(ye[Re[et]]=Ee[Re[et]])}return ye}function Te(Ee,fe,ye,Re){var pt,et=arguments.length,me=et<3?fe:null===Re?Re=Object.getOwnPropertyDescriptor(fe,ye):Re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)me=Reflect.decorate(Ee,fe,ye,Re);else for(var bt=Ee.length-1;bt>=0;bt--)(pt=Ee[bt])&&(me=(et<3?pt(me):et>3?pt(fe,ye,me):pt(fe,ye))||me);return et>3&&me&&Object.defineProperty(fe,ye,me),me}function ke(Ee,fe,ye,Re){return new(ye||(ye=Promise))(function(me,pt){function bt($t){try{_t(Re.next($t))}catch(Pn){pt(Pn)}}function xt($t){try{_t(Re.throw($t))}catch(Pn){pt(Pn)}}function _t($t){$t.done?me($t.value):function et(me){return me instanceof ye?me:new ye(function(pt){pt(me)})}($t.value).then(bt,xt)}_t((Re=Re.apply(Ee,fe||[])).next())})}function ae(Ee){return this instanceof ae?(this.v=Ee,this):new ae(Ee)}function Ve(Ee,fe,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Re=ye.apply(Ee,fe||[]),me=[];return et={},pt("next"),pt("throw"),pt("return"),et[Symbol.asyncIterator]=function(){return this},et;function pt(nn){Re[nn]&&(et[nn]=function(vn){return new Promise(function(on,Ct){me.push([nn,vn,on,Ct])>1||bt(nn,vn)})})}function bt(nn,vn){try{!function xt(nn){nn.value instanceof ae?Promise.resolve(nn.value.v).then(_t,$t):Pn(me[0][2],nn)}(Re[nn](vn))}catch(on){Pn(me[0][3],on)}}function _t(nn){bt("next",nn)}function $t(nn){bt("throw",nn)}function Pn(nn,vn){nn(vn),me.shift(),me.length&&bt(me[0][0],me[0][1])}}function Xe(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,fe=Ee[Symbol.asyncIterator];return fe?fe.call(Ee):(Ee=function Ze(Ee){var fe="function"==typeof Symbol&&Symbol.iterator,ye=fe&&Ee[fe],Re=0;if(ye)return ye.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Re>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Re++],done:!Ee}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),ye={},Re("next"),Re("throw"),Re("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Re(me){ye[me]=Ee[me]&&function(pt){return new Promise(function(bt,xt){!function et(me,pt,bt,xt){Promise.resolve(xt).then(function(_t){me({value:_t,done:bt})},pt)}(bt,xt,(pt=Ee[me](pt)).done,pt.value)})}}}O.d(Je,{AQ:()=>Ve,Cg:()=>Te,N3:()=>ae,Tt:()=>j,sH:()=>ke,xN:()=>Xe}),"function"==typeof SuppressedError&&SuppressedError}},Qt=>{Qt(Qt.s=226)}]);